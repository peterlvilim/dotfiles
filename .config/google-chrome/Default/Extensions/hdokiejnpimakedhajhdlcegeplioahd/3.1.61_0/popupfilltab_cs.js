var g_content_check=!0,g_bodystyle_relative=!0,g_trial_bg_expt=!0,g_ignore_lp_cache=!1,g_stylesheet_grubbing=!0,g_use_wacky_disp=!0,g_input_click_intercept=!0,g_fixed_iframe_position=!1,g_force_fill_active_element=!1,g_create_iframe_in_top=!0,g_inframe=null,g_toplevel_iframe_exists=!1,g_detect_species=!1,False=!1,True=!0,pass=!0,LP_GETNAME_FAVOR_ID_OVER_NAME=!0,LP_GETNAME_FAVOR_NAME_OVER_ID=!1,g_popupfill_rows=0,g_popupfill_rows_FF=0,g_weasel_id=null,g_weaseled=!1,g_autofillsites={},g_popupfill_widest=
260,g_popupfill_max=1,g_popupfill_ctr=0,g_popupfill_parent=null,g_popupfill_parent_last=null,g_isadmin=!1,CLICKABLE_ICON_ZINDEX=2147483648,popup_show_sitename_suffix=!0,popup_show_menu_expand_visual_cue=!0,g_last_field_focused=null,g_minwidth_override=0,g_minheight_override=0,g_popupfill_iframe_width_save=0,g_popupfill_iframe_height_save=0,g_hide_navbar=!0,LPICON_HEIGHT=16,LPICON_WIDTH=16,g_double_password_hack=!1,g_double_secret_password_hack=!1,g_double_password_wtf=!1,g_popup_divs={},g_input_cnt=
-1,g_form_cnt=-1,g_input_fingerprint=null,g_keyboardNav=!1,g_more_close_on_cancel=!1,g_more_enable_return=!0,create_onerow_iframe=!0,do_autofill_if_matched=!1,do_popup_actions=!0,popup_actions_imgs={},g_frame_css_str="",g_ctr_getAbsPos=0,g_ctr_weasel=0,g_ctr_getzindex=0,g_ctr_getWW=0,g_ctr_nosetheight_A=0,g_ctr_setheight_A=0,g_ctr_setwidth_B=0,g_ctr_nosetwidth_B=0,g_ctr_setheight_C=0,g_ctr_nosetheight_C=0,g_ctr_setwidth_D=0,g_ctr_nosetwidth_D=0,g_ctr_settop_E=0,g_ctr_nosettop_E=0,g_ctr_settop_F=0,
g_ctr_nosettop_F=0,g_ctr_setleft_G=0,g_ctr_nosetleft_G=0,g_ctr_recheck=0,g_ctr_setposition_H=0,g_ctr_nosetposition_H=0,g_ctr_setzindex_J=0,g_ctr_nosetzindex_J=0,g_ctr_numspan_setzindex_K=0,g_ctr_numspan_nosetzindex_K=0,g_ctr_numspan_setzindex_L=0,g_ctr_numspan_nosetzindex_L=0,g_ctr_LP_measureText=0,g_ctr_LP_measureText_cachehits=0,g_ctr_LP_measureText_cachemisses=0,g_ctr_formcache_hits=0,g_ctr_formcache_misses=0,g_ctr_form_get_username_M=0,g_ctr_form_get_password_N=0,g_ctr_orphan_get_username_P=0,
g_ctr_orphan_get_password_Q=0,g_ctr_looksLikeUsername_R=0,g_ctr_mutation_observer=0,g_ctr_mutation_attribute_chg_S=0,g_ctr_mutation_attribute_chg_force_T=0,g_is_specialsite=null,g_nevers={},g_last_recheck=null,FORCE_OFFER_GENERATE=!0,NO_FORCE_GENERATE=!1,FORCE_SHOW_NOHITS=!0,NO_FORCE_NOHITS=!1,FORCE_SHOW_NOHITS_NOLOGIN=2,g_icon_shading=!1,g_do_icon_number_hint=!0,g_icon_hover=!0,g_icon_parent_hover=!0,g_icon_number_overrides={sites:-1,formfills:-1},g_icon_numbers={sites:0,formfills:0},g_visual_cue_on_hover=
!0,g_show_icon_only_on_focus=!1,g_show_save_success_msg=!0,g_save_suggest_msg=!1,g_creditcard_profile_annotate=!0,g_show_icon_number_for_formfills=!1,g_save_suggest_msg_seen=!1,g_change_icon_on_input=!0,g_savesitesuperbox=!0,g_dologin_clickable=!0,g_use_grey_icons=!0,FADE_MAXSTATES=100,g_aspx_hack=!0,g_found_aspx=!1,g_clickable_input=!0,g_clickable_input_on_password=!0,g_popup_active_username=null,g_popup_active_password=null,g_extended_kbd_nav=!1,g_iframe_scroll_hack=!0,g_frame_scrollable_set=!1,
g_defensive=!0,dotrans=!0,g_pw_ico="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABMUlEQVQ4T32SgVHDMAxF6QZ0AswELRuECcoGhAloJwAmACZomAA6QbMBZYKaDRih/+UkTvHF1d0/x/L317eU2cX5WNrxoUabTRwk5Z6EtjjrtH8RcsyXAlx6FS6FneCVcbIS/oSNgNgQUQDSt/Bj1UvbnHNxIdy4eBTolYQEsOkXKIQzBL0I3NvoIGlzFN6Ftbl71gqRaAT2xJvwKFwL2R1A2Jsql6hEL7JdSlp5Oy7uhE/nukCrxDYIUI1JxGAC5L3Yg7670sGQNGJNwMXpQR+byIjoAx3mCViN8aVNFpjUXGDUozG6srvgPJkYlwnc3Qv+nJEAhNZIfDcCzfoVeA4FcPZhvEFx6ld2IZpaxn9lP6gJUAnbV+aA6uzp0yhqApBoUmdrM+Hm7BMiP2mTawInofVEEf5J2pUAAAAASUVORK5CYII=",
pw_svg="";("undefined"==typeof g_isie||!g_isie)&&"function"==typeof getchromeurl?pw_svg=getchromeurl("images/generate16x16.png"):"undefined"!=typeof g_isie&&g_isie&&(pw_svg=g_pw_ico);
var g_ff_ico="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAvElEQVQ4T2NkoBAwIukXALL9gViBgJkPgPIbgfgDSB2yAQVAfj+RDioEqpuAbkADUKAeiB0JGLIfKN8IxCD1KC6AGYDsqgtANf+B2BDJUBCfaAM2QDUGkGMAcpjA/Qx1EVEugHkJZDlcA7EGgKJSHi0wHwL5D4g1wAGoEISRwQEgB4SJCkSQZns0Aw6SYgDICyCMDEDOJ8oL6E5HMwfsDayxQHFSBmUmUIJBdzq6C0DeWAATRE626AqJ4gMAKh82EQu8MAEAAAAASUVORK5CYII=",ff_svg="";
("undefined"==typeof g_isie||!g_isie)&&"function"==typeof getchromeurl?ff_svg=getchromeurl("images/formfill16x16.png"):"undefined"!=typeof g_isie&&g_isie&&(ff_svg=g_ff_ico);
var g_sites_dark_ico0="iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDhsdjWkOXwAAAKJJREFUOMtjYBi2QIGBgcEBiW8AxUSBAgYGhvcMDAz3kcQuMDAw/GdgYGhAV8yCwxABKE6A8vWh9ANiXXEAauN9KP4PFcMAjGj+loeyH6J5gQHqmgdI8hiuaYDaRAyGhwUTpdGF7gUFJPZ8NLWGSAH8gFCAwgIRpvA/AwPDfmJdFYDk1wQohvEL0BVjCwMDpJBeAMUPGRgYPlKSlB2Qwme4AQBDOy61dYCtFwAAAABJRU5ErkJggg==",g_sites_ico="data:image/png;base64,"+g_sites_dark_ico0,sites_svg="";
("undefined"==typeof g_isie||!g_isie)&&"function"==typeof getchromeurl?sites_svg=getchromeurl("images/sites16x16.png"):"undefined"!=typeof g_isie&&g_isie&&(sites_svg=g_sites_ico);
var g_close_ico="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAl0lEQVQ4T7VTgQ2AIAyTC/RD9QO9QLxAP1A/1A9sDZgFo0CQJctcWOs6hioSTRl8hVjDGUNsR9EG3y1Bh2QKQYqaHt+zJdBIhkiCEfU6G8HB9kRX/BtllqLLzw6uQ3hjAKvJpUyvhBYgAmkkWpwZ5SVIlsBF4RA5BxojhygXzSvBkfxI/yVIXmVq41XFPCZe8f2YfHpfz0+q7C4R/Q4GAgAAAABJRU5ErkJggg==",close_svg="";("undefined"==typeof g_isie||!g_isie)&&"function"==typeof getchromeurl?close_svg=getchromeurl("images/close16x16.png"):"undefined"!=typeof g_isie&&g_isie&&(close_svg=g_close_ico);
function getnumbericon(a,b,c,d){var e=0;if((a=getIconState(b.ownerDocument,LP_pickFieldName(a,b)))&&!("undefined"==typeof a.fillhintnumber||"sites"!=a.fillhint))e=a.fillhintnumber,isNaN(parseFloat(e))||!isFinite(e)?e=0:10<=e&&(e=9);"undefined"!=typeof d&&(e=0<=d&&9>=d?d:0);d=[g_sites_light_ico,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiEFu6xIcAAAAXhJREFUOMvNk8FLVFEUxn/ffRdmIAla1CbBFDGCpoiQWYlBLty7UHAvEq2HYLhveDMws2/TIly6E9SdIEj+AVYgRaTgXhe2C968x2nhTOjow8pNZ/ede/ide893Lvx3UavVhkMIk30dQqiGECpF9e68CCG8LpfL3yStAAIk6Z2kT3Ect68C+AGdSroFVEII82aWSXoGYGYHVwE0qOM43pU0BXw3s1zSI2AnSZKXhYB6vT7inLvd7XZ/eu8fOOe2JEW9zjkwZ2bHkoayLDtpt9ufLzzBe/8GWC6VSpc7nIE2pLPLeu/fA0uDQ3T/6pp6039uZnfN7Ieke1EUrQOu3/VawPloNBrbwIyZ7TvnLvg/+mKOJ3xk88NR4R4sADM92fp9MDRMdXaRxenHVMbuFy8SMAFkZval2Wyu9ZN3Hk4zWx0nAtKsWwxotVrNNE2f5nn+CrB+/nRvlSR5y2EK0TWbSKfT+fo3Lribfr4bA/yfl56y2kkuZX8BjXVyqMs8oFcAAAAASUVORK5CYII=",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiMeA//jHgAAAdRJREFUOMvNkz9oU1EUxn/nvkeSokgV2oIoNbVUi5Qgj+ogomAWB3GQEtFZUdE1COG+/IMEHLp2kI7FRdCCgxCQdhJFsSKCtIUMDoU42EEMvORxHPIiNSb+mzzbxz33+873nXvhv6tsNnvAWjvbxdbak9bamUH9Ziew1t5OJBIfRGQREEBEZEFE3vi+X+lH4PbgQER2ATPW2oyqtkXkOICqbvQjkF7s+/6qiJwG1lU1FJFp4FmxWDw3kCCXy40bY/a0Wq2m67qHjDFPRcSJlEPgkqo2RGR3u93+VKlU1n6w4LruXeBGPB7/WaFD9FikM6zruveB670hmn/dmkTpe6o6oqrbIjLqOM4jwHRVf0uws/L5fA1Iq+o7Y0y0/xip9AVOTO7j69YGteUVGlG/0/MOLotINoJ3RGQOIJm+RubUBHGFkfEpZqeHeP5qk7CP9ymgrarvS6XSw676kWNj0FyjOj/Pk3oAY/sZ7hdeuVwuBUGQCsPwFqDR2+LFgwWq95YZ9S5yPhkjqK9/t/DLlAqFgnanOHv1Jmcmh9neXGVxaYUvf7M+L9O53Pz4mtrLBodTSWID/kKf2svRiY7joYMec1c8COtsva3T+DOCzyxViwNPvwEMIZXdCan/PwAAAABJRU5ErkJggg==",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiIBl+zfqgAAAdJJREFUOMvNkj9oU2EUxX/3e4+X2AYtgoIotAUVlZSiVQKCOFgwQ50cKhUcg4qbEITwvfyTjEKnCqUgbqJooQgFRXAROoiiKFWHOsdiSw0UXvK4DkloGl+wOHm2c7ice++5F/47ZLPZQ9baM21urU1Za0d61ZtOYq29FY/Hl0VkDhBARGRGRN75vl+JMnC7eCAi/cCItXZSVRsichJAVb9FGUg3933/tYicA76qaigix4FXxWLxQk+DXC43aIzZXa/XN13XHTLGLIqI0+ocApdVtSoiiUaj8aNSqbzftoLruneA67FY7M8OTaN5keawruvOApnuEM2/Xk1a6Y+p6j5VXReR/Y7jPANMu+tfDTqRz+dfAOOq+tEY07q/x1j6EqeG9rLx/QPPF5eo9fiDK8B4i5bb+pGJDBOpJH3EOJZKk5kcjX4k4CjQUNVPpVLpSVNKMHjAY315nun7D1gJoS8WjzYol8ulIAhGwzC8CWhTrfFy9h7Tj1yy+dsMO7BarfbOoBOFQkHB40TqLLt+fubL6h4uXp0iObDCzN2HVCNeOQL9nE6fZzg4yMbcG3Caan3n91/j6eMlfnmHmbpxjeTAJm8XFljb+Qpb8BIeQS3YVvMbj7WWjTVB6I8AAAAASUVORK5CYII=",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiIqO1Am6gAAAb1JREFUOMvNkk1rU0EUhp8zd0gCrdKFNgiCFatiIYgUKdW6aikuhIJF6kJcdFFEXAclzM0XJH9A6EL8BSoqZlEQCl0GEQU/qApdiYouKmgUbu7luGgC+boUuvLdvcPMc86c88J/p2w2e9g5d7btnXNTzrlM3H3TaZxzt1Kp1KaI3AcEEBFZFZFXvu9XBgFsjw9EZAjIOOeWVDUUkTMAqvppEEB6ve/7GyJyAfioqpGInALWi8XibCwgl8sdMcbsbzabf621Y8aYNRHxWpUjYFFVv4vIcBiGPyqVyuuuL1hrbwM3kslkf4Ud0BORnWattfeAld4hmr1uTVrTn1TVg6r6U0RGPc97DJh21V0Bncrn88+BOVV9Y4zp2v/w0RkWzo2w8aDG52BwDq4Ccy1b7iInJrh2fZbx8QxjQzFBAk4Aoaq+K5VKDztec3H5MmkAIppxSSyXy6UgCE5HUXQT0Pb58UvLTB34Qm1tE4CwEZ9EqtXq++6TUaYn0xD9YuZ8Gkgwv7LA1t2nbA8C9OsPH16+peGFpA6dZGQfbH/9RiOug379pl57RB1ITCxy58oxXjyrE8StsVOFQkF3w/8DCTuL1wm1OYIAAAAASUVORK5CYII=",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiQbPNSBVgAAAdVJREFUOMvNks9r0nEYx1/Pxy9qzAIJXTWp7BCOMSJkC6KdtqMdIkZR4DEqOktDPooKCv0DBdEturSo2IIoKIQ6dBi5RmOsTrHTIjbIGqlfng4qbO4rRaee2/v9+fB6fsJ/F5lMJmatHetqa+0pa+1ov/9mu7DW3ggGgysicg8QQETktoi8z+VyZS+A06MbIjIAjFprL6hqS0ROAqjqJy+A9OpcLlcVkQlgVVVdERkGXhUKhcm+gGw2e8QYs6/ZbG45jnPUGPNcRHydzC5wXlXXRSTUarW+lsvl2o4WHMe5CVwNBAK7M7RBT0TaxTqOcxe40jtE869bk870k6oaUdVNEYn6fL7HgOlm/SNge+Tz+ZfAlKouGWPa+/fHSZ0bZ6DdAz8+V5l/t+Z5BxeBqY4sdf3Q8DjJRIKhSITI4BCx2KD3IQHHgZaqfiwWi7NdM3IwDHzjQ61GrfqQO48WvAGlUqnYaDROuK57HdCuHz0UBvYzdnqCyVSamfSZvpdIpVJZ7vVWXz/le/MLy2t1kukZUoePEeUN616A3RHm7OVp4j9XeHB/iZEDfnB/0fz7/W8wN7fA1t4El65NE9+zydvZZ2z0a8ETsTjPrcUXhEJ+6vX6jrffHVGXQ3t5OMYAAAAASUVORK5CYII=",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiUQsh1pnwAAAdhJREFUOMvNks1rU1EQxX9z37OJGAUF4yfYQBTUlCpBixhRaBcuAoIiiovsFBXXQQk3IYkkf4IF8S/QUjdCURELdlWjglSKunHhIukiQktLX/IYF0mkTRP8WDm7M/dyZuacA/9dpdPp/dbaEx1srR2x1g71+2/WAmvtnWAwOC8ijwABREQeiMj7bDZb6kXgdmFPRLYAQ9baK6raFJHjAKr6pReBdONsNjstImeAz6rqi8hh4FU+nx/tS5DJZA4YY7Y1Go0V13UHjTFTIuK0J/vAJVWtiUio2WwulEqlD+tOcF33LnAzEAhsnNAieirSWtZ13YfAjW4Rzb+6Jm3146q6U1V/iEjYcZxJwHSm/pZgbeVyuRfAmKp+NMb88v9g4gLnYntYXZhnauI1tT45uAqMtWGx0w8nUlwbPYazvMy+2FluXU/0DhJwCGiq6lyhUHjSaoU4dTICi1+ZfTvHbKXC9LvvDPQiKBaLBc/zhn3fvw1oq7uJkAtsjZK8mOR0PM7w4A68PkmkXC5/2qCUA1RnyI+/ZCR1j/Oxo4QnKtT+zL4636oe7IoQjxwhunsAVlZp/I3/byafU/X3kkxdJrp5kZnHz6j3O6H3EhXG71cIbQ+xVF9a9/QTGr2YJMqy6kMAAAAASUVORK5CYII=",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiYB84AargAAAa9JREFUOMvNk0FrU0EUhb87bzABiyhiC7XQKCq6CCJF3FhQ7E7BhYL+AhFxHYQwL7xEknUX0kUR3LhRQQsuxAahgkvRIpaiXYmrCiaCILzMcF0khTZ9z0JXnt2ZGb4799wZ+O9UqVQmnHNnN7xz7pxzrpx33mw2zrm7xWJxVUQeAgKIiMyJyIc4jptZADvkUxHZC5SdczdU1YvIGQBV/ZoFkGEfx/GSiEwDX1Q1iMgp4E2SJJdyAdVqddIYs6/X6/2x1paMMa9EJBpUDsA1VV0XkRHv/Y9ms/lxSwvW2nvA7UKhsL1CH/RCpH9Za+08cGs4RLPbqckg/SlVPaSqXREZjaLoOWA2qu4I2KxarbYIzKjqJ2NMGUY4f/Uyh4se7/td+1+rLLSXt4/ROXcTmBnYBvAE4GDpOCf3RwQgAgiWt+1lOhm9nwC8qn6u1+vP+ku/WZi9T5IkPHi5BqS8e/SUTlZ4jUajnqbp6RDCHUC3so9w/cox0rXXtL+nuS+RVqu1khXWxIWLjBNYWnyf/xf+pdLRMQjfWFlnN4ADTI7tge5Pujt8phx1eNxKMnf+AqjSjZJP5cFjAAAAAElFTkSuQmCC",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiYvL1YXYQAAActJREFUOMvNk71rU2EUxn/nvdckkCgWsYv1Y1EQWlMJUkWqQzsUdOtQ/4Jgi3NQwntvPiDZXQSDi7P4sRUqhYKTIhaMIjoIhSKNFDsExZt7OQ5NMI03VJx8tufh8Jz3nOe88N+hUCiMWWsv9Li1dspaOzGs3vQTa+2tVCr1QUQeAAKIiNwTkTee59XiDNwBHohIGpiw1i6oaigi5wFU9VOcgQxyz/PWRGQa+KiqkYicBVbL5fLMUINisXjSGHOo0+n8cF33lDFmWUScbucImFfVlohkwjD8WqvV1veM4LrubeBmMpn8s8Ou0VOR3ce6rtsA8oNLNP+amnS3n1PVo6q6IyKjjuM8AUyv674G/fB9fwWYVdW3xphu/hmmrl/j3NgIP780efzsBe0hd3ADmO3Sak/PzueZy52G7xHHJmdYWsjGHxJwBghV9V2lUnnUE1PpJOys03jY4NU2JNIH4w2q1WolCIJsFEVLgPb0zY0tOJzD930uH4Gtjc2hl0i9Xn+/Vxnh6qXjsP2au/dfciW/yOTFaUaff6b11/E5gJPkAB2iff5CDL6xttLkxNw4i3fGgYDm8iqtYTH2o1Qq6W+WIJNJELTbBH01vwC+YJMlVG88LQAAAABJRU5ErkJggg==",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDigO/bwqsQAAAfNJREFUOMvNkz1ok2EQx3/39umHmpZWMUVaUEEUpWlQ0QyiCDooFhwcFN2lgqhTEMKTDwsZCw4SQQNOLh20KBgQRZ0kIK2LlBaqtNKhfkRqbHnfvOEc0kCbD0Enb/vD8bu7/93BfxfRaLTfWnuoqq21EWttqFm+s1ZYa692dHRMiUgWEEBEJCMiE/F4PN0IYGq0JyKbgJC19ryq+iKyH0BVZxoBpFbH4/HXInIUmFbVsojsBV6mUqkTTQGxWGy74zhdpVJpxRizw3GcnIi0rFYuA+dUdVFEAr7vf0mn05PrRjDG3ASG29vb6ytUQI9FKs0aY+4Bl2tNdP51a7Lq/kFV3aqqP0QkaIwZ/yvA2kgkEs9F5CQEiAydYbC/i6VPeR7l3uM1ALTU3MEFEYmKCJFLNzg1sA186NsVZl/nAvnp738+JGA34EOQPTs3UP6YY/T2KC8WymwJHaYHgABDw9c5G+6pB4yMjNzyPC8My/zyoKVvkEj4OAO9lUZbAdjI5t5ugp2tzY1JJpOavv9M55ZcVd9VV1XVndE3s8u6Plxtsr42jp0+QvfPCTJ3xvkKeHNT5J88IJsdY74M3yafksncrfuF6kvw9tUHDlyMcOVaBFbmeTj2jqIHxUIJF3A/z7K4WKhfY3WEaieBnjaKhWLTcX8DATq/EhizV6kAAAAASUVORK5CYII="];
a=[g_sites_ico,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiA7Y9ZkmgAAAOlJREFUOMvNkr8OAUEQxn+4UkFN4k8kGv865SmVEqXGI3iEvUrvBWg8gDfwAsQDSO48wfVHQmEkg3NWrjHJZHe/nZ2Z79uBf7QqMFDnnriVzYAQ8BV2AK6AiXvgxGAF8amcu7IGtl1spaIvfhUs1jKKd0X2pxcKSDeBun/rxkglG3/SIpv2yzSFqtovAYwxXxM4SuFAifjgWtHBtcGYDns2W/8jhRHgKl3uli/TH06YuC3a9RJJGvRU9dUDLDZdhv0GOSC6nBMTGKCmhgiAcLfG8xYcI8hZTGLwy9Sl/sbUCRz70JD13HtDbwm1Old+g8VwAAAAAElFTkSuQmCC",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiMmK/1bgAAAAUhJREFUOMvNkr9Lw1AQxz9KCCgIUcSCICYaUFBIIODikA4ddBC7iKCLONlJ/4Q4devqJLoUZ8GtIC24KAh1VSERh0KWdrIQkDr4Wp81oREXD453d4/78f3ewX8UHchKvi00lRwBTcCXYnWgA3hxCUpMTBO6J3xLvEHaKaqioy+0I2KxMiThnhX2Sx8ExDSB9P9jGk90SqPfuBj+68pkCLpknwF4njewgCIxHEgkdrEKXlSs3AYr5gRvjScql1XCBAh5wJV4AcDI7ZNfXWZydAzTdikcrKEmFLCl7ufd7gtLGWjXKZZKXPkRZKbREg7JE4n6Vyji9uKE6zBkytlk3VCJ/McehLhLDPr33AxbZHcPcU2N1nON0/LN79bobBdwTY326z2Vu5B5y+hxoAxOH2dx7hPxyIzD1o4D7z6NB58wXYEm5eJx4u8Hfzxclyg/Z/wAAAAASUVORK5CYII=",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiII7jBnDgAAAVBJREFUOMvNkjFLw1AUhT+1pFo7FAdFHBrBgkihxRQ6STtmqOAmOIhTwU0QXH2/QNBBBBE7uQgilIJDByehgyDi4JaIkwWJ1IJQkTr0iS8xqQEXD1xy70le7j3nXfiP0IGiUmdlhMIG4ACWwt0AXUD4HYj4cAkZa7LOyKcddopL2dGS0ZWcLwYU3UmZP3gkIKexlfc/phGyU5hweTH41ytTJehKfgwghPj1BxHFYVsx8Uur9EXDMBeZ18do2bfULhq0AyQsAQXFFwBSpTKlfJoYUWbzJuXlTKAHWaV7pZfGSU5qvNyfs3tQwfqAWHQ4cJGEPKh/U23qhzvUMdja3mQEeGo2+96C7V4cjbl8ESP1yP7eCXfPMJFbYLzPKnswSs4sMN2ZonV0BUM99j38HjicnTZ41WZYWV8lnXjjulrF8eyBL4QQXbXW4hqddsf1zSd981rsA+U7cAAAAABJRU5ErkJggg==",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiIxsTXvBgAAASpJREFUOMvNkrFLw1AQxn+2EhQVIohFKJhqRSiIBQcRCxYEcSgoilNFSgdnV7f3n+g/4GQHx65BBAcHnRoXdetiHGolLgdeYpoGXPzg4727x7u77+7gP8IBqsouC1PhDOgCHeW7BwLAxH0YjfHZwobYq3J6aatoS8aOMBBfLEaU7nm5P0ckINV46v1XNUYypWGoF5m/jkxLcNT9AsAYMzRARnW4LWworSFMFirU6zXy1mAJ+8CW6ssPrBLHJ9sUiys4E4MDlFX2S/Wb3eYBOQC++ExoogEKSgYAS7Um6zMvtG4eAej7yVPwwoszy8ZaDrCpbC4A4+yc7jGdsMoRfPB094Cf7TM2t4w9Bd3XN/z0Ad5xW1e4gFU65Pxokdtrl15kD2JhjAmGhf8GfYtLPXngvXwAAAAASUVORK5CYII=",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiQSRQg58gAAAVdJREFUOMvNkz1LA0EQhh/lOAhG8IpL1ARNrE5SGAimEIL+gAhapFEQWztbu+sE/4QiYmUjiY0gKsTCIpAoiIiQU2IjSARPowSJhRvYXO70wMaBYXdnmI/3nVn4jxIDZqR3UqgvWQXqQFWylYEWYLoFKC62AaHL4j0hTstvFyeiYlVoS9hcpUfCPSrudw4IiG4syd/VjSkq+dEOLnr/OjIZQky6bwKYpvlrAkVi2JJIbGP95kWNk51P0wegKLzenlI4r7lCmAOmJV4ACI6nSRkGEV1HD0eIRsOee5CUqm+1oehDGvDERbnMe+OBYqnqmcAUgTHZGBrWAJXJqQxqQCWTOGJ9u+i5iZZzzjfH+7w077mq2aSW1siOjBGiyKNHAodozC7miL9ds7tzSWJQhc8Pmv73oE4+X6LRb7CwkiMeeOZs74D6D5+pO0WlwEblkGBQxbbtDt8XLQlh5BtbXRIAAAAASUVORK5CYII=",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiUJ1nbBXwAAAVBJREFUOMvNkz1LA0EQhh9NDASuSJr4VZjA2WjAgCAIBwnYBhTBxiLYWNj5EzaQH2GnvYiVEKxSmEoPUlikEO5SSDiFnJAQyanEwg1uzEVPbBwYdnaG2Zn3nVn4j5IEcso9IzWQHAIuYCm+GtAHhF9C2McXk7on7yvytIN2UZEVLal96fOVCQX3grQbXyAgu7GV+Eg3QlYKokNcTP51ZCqEpGIfAwghfnwgrDBsKyQOsA54YdHYJJeepfdYp3xW4WEMhC0gq/ACQMIosLuRIdTtMp/OcrBvjN2DjFL95AOKxvpaCtp3XN/UibdavDbviQCezwNCJiY/XVNoYSCqk9/WIQRPt00qpjV2CvbI4oQAp0qxVKRsecTSyySCj9Gl4XgwnWI1tYQ+E4HnHi+/2YOr80uctznyhR30aJvq6QXuN5/JpwmTo5KJFtfouJ2h0Du9o2L2gjumAgAAAABJRU5ErkJggg==",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiYHGuO/mwAAASZJREFUOMvNk79KA0EQxn+aQywsEiwCMXgXUbAzYCsYawNa2KXJEwQfYQXB2idIGiura/UKFSwF04iFkItYWeQiWIU7YpERxrjqkTR+MOzuDPPvm1n4j/CAinqXRVLhEIiAjtLdA0PA2Bwciy4rUpf3hpxh2iquJGNHZCg6K2ZU367cu2MtINWEyv6tGiOZ0sgXLmanHZluwVP3JoAx5s8AjmI4VCR+9urCAlt7uyzNx8TxyCV+e8QP2tYx7gPbipcmwKK3xno2QwJkABKHm6BNZAlQVtlbowDv+KfH+EBus0ajusxt65zoBxINUFJLpFDioLrK4OmC4GXw6yaGtjkXKzsUSLi+vGOiMXoreUieeXhlkgA53Pwc9Hv0U3wmCyLOTo6slg+fZlNd2Y2MegAAAABJRU5ErkJggg==",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiY3PDqPNwAAAURJREFUOMvNk79Lw0AUxz/amgqNYBcHf8bBrdhABnWQCi4FHQQHVydBJ1en3ubu4tBB8Q8Q3ARBLLiJkCGDW6NQRSHUIQhGShy84jUmGnHxC4+7971c3nvf9w7+IwxgQfFNaamwDbSAhsLZQAiIuAvZGG5Q2rr0S3J102ZxISM2pIWSi0WPUveE3N9GSkBm4yrnX7IRMlIa69Ki968tU0swlP0BgBDixx9kFYVdRcROrVIXnZnlJaZHC7w+OByfXOInlLAClBVdPvq4ukHFmoKXNiPmIltrpUQNTCX6YYfsz+fg2aZ2VOPKAy0/kDhIQl40VLJ59wiTFtWqBcD9TfPbLrjdg1OgPDcG3jV7u/vYHgzPzjP0qzZmgEyOPt5op3gLEbSonzmMV4ps7hSBAOf0nKfIHMRCCBF+ehq6rhH4PoHyzTsT9lgsYELcCQAAAABJRU5ErkJggg==",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDigXmdeCcQAAAXtJREFUOMvNk88rRFEUxz8MIzKaoWYWFBZiwYwob6GYJZlizcZKWOBPuCvLKQuNhYmVzSwkio2SlaaEjZQyz48sRFPjGb3HdG3u6M3Mm5qycep0zzm3e873e8658B+lAwjb/H6lFckKkAZSttglIAHh9KDGIeZVOqv8kDr1SlGcqIoppVLFHKXKxrtd2fdFFFBodNt9CRqhKlWiBb2o/uvI7BQ68rYQYqvSBDW2Duu2JgKNaJEJgm1NZPQku0dXWA4JiilMAaMA2swiY4M9eOo89GhTzEW6HBEUJ1Ab56e7s55c6ojoWpTj5xwtfUP4FLLI/DKTIZ9jAgF0QpYPC1ytQbRQmN6AC4BaABpoDnjxe2rLN0YIIVc3D+VDxpTy25SmlFKat/L0LisLxZRlxuhmZHwY7/sFsfU9XgHr4Ybk/jbxeILHHLxdHhCLbTj+BcDi7OSagWmNhSUNPh/ZSZxjWGCkvzAB8+mOl5f07x6UUMgjafS5MdJGWbo/W6+PV71qU8EAAAAASUVORK5CYII="];
return c?a[e]:d[e]}
var g_sites_light_ico0="iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDhss3LcOZQAAAU5JREFUOMvdkzFLA0EQhd/bO7iIYmklaCUopLAQA6KNaawt9BeIgnUwLHPJRchfEBR7CyGWgiDY2SlIQBT/gDaCoGDudiy8SLwkBiwz1c7y+GZ25i0wnFEqlSZFZKGdi8iiiOR7aU32QkR2c7ncPcljAARAkgckb8IwrGf1fg/oJ8lRAHkR2VDVmOQ8AKjqY1bMHgCGYXhFchnAg6omJGcBXEZRtNoXYK2dMsaMt1qtD9/3p40x5yS9tHICYF1Vn0mOxXH8Uq/Xb389wff9PQDbQRB0t/QNOiPZ1h4B2MoO0fxnYz8dOOcOVbWhqq8kJzzPa3RAXZIkawCenHMjJN/+GiIqlcoFgKKq3pEMAMwAuCa5VK1W3SAfbAIopum+cy5KzwXn3M5AI6XVYlVt1mq1U8/zTlS1CeC9j2+6o1wuz1lrVzpWXLDWTg3pz/0CQnd2Jos49xUAAAAASUVORK5CYII=",g_sites_light_ico=
"data:image/png;base64,"+g_sites_light_ico0,g_pw_light_ico="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACIUlEQVQ4EX2TOYhTURSG87IMihDsjGghBhFBmHFDHLWwSqcikk4RRKJgk0KL7C8bMpWpZtIqNkEUl1ZCgs0wOo0SxiLMDApWlgOPrH7/5b2QkYwX7jvn/uc//zl3edZ4PPbNGvF4fC4ajR5VrNvt/mo0Gr1ZPOtfgWw2e9Lv9+chX7cs64CS4Oxg3o9GI7tUKv0Q5o1dAiTfCgQCLwnOkfQOu+oSLyJ2A783HA7vIPLGxX0TgVwud4HKn0nc7Pf7N6vV6oZHkkX8FPG3uMfgXC0Wi2vCg/poUKGGcagQI3k7k8mcp5slcGswGDwpl8tfwGJg3xB6Dvey8vz6oH4C3iXcFYjbwiDeo1KafafkC3NjK7iL5ESFGQEUF7Sg+ifZdDp9GnMF/KGmfBdT2HCwZ7TwtrBPC7rQaav6Iv48rqZwg+F+p8hOMBj0IbxfMdMBrW5pAVGV/ztINByENkU0t5BIJEKRSOQ3Aj+Z57iFs1R5NK3EQS6HQqF1zmQdzpFWq3W42WwOTAf1er1PF2USFlC+qxMvFAr3HcexWX+QX6lUvsKpkTyPSEXJkw6MQ4S38Ljdbi8rmM/nY+CvgNcQqdH6U/xrYK9t244jZv6ByUOSiDdIfgBZ12U6dHEHu9TpdIr8F0OP692CtzaW/a6y3y0Wx5kbFHvGuXzkgf0xhKnPzA4UTyaTB8Ph8AvcHi3fnsrZ7Wore02YViqVOrRXXPhfqP8j6MYlawoAAAAASUVORK5CYII=",
g_ff_light_ico="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABHklEQVQ4EaVTO26DQBD1ohQWaS2lg9JybZ+AK7hNwx2oIoVf4UPQ0Lj1FdKktevIpel8AKNUkDcWMxpgSaIEaTVv3sx7uztiTdu2s/98DywOw3Dued4Who/M2aIx5lZV1aEsy0+qiwHELyi+Ytl0PQ69SxAxkWIA4RMRTdNsKE59juMcuZd6xIAFeZ6fGCdJ8kY4y7KAuTRNGd7jyEBXsdOPE3a0QGPsniOnnYMO67LgSQN9T41F2QGrQRRFCwyzoIF2qyBuKKbcOgPXdVeY9rMWgNsjf9ccYesJhk3f5dYT1HX9gR0LLQR30TnjkUEcx2uIuS4RnI+aj6sJR0AM8AaumPaM/rRehyWhXqbFAA9kh3/8/NvHxAYGAsZ/il8IalkCLBfNVAAAAABJRU5ErkJggg==",g_close_light_ico=
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA3UlEQVQ4EaVTOQ7CMBCMETShzcdo4CVOkyJykQb/AXoaPsQT0uLGRZhZxVIirSMDljberOfwaaZpqv5pe5Kttce6rs8QO5SIGWNiCOHhvX+LAMko3hAlfMGAw/6+47fUmdjUEkcEUvGXPicwwqFFxDlaiI+agSoA0tU550G4MJizpgnIJioDQ9/3LxCfHEN+QjcouEqdgQbM1XICHd3pzJhn0mki6hJwH1oQiZdpI+9YKxYAsAFhuWnLfKWTW8IKtPUjAnCLWyBtLHFkD/gweLdx1l89JgobkDSD4toHHT5aJu9+N80AAAAASUVORK5CYII=",g_svgs={},NAV_BAR_HEIGHT_CSS=42,SHOULD_DO_LOGIN_ONLY=!0,SHOULD_DO_ALWAYS=!1;
function popupfill_shoulddofield(a,b,c){var d=[];if(do_experimental_popupfill&&!(null==b||"undefined"==typeof b.type||"hidden"==b.type)&&("text"==b.type||"password"==b.type||"email"==b.type||!c&&"tel"==b.type||!c&&"url"==b.type||!c&&"textarea"==b.type)){var e=LP_pickFieldName(a,b);return lp_in_array(e,d)?(verbose_log("fieldname "+e+" is blacklisted, skipping"),!1):is_search_field(a,b,!c)||is_date_field(b)||LP_looksLikeOTPField(a,b)||LP_explicit_ignored(a,b)||LP_implicit_ignored(a,b)||LP_isCaptchaField(b)?
!1:c&&!chk_form_has_password(a,b.form)&&!checkDocumentForLoginOrphans(a)?(verbose&&(a=LP_pickFormName(a,b.form),verbose_log("form "+a+" has no password field?  Ignored")),!1):!0}return!1}var NO_CREATE=!1,OK_CREATE=!0;function parse_zindex(a){if("string"==typeof a&&-1!=a.indexOf("e")){a=""+parseFloat(a);for(var b="",c=a.length-1;0<=c&&"0"==a.charAt(c);c--)b+="9";a=a.substring(0,c+1)+b}return parseInt(a)}
function getZIndex(a,b,c,d){g_ctr_getzindex++;if(null==a||b==a.body||null==b||50<c)return null;var e=0,f=LP_getComputedStyle("undefined"!=typeof window&&window?window:a.defaultView,b);if("absolute"==f.position||"relative"==f.position||"fixed"==f.position){if("auto"==f.zIndex||""===f.zIndex)return e=getZIndex(a,b.parentNode,c+1,d+1),null==e?0:parse_zindex(e);e=getZIndex(a,b.parentNode,c+1,parse_zindex(f.zIndex));return null==e?parse_zindex(f.zIndex)+1:parse_zindex(e)+1}if("auto"==f.zIndex||""==f.zIndex)return e=
getZIndex(a,b.parentNode,c+1,d+1),null==e?d+1:parse_zindex(e)+1;e=getZIndex(a,b.parentNode,c+1,parse_zindex(f.zIndex));return null==e?parse_zindex(f.zIndex):parse_zindex(e)+1}function chk_form_changepw_new(){return!0}
function shouldOfferGenerate(a,b){if(null==a||null==b)return null;var c=!1,d=b.form,e=!1;d||(e=checkDocumentForCPWOrphans(a));var f=!0,g=!0,h=check_nevers(a,g_nevers,a.location.href);null!=h&&(f=h.show_for_generate,g=h.show_for_clickable_icon);f&&chk_form_ask_generate(a,d)&&isInputFieldPassword(a,b)&&g?((currentpw=lpCheckCurrentPWField(d))||(currentpw=lpCheckCurrentPWField(d,!0)),chk_form_changepw(a,d)&&b==lpCheckCurrentPWField(d)?(c=!1,"undefined"!=typeof g_docnum&&verbose_log("["+g_docnum+"] form="+
LP_pickFormName(a,d)+" field="+LP_pickFieldName(a,b)+" appears to be current PW field in a change password form, offergenerate=false")):chk_form_changepw_new(a,d)&&b==currentpw?(c=!1,"undefined"!=typeof g_docnum&&verbose_log("["+g_docnum+"] form="+LP_pickFormName(a,d)+" field="+LP_pickFieldName(a,b)+" appears to be current PW field in a change password form, offergenerate=false")):(c=!0,"undefined"!=typeof g_docnum&&verbose_log("["+g_docnum+"] form="+LP_pickFormName(a,d)+" field="+LP_pickFieldName(a,
b)+" setting up generate click listener on icon"))):!d&&(f&&e)&&(isInputFieldPassword(a,elt)&&!lpIsFieldCurrentPWField(b))&&(c=!0,"undefined"!=typeof g_docnum&&verbose_log("["+g_docnum+"] orphan field="+LP_pickFieldName(a,b)+" setting up generate click listener on icon"));return c}
function check_nevers(a,b,c){if(a){b={show_for_formfill:!0,show_for_save:!0,show_for_autofill:!0,show_for_generate:!0,show_for_clickable_icon:!0};if(null==g_nevers)return null;if(null==c||0>=c.length)c=a.location.href;a=lpcanonizeUrl(c);c=lpcanonizeUrl(lp_gettld_url(c));for(var d=0;d<LP_objectSize(g_nevers);d++){var e=g_nevers[d];0==e.domain&&lpcanonizeUrl(e.url)!=a||1==e.domain&&c!=lpcanonizeUrl(lp_gettld_url(e.url))||("neverformfills"==e.type?b.show_for_formfill=!1:"neveraccounts"==e.type?b.show_for_save=
!1:"neverautofills"!=e.type&&"neverautologins"!=e.type&&("nevergenerates"==e.type?b.show_for_generate=!1:"nevershowicons"==e.type&&(b.show_for_clickable_icon=!1)))}return b}}function LP_objectSize(a){var b,c=0;if(null==a||"undefined"==typeof a)return 0;if("function"!=typeof a.hasOwnProperty&&"undefined"!=typeof a.length)return a.length;for(b in a)a.hasOwnProperty(b)&&c++;return c}
function chk_form_ask_generate(a,b,c){if(null==a||(null==b||!b||!(b.tagName&&"FORM"==b.tagName.toUpperCase()))||b.elements.length>MAX_FORM_ELEMENTS_HARD)return!1;var d,e=LP_pickFormName(a,b);if(!c&&(d=formcacheget(a,e,"ask_generate"),null!=d))return g_ctr_formcache_hits++,d;g_ctr_formcache_misses++;try{var f=gettldcached(a.location.href)}catch(g){return!1}var h=d=0,j=3;c&&(j=2);g_aspx_hack&&isASPpage()&&(j=7);if("tumblr.com"==f&&(tumblr_action_btn=a.getElementById("signup_forms_submit"),null!=tumblr_action_btn)){c=
tumblr_action_btn.getElementsByTagName("SPAN");var k;for(k=0;k<c.length;k++)if(0<=c[k].className.indexOf("login_btn")&&checkIsDisplayed(a,c[k],0,f))return!1}if(!checkIsDisplayed(a,b,0,f))return verbose_log("form is not visible: cannot be signup form"),!1;c=LP_getname(b,LP_GETNAME_FAVOR_ID_OVER_NAME);if(null!=c&&(0<=c.toLowerCase().indexOf("signup")||0<=c.toLowerCase().indexOf("register"))&&-1==c.toLowerCase().indexOf("login"))return verbose_log("form "+e+" smells like a sign up form: name/classname"),
formcacheset(a,e,"ask_generate",!0),!0;var m=!1;if("undefined"!=typeof Math){c=Math.floor(1E4*Math.random());var p=k=0,m=0,l=null,q=b.elements.length;q>MAX_FORM_ELEMENTS_SOFT&&(q=MAX_FORM_ELEMENTS_SOFT);for(var r=0;r<q;r++){var n=b.elements[r];"INPUT"==n.tagName&&("password"==n.type?k++:("text"==n.type||"email"==n.type)&&p++);if("INPUT"==n.tagName&&"submit"==n.type||"BUTTON"==n.tagName)if(m++,l=n,10<m&&b.elements.length>MAX_FORM_ELEMENTS_SOFT)return!1}if(1==m&&2>=p&&0<k&&checkButtonHint(l))return verbose_log("form is not signup: prelim test failed"),
!1;p=b.elements;for(r=0;r<MAX_FORM_ELEMENTS_SOFT&&r<p.length;r++)if(n=p[r],m=!1,"FIELDSET"!=n.tagName&&valid_by_role(a,n)&&!LP_fieldIsDisabled(n)&&!LP_treat_as_hidden(n)&&("expedia.com"==f||checkIsDisplayed(a,n,0,f,c)))if(!g_use_wacky_disp||is_wacky_disp(a,n)){if("text"==n.type&&is_watermark(n.className)&&is_watermark_password(n))try{n.type="password"}catch(u){m=!0}l=LP_elt_get_text(n);if("BUTTON"==n.tagName&&"submit"==n.type&&null!=l&&0<=l.indexOf("Create")||"BUTTON"==n.tagName&&"submit"==n.type&&
null!=l&&0<=l.indexOf("Register")||"INPUT"==n.tagName&&"submit"==n.type&&null!=n.value&&0<=n.value.indexOf("Create")||"INPUT"==n.tagName&&"submit"==n.type&&null!=n.value&&0<=n.value.indexOf("Register")||"INPUT"==n.tagName&&"submit"==n.type&&null!=n.value&&0<=n.value.indexOf("Sign me up")||"INPUT"==n.tagName&&"image"==n.type&&null!=n.value&&"create"==n.value)j=2,verbose_log("form "+e+" has a signup button, loosening detection requirements");if(1<k&&LP_passwordAlt(a,n))h++;else if(l=fieldIsDoublePassword(a,
n),!b||!("form1"==b.id&&b.action&&b.action.indexOf(".aspx")&&"text"==n.type&&(l===DOUBLE_PW_VISIBLE||l===DOUBLE_SECRET_PW_VISIBLE)))if(!do_bgiconinput||!("text"==n.type&&(l===DOUBLE_TEXT_VISIBLE||l===DOUBLE_SECRET_TEXT_VISIBLE))){if("password"==n.type||m||"text"==n.type&&l===DOUBLE_TEXT_VISIBLE||"text"==n.type&&l===DOUBLE_SECRET_TEXT_VISIBLE){m=n.getAttribute("placeholder");null!=m&&0<=m.indexOf("Create your")&&(j=2);if("facebook.com"==f&&"string"==typeof n.id&&n.id.match(/^[a-z0-9]{6}_\d{1,2}_ci_password$/))continue;
else if("tdbank.com"==f&&"string"==typeof n.name&&"user"==n.name){h++;continue}if(0==d&&1<k&&passwordIsFake(n)){h++;continue}d++}else if("email"==n.type||"text"==n.type||"textarea"==n.type||"tel"==n.type||"url"==n.type)if(treat_text_as_password(n))d++;else{if(LP_isForgetField(n))continue;lpIsVisible(n,!0)&&(m=LP_pickFieldName(a,n),LP_looksLikeOTPField(a,n)?verbose_log("chk_form_ask_generate OTP field ignore on "+m):h++)}if(4<=d||100<=h)return 4<=d&&verbose_log("form "+e+" is not a signup form, too many pw fields [PW:"+
d+"/NON:"+h+"]"),100<=h&&verbose_log("form "+e+" is not a signup form, too many non-pw fields [PW:"+d+"/NON:"+h+"]"),formcacheset(a,e,"ask_generate",!1),!1;if(2<=d||1<=d&&h>=j)return 2<=d&&verbose_log("form "+e+" is a signup form, has enough pw fields [PW:"+d+"/NON:"+h+"]"),1<=d&&h>=j&&verbose_log("form "+e+" is a signup form, has enough pw fields and non-pw fields [PW:"+d+"/NON:"+h+"]"),formcacheset(a,e,"ask_generate",!0),!0}}verbose_log("form "+e+" does not smell like signup form, not enough fields [PW:"+
d+"/NON:"+h+"]");formcacheset(a,e,"ask_generate",!1);return!1}}function passwordIsFake(a){var b=/(?:Account)|(?:Member)|(?:IUO_NAME)/i,c=a.name;return b.exec(a.id)||b.exec(c)?!0:!1}function checkButtonHint(a){if(!a)return!1;var b="INPUT"==a.tagName?a.value:a.innerHTML,c=/(?:Login)|(?:Log.In)|(?:Logon)|(?:Log.on)/i;return c.exec(a.id)||c.exec(b)?!0:!1}function LP_isForgetField(a){if(!a)return!1;var b=a.name,c=/(?:Forg[oe]t)/i;return c.exec(a.id)||c.exec(b)?!0:!1}
function LP_isCaptchaField(a){if(!a)return!1;var b=a.id;a=a.name;var c=RegExp(lpgs("ff_captcha_regexp"),"i");return c.exec(b)||c.exec(a)?!0:!1}function LP_isRememberCheckbox(a){if(!a||"checkbox"!=a.type)return!1;var b=a.id;a=a.name;var c=RegExp(lpgs("ff_remember_regexp"),"i");return c.exec(b)||c.exec(a)?!0:!1}
function chk_form_is_nonlogin_form(a,b){if(null==a||null==b||!b||!(b.tagName&&"FORM"==b.tagName.toUpperCase()))return!1;if(b.elements.length>MAX_FORM_ELEMENTS_HARD)return!0;try{var c=gettldcached(a.location.href)}catch(d){return!1}var e=LP_pickFormName(a,b),f=formcacheget(a,e,"is_nonlogin");if(null!=f)return g_ctr_formcache_hits++,f;g_ctr_formcache_misses++;if(is_search_form(a,b))return verbose_log("form "+e+" appears to be a search form based on name/action, do not try to fill"),formcacheset(a,e,
"is_nonlogin",!1),!1;if(!checkIsDisplayed(a,b,0,c))return verbose_log("form is not visible: cannot be non-login form"),!1;var f=c=0,g=b.elements,h=g.length;h>MAX_INPUTS_HARD&&(h=MAX_INPUTS_HARD);for(var j=0;j<h;j++){var k=g[j];if("FIELDSET"!=k.tagName&&("email"==k.type||"text"==k.type||"password"==k.type)&&!LP_fieldIsDisabled(k)){if(100<++f)return formcacheset(a,e,"is_nonlogin",!1),!1;if(!0!=k.disabled&&valid_by_role(a,k)&&lpIsVisible(k)&&!LP_treat_as_hidden(k)){if(is_search_field(a,k,!0)&&8>g.length)return verbose_log("form "+
e+" appears to be a search form based on name/classname, do not try to fill"),formcacheset(a,e,"is_nonlogin",!1),!1;c++;if(3<=c)return verbose_log("form "+e+" appears to be a non-login form"),formcacheset(a,e,"is_nonlogin",!0),!0}}}formcacheset(a,e,"is_nonlogin",!1);return!1}
function formcacheset(a,b,c,d){if(null==a||null==b||null==c||0===b.length||0===c.length||null==d||"FF"==b||"none"==b)return null;"undefined"==typeof a.g_form_attr_cache&&(a.g_form_attr_cache=[]);null==a.g_form_attr_cache[b]&&(a.g_form_attr_cache[b]={});a.g_form_attr_cache[b][c]=d;return!0}
function formcacheget(a,b,c){return null==a||(null==b||null==c||0===b.length||0===c.length)||"undefined"!=typeof g_isdebug&&g_isdebug&&g_ignore_lp_cache||("FF"==b||"none"==b)||"undefined"==typeof a.g_form_attr_cache?null:null!=a.g_form_attr_cache[b]&&null!=a.g_form_attr_cache[b][c]?a.g_form_attr_cache[b][c]:null}function formcachereset(a){null!=a&&(a.g_form_attr_cache=[]);return!0}
function onresize_handler(a){a="undefined"!=typeof document?document:a.target.document;var b=a.getElementsByTagName("body")[0];a.g_posbodyrect_cache=b.getBoundingClientRect();var c="undefined"!=typeof window&&window?window:a.defaultView;a.g_posbodystyle_cache=c&&"undefined"!=typeof c.getComputedStyle?c.getComputedStyle(b,null):b.currentStyle;popupfill_resize(a);return!1}
function checkIsDisplayed(a,b,c,d,e,f){if(do_bgiconinput&&!f||b==a.body||null==b||50<c)return!0;if(null==d)try{d=gettldcached(a.location.href)}catch(g){return!1}c="undefined"!=typeof window&&window?window:a.defaultView;for(e=b;e&&e!=a.body;)try{var h=LP_getComputedStyle(c,e);if(null!=h&&"none"!=h.display&&"hidden"!=h.visibility&&(null==e.offsetHeight||""===e.offsetHeight||1<e.offsetHeight||"hidden"!=h.overflow)&&!("expedia.com"==d&&"-1px"==h.marginTop&&1==e.offsetHeight)&&!("dropbox.com"==d&&"register-partial-container"==
b.id&&50>e.offsetHeight))e=e.parentNode;else return!1}catch(j){break}return!0}function countInputs(a,b,c){var d=0,e=0,f=a.getElementsByTagName("INPUT");if("undefined"!=typeof Math){for(var g=0;g<f.length;g++){if(100<g){b||(d+=f.length-g);break}var h="password"==f[g].type;if(!b||h)"checkbox"==f[g].type||"hidden"==f[g].type||(h&&e++,d++)}c&&(a.g_password_cnt=e);return d}}
function LP_getAbsolutePos(a,b,c){"undefined"!==g_ctr_getAbsPos&&g_ctr_getAbsPos++;if(!a||!b)return null;if("undefined"==typeof c||null==c)c=!1;var d=null;try{d=typeof b.getBoundingClientRect}catch(e){d=null}if(!d||"undefined"==d)return null;try{var f=b.getBoundingClientRect(),g,h;g="undefined"==typeof f.width?f.right-f.left:f.width;h="undefined"==typeof f.height?f.bottom-f.top:f.height;var j=LP_get_cached_body_rect(a),d=b=0,k=LP_get_cached_body_style(a);g_bodystyle_relative&&(j&&k&&"relative"==k.position)&&
(b=j.left,d=j.top);var m=k=0;if(!c){var p="undefined"!=typeof window&&window?window:a.defaultView;if("pageXOffset"in p)var l=p.pageXOffset,q=p.pageYOffset;else{var r;c=1;"undefined"!=typeof g_isie&&g_isie&&"undefined"!=typeof a.querySelector&&"undefined"==typeof a.addEventListener?r=1:(j&&(c=Math.round(100*((j.right-j.left)/a.body.offsetWidth))/100),r=c);l=Math.round(a.documentElement.scrollLeft/r);q=Math.round(a.documentElement.scrollTop/r)}k=l;m=q}return{left:f.left+k-b,top:f.top+m-d,width:g,height:h}}catch(n){return null}}
function createPopupFill(a,b){LPpop.set_icon_hint_from_data(a,b)}
function LP_measureText(a,b,c,d,e){g_ctr_LP_measureText++;var f=LP_measureTextCacheGet(a,b,d);if(null!=f)return g_ctr_LP_measureText_cachehits++,f;g_ctr_LP_measureText_cachemisses++;var f=a.createElement("span"),g=null;if(null==d&&null==c)return g;null==e&&(e=a.body);null==e&&(e=a.getElementById("hiddenel"));e&&(e.appendChild(f),null!=d&&(f.style.cssText=d),null!=c&&(f.style.fontSize=""+c+"px"),f.style.position="absolute",f.style.left="-1000px",f.style.top="-1000px",f.innerHTML=b,g={width:f.clientWidth,
height:f.clientHeight},LP_measureTextCacheSet(a,b,d,g),e.removeChild(f));return g}function getAutoFillArray(a,b,c){var d=[];a=punycode.URLToASCII(a.location.href);lpcanonizeUrl(a);for(var e in b)if(!b[e].genpw||c)d[e]=b[e];return d}
function is_your_popup_showing(a){if(null==a)return!1;var b=!1;try{if(null==a.location){verbose_log("is_your_popup_showing given a firefox zombie document?");var c="undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument;closepopupfills(c);b=!0}}catch(d){b=!0}if(b)return!1;g_isfirefox&&verbose_log("entered is_your_popup_showing for doc="+a.location.href);if(g_create_iframe_in_top&&!g_isie&&!g_isfirefox&&LP_inIframe(window))return toplevel_iframe_state_get();
if(0<a.location.href.indexOf("popupfilltab.xul"))return!0;a=a.getElementsByTagName("iframe");for(b=0;b<a.length;b++)if(("function"!=typeof a.hasOwnProperty||a.hasOwnProperty(b))&&0==a[b].id.indexOf(LPMAGICIFRAME))return!0;return!1}
function dosavesiteicon(a){a=a?1:0;var b=[""],c=null!=g_popupfill_parent_last?g_popupfill_parent_last.form:null;null==c&null==g_popupfill_parent_last&&(c=null!=g_popupfill_parent?g_popupfill_parent.form:null);verbose_log("["+g_docnum+"]: current input form is "+c);if(null==c)g_isfirefox?LP.lpOpenEditWindow(0,!1,!1,null,!0):(verbose_log("["+g_docnum+"]: looking for orphaned INPUT elements"),c=LP_get_form_save_orphans(b,!0),b={url:punycode.URLToASCII(document.location.href),formdata2:c},sendBG({cmd:"savethesite",
notificationdata:b,iframe:a}));else{for(var d=c.elements,e=0,f=0,g=0,h=0;h<d.length;h++)if("FIELDSET"!=d.tagName){var j=d[h].type;"password"==j?f++:"text"==j||"tel"==j||"email"==j?e++:"textarea"==j&&g++}if(1==e&&1==f&&0==g)if(g_isfirefox)LP.lpOpenEditWindow(0);else{c=LP_get_form_save(c,!1,[],!0);if(!c||0==c.length)c+=LP_get_form_save_orphans(b,!0);b={url:punycode.URLToASCII(document.location.href),formdata2:c};sendBG({cmd:"savethesite",notificationdata:b,iframe:a})}else g_isfirefox?LP.lpOpenEditWindow(0,
!1,!1,null,!0):(c=LP_get_form_save(c,!1,[],!0),d=!1,c&&0<c.length&&(d=!0),c+=LP_get_form_save_orphans(b,!0,d),b={url:punycode.URLToASCII(document.location.href),formdata2:c},sendBG({cmd:"savethesite",notificationdata:b,iframe:a}))}}
function lp_url_is_lastpass(a){if(null==a)return!1;var b="https://lastpass.com/";"undefined"!=typeof base_url&&(b=base_url);return 0==a.indexOf(b)||0==a.indexOf("https://lastpass.com/")||0==a.indexOf("https://lastpass.eu/")?!0:"undefined"!=typeof g_loosebasematching?(a=lp_gettld_url(a),RegExp(a+"/$").test(base_url)):!1}
function setupIcons(a,b){a||(a=g_isfirefox&&LP?LP.getBrowser().contentDocument:document);if(!a)return!1;if("undefined"!=typeof g_cpwbot&&g_cpwbot&&"undefined"!=typeof g_in_cpwbot&&g_in_cpwbot)return verbose_log("Change in Progress, skipping setupIcons"),!1;if(do_experimental_popupfill){if("undefined"!=typeof g_isie&&g_isie)if(init_LPfn()&&LPfn)LPfn.ie_reset_popupfillhint(),LPfn.ie_setup_event_handlers(a);else return verbose_log("Danger, Will Robinson"),!1;if(g_isfirefox&&LP&&20>LP.lp_getFFVersionFloat())return!1;
"undefined"!=typeof g_isfirefox&&g_isfirefox?(a.g_input_cnt=countInputs(a,!1,!0),a.g_form_cnt=countFormEquivalents(a),a.g_did_setupInputObserver=!1):(g_input_cnt=countInputs(a),g_form_cnt=countFormEquivalents(a),validate_input_indexes(a));var c="undefined"!=typeof g_isloggedin?g_isloggedin:lploggedin,d=!1;if(g_dologin_clickable||!g_dologin_clickable&&c)d=!0;try{var e;e="undefined"!=typeof punycode?punycode.URLToASCII(a.location.href):a.location.href;if(lp_url_is_lastpass(e)||LP_should_ignore_this_doc(a))return!1}catch(f){return!1}if(d&&
(b||checkForLoginForm(a)||checkDocumentForLoginOrphans(a)||checkForNonLoginForm(a)||checkForSignupForm(a)||checkDocumentForCPWOrphans(a)||checkDocumentForLoginFirstStageForm(a)||checkDocumentForLoginOrphansFirstStage(a)))c=gettldcached(a.location.href),g_isfirefox||"undefined"!=typeof g_isie&&g_isie||sendBG({cmd:"getpopupfillsites",tld:c,url:e}),g_do_icon_number_hint&&(g_icon_number_overrides={sites:-1,formfills:-1}),("undefined"!=typeof window&&window?window:a.defaultView).setTimeout(function(){doc_create_clickable_icons(a,
"",SHOULD_DO_ALWAYS,b)},50)}"function"==typeof setupInputObserver&&setupInputObserver(a);!g_isfirefox&&!g_isie&&g_create_iframe_in_top&&(g_inframe=LP_inIframe(window));return!0}function checkForLoginForm(a){if(!a)return!1;try{gettldcached(a.location.href)}catch(b){return!1}var c=MAX_FORMS_SOFT;LP_exceedFormsThreshold(a)||(c=MAX_FORMS_HARD);for(var d=a.getElementsByTagName("form"),e=!1,f=0;f<d.length&&f<c;f++){e=chk_form_has_password(a,d[f],!0);if(null==e)break;if(e)return e}return!1}
function checkForNonLoginForm(a){if(!a)return!1;try{gettldcached(a.location.href)}catch(b){return!1}var c=MAX_FORMS_SOFT;LP_exceedFormsThreshold(a)||(c=MAX_FORMS_HARD);for(var d=a.getElementsByTagName("form"),e=!1,f=0;f<d.length&&f<c;f++)if(e=chk_form_is_nonlogin_form(a,d[f]))return e;return!1}
function checkForSignupForm(a){if(!a)return!1;var b=MAX_FORMS_SOFT;LP_exceedFormsThreshold(a)||(b=MAX_FORMS_HARD);for(var c=a.getElementsByTagName("form"),d=!1,e=0;e<c.length&&e<b;e++)if(d=chk_form_ask_generate(a,c[e]))return d;return!1}
function chk_form_has_password(a,b,c){if(null==a||(null==b||!b||!(b.tagName&&"FORM"==b.tagName.toUpperCase()))||b.elements.length>MAX_FORM_ELEMENTS_HARD)return!1;var d=LP_pickFormName(a,b),e=formcacheget(a,d,"is_login");if(null!=e)return g_ctr_formcache_hits++,e;g_ctr_formcache_misses++;try{var f=gettldcached(a.location.href)}catch(g){return!1}for(var h=!1,j=e=0,k=0,m=null,p=0;p<MAX_FORM_ELEMENTS_SOFT&&p<b.elements.length;p++){var l=b.elements[p];"INPUT"==l.tagName&&("password"==l.type?e++:("text"==
l.type||"email"==l.type)&&j++);if("INPUT"==l.tagName&&"submit"==l.type||"BUTTON"==l.tagName)k++,m=l}if(1==k&&2>=j&&0<e&&checkButtonHint(m))return!0;var k=j=0,m=!lpIsVisible(b),q=!1;b=b.elements;for(p=0;p<MAX_FORM_ELEMENTS_SOFT&&p<b.length;p++)if(l=b[p],h=!1,"FIELDSET"!=l.tagName&&(check_for_ASP(a,l),valid_by_role(a,l)&&!LP_fieldIsDisabled(l)&&!LP_treat_as_hidden(l))){if("text"==l.type&&is_watermark(l.className)&&is_watermark_password(l))try{l.type="password",lpdbg("onload","switching field from text to password from chk_form_has_password")}catch(r){h=
!0}ASP_treat_text_as_password(l)&&(h=!0);if(1<e&&LP_passwordAlt(a,l))k++;else{var n=fieldIsDoublePassword(a,l);if(!("text"==l.type&&(n===DOUBLE_PW_VISIBLE||n===DOUBLE_SECRET_PW_VISIBLE)))if("password"==l.type||h||"text"==l.type&&n===DOUBLE_TEXT_VISIBLE||"text"==l.type&&n===DOUBLE_SECRET_TEXT_VISIBLE){if(!("facebook.com"==f&&"string"==typeof l.id&&l.id.match(/^[a-z0-9]{6}_\d{1,2}_ci_password$/)))if("tdbank.com"==f&&"string"==typeof l.name&&"user"==l.name)k++;else{if(g_fillaid&&c)return!0;if(g_aspx_hack&&
isASPpage()&&do_bgiconinput)verbose_log("ASP/bgicon login");else if(!lpIsVisible(l)||g_use_wacky_disp&&!is_wacky_disp(a,l))if(q=!0,m)verbose_log("EVALUATING HIDDEN FORM, NOT IGNORING HIDDEN FIELD ANYMORE "+LP_pickFormName(a,l));else continue;if(0==j&&1<e&&passwordIsFake(l))k++;else if(l=2,h="",g_aspx_hack&&(isASPpage()&&do_bgiconinput)&&(l=4,h=" [ASP]"),++j>=l)return formcacheset(a,d,"is_login",!1),verbose_log("Password Form detection: "+d+h+" has too many password fields; do not treat as login form [PW:"+
j+"/NON:"+k+"]"),null}}else if("email"==l.type||"text"==l.type||"textarea"==l.type||"tel"==l.type||"url"==l.type){if(!lpIsVisible(l)||g_use_wacky_disp&&!is_wacky_disp(a,l))if(m)verbose_log("EVALUATING HIDDEN FORM, NOT IGNORING HIDDEN FIELD ANYMORE "+LP_pickFormName(a,l));else continue;k++;if(g_aspx_hack&&5<k||!g_aspx_hack&&2<k)return formcacheset(a,d,"is_login",!1),verbose_log("Password Form detection: "+d+" has too many non-password fields; do not treat as login form [PW:"+j+"/NON:"+k+"]"),null}}}if(1==
j)return verbose_log("Password Form detection: "+d+" is a login form, has only one passwd field"),formcacheset(a,d,"is_login",!0),!0;if(g_aspx_hack&&(isASPpage()&&do_bgiconinput)&&1<j)return verbose_log("Password Form detection: "+d+" is an ASP form, treat as login form"),formcacheset(a,d,"is_login",!0),!0;q||formcacheset(a,d,"is_login",!1);return!1}
function LP_getElementByIdOrName(a,b,c){"document"==a&&(a=document);if(null==a||null==b||0==b.length||"undefined"==typeof a.getElementsByTagName)return null;c=c?c.toUpperCase():"INPUT";c.toLowerCase();for(var d=LP_getAllInputsByIdOrName(a,b,!0),e=[],f=0;f<d.length;f++)e[e.length]=d[f];var f=e.length,g=a.getElementById(b);if(null!=g){if(0==f||1==f&&(d[0]==g||null==d[0]))return g;e[e.length]=g}if(LP_name_is_inputidx(a,b)&&(b=LP_getinputidx_from_name(a,b),null!==b&&(g=LP_getElementByIdx(a,b),null!=g)))return g;
if(1==f)return e[0];if(0==f)return null;b=[];d=0;f=-1;if("undefined"!=typeof Math){for(var g=Math.floor(1E4*Math.random()),h=0;h<e.length;h++)b[h]=0,e[h].tagName.toUpperCase()==c&&(b[h]+=20,e[h]&&(e[h].tagName&&"INPUT"==e[h].tagName.toUpperCase())&&"hidden"!=e[h].type&&(b[h]+=10)),null!=e[h].style&&"none"!=e[h].style.display&&checkIsDisplayed(a,e[h],0,null,g,!0)&&(b[h]+=5),do_bgiconinput&&(e[h]&&(e[h].tagName&&"INPUT"==e[h].tagName.toUpperCase())&&inputHasLPBackground(e[h]))&&(b[h]+=7),null!=e[h].style&&
"hidden"!=e[h].style.visibility&&(b[h]+=3),e[h]==g_popupfill_parent&&null!=g_popupfill_parent?b[h]+=5:e[h]==a.g_popupfill_parent&&null!=a.g_popupfill_parent&&(b[h]+=5),b[h]>d&&(d=b[h],f=h);return 0<=f?e[f]:null}}
function LP_getAllInputsByIdOrName(a,b,c){if(null==a||null==b||0==b.length||"undefined"==typeof a.getElementsByTagName)return null;var d=!0;null!==c&&(d=c);var e=a.getElementsByName(b);c=[];for(var f=0;f<e.length;f++)c[c.length]=e[f];if(d){a=a.getElementsByTagName("input");e=a.length;e>MAX_INPUTS_SOFT&&(e=MAX_INPUTS_SOFT);for(d=0;d<e;d++)a[d].id==b&&c.push(a[d])}else(b=LP_getElementByIdOrName(a,b))&&c.push(b);return c}function looksLikePassword(a,b){return isInputFieldPassword(a,b)}
function isInputFieldPassword(a,b){if(null==a||null==b||"INPUT"!=b.tagName||"hidden"==b.type)return!1;try{var c=gettldcached(a.location.href)}catch(d){return!1}if(!valid_by_role(a,b))return!1;var e=!1;if("text"==b.type&&is_watermark(b.className)&&is_watermark_password(b))try{b.type="password"}catch(f){e=!0}if("text"==b.type&&(0==b.name.indexOf("pass")||0==b.name.toLowerCase().indexOf(lpgs("Password").toLowerCase())))return!0;g_aspx_hack&&isASPpage()&&do_bgiconinput&&"text"==b.type&&0<=b.value.toLowerCase().indexOf(lpgs("Password").toLowerCase())&&
(e=!0);return"password"==b.type||e?"facebook.com"==c&&"string"==typeof b.id&&b.id.match(/^[a-z0-9]{6}_\d{1,2}_ci_password$/)||"tdbank.com"==c&&"string"==typeof b.name&&"user"==b.name?!1:!0:!1}
function isEmptyObject(a){if("undefined"==typeof Object.keys){var b=Object,c=Object.prototype.hasOwnProperty,d=!{toString:null}.propertyIsEnumerable("toString"),e="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),f=e.length;b.keys=function(a){if("object"!==typeof a&&("function"!==typeof a||null===a))throw new TypeError("Object.keys called on non-object");var b=[],j;for(j in a)c.call(a,j)&&b.push(j);if(d)for(j=0;j<f;j++)c.call(a,e[j])&&b.push(e[j]);
return b}}return 0===Object.keys(a).length}function LP_getname(a,b){if("undefined"!=typeof a&&null!=a){if(b&&"string"==typeof a.id&&""!=a.id)return a.id;if("string"==typeof a.name&&""!=a.name)return a.name;if("string"==typeof a.id)return a.id}return""}
function LP_getWindowWidth(a){g_ctr_getWW++;if(!a)return 0;var b=a.innerWidth,c=a.document;if(!c)return 0;a=null;"undefined"!=typeof c.body?a=c.body:c.getElementById("main")&&(a=c.getElementById("main"));var d=c.getElementById("_lpinvis");null==d&&(d=c.createElement("div"),d.id.left="_lpinvis",d.style.left="0px",d.style.right="0px",d.style.top="0px",d.style.height="0px",d.style.visibility="hidden",a.appendChild(d));var e=LP_getComputedStyle("undefined"!=typeof window&&window?window:c.defaultView,
a);if(!e)return 0;c=parseInt(e.marginLeft);e=parseInt(e.marginRight);0<d.offsetWidth&&(b=0<c||0<e?d.offsetWidth+e+c:d.offsetWidth);a.removeChild(d);return b}
function checkDocumentForLoginOrphans(a){if(!a)return!1;var b=formcacheget(a,"fakedoc","orphan");if(null!=b)return g_ctr_formcache_hits++,b;g_ctr_formcache_misses++;var b=[],c=[],d=[],e=0,f,g=0;if("undefined"!=typeof Math){for(var h=Math.floor(1E4*Math.random()),j=["input"],k=0;k<j.length;k++)for(var m=a.getElementsByTagName(j[k]),p=0;p<m.length&&!(100<p);p++)if(checkIsDisplayed(a,m[p],0,null,h)){f=m[p];if(null!=f.id&&""!=f.id){var l=d[f.id];if(null==l)d[f.id]=!0;else continue}if(null!=f.name&&""!=
f.name)if(l=c[f.name],null==l)c[f.name]=!0;else continue;if(lp_in_array(LP_pickFieldName(a,f),b))verbose_log("fieldname "+b[l]+" is blacklisted, skipping");else{var q=fieldIsDoublePassword(a,f);if(null==f.form&&("password"==f.type||"text"==f.type&&q===DOUBLE_TEXT_VISIBLE||"text"==f.type&&q===DOUBLE_SECRET_TEXT_VISIBLE))if(e++,(f=LP_pickFieldName(a,f))&&f.toLowerCase().indexOf(lpgs("Password"))&&0<p)f=LP_pickFieldName(a,m[p-1]),RegExp(lpgs("ff_username_regexp"),"i").exec(f)&&g++;if(2<=e&&2<=g)break}}if(1<=
e||1==g)return formcacheset(a,"fakedoc","orphan",!0),!0;formcacheset(a,"fakedoc","orphan",!1);return!1}}
function do_icon_mouseover(a,b,c){if(null==a||null==b)return!1;var d=a.getElementById(b+"_icon");if(g_use_grey_icons&&is_your_popup_showing(a))return null!=d&&(d.style.opacity="1",d.style.filter="alpha(opacity=100)"),!1;if(null!=d){var e=!0;if(null!=a.getElementById(b)){var f=!1;c=LP_pickFieldName(a,c);if(c=getIconState(a,c))f=c.fillhint;"formfills"==f?(d.src=ff_svg,d.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+g_ff_ico+"';"),e=!1):"offersave"==f?e=!1:"generate"==f&&g_use_grey_icons&&
(d.src=pw_svg,d.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+g_pw_ico+"';"),e=!1)}e&&(d.src=sites_svg,d.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+g_sites_ico+"';"));d.style.opacity="1";d.style.filter="alpha(opacity=100)"}g_do_icon_number_hint&&(a=a.getElementById(b+"_numspan"),null!=a&&g_icon_shading&&(a.style.backgroundColor="#CCFF99"))}
function do_icon_mouseout(a,b,c){if(null==a||null==b)return!1;var d=a.getElementById(b+"_icon");if(g_use_grey_icons&&is_your_popup_showing(a))return null!=d&&(d.style.opacity="0.6"),!1;if(null!=d){if(null==a.getElementById(b))return!1;var e=!1;c=LP_pickFieldName(a,c);if(c=getIconState(a,c))e=c.fillhint;if(null==e||""===e||"sites"!==e&&"formfills"!==e&&"generate"!==e&&"offersave"!==e)e="default";"default"==e||"sites"==e?(d.src=sites_svg,d.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+
g_sites_ico+"';"),d.style.opacity="0.6",d.style.filter="alpha(opacity=60)"):"formfills"==e?(d.src=ff_svg,d.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+g_ff_ico+"';"),d.style.opacity="0.6",d.style.filter="alpha(opacity=60)"):"generate"==e&&(d.src=pw_svg,d.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+g_pw_ico+"';"),d.style.opacity="0.6",d.style.filter="alpha(opacity=60)")}g_do_icon_number_hint&&(a=a.getElementById(b+"_numspan"),null!=a&&(g_icon_shading?
a.style.backgroundColor="#FFFFFF":a.style.display=""))}
function do_icon_number_hint(a,b,c){if("undefined"!=typeof g_icon_number_overrides){g_icon_number_overrides.sites=null==a||"undefined"!=typeof parseInt&&0>parseInt(a)||"undefined"==typeof parseInt&&0>a?-1:a;g_icon_number_overrides.formfills=null==b||"undefined"!=typeof parseInt&&0>parseInt(b)||"undefined"==typeof parseInt&&0>b?-1:b;if(do_bgiconinput){if(!c&&(c=LP_derive_doc(),!c))return;refresh_input_all_icon_bg(c)}g_isfirefox&&(LP&&"undefined"!=typeof g_icon_number_in_toolbar&&g_icon_number_in_toolbar)&&
LP.lp_handle_buttons_all("refresh")}}
function do_save_site_success_msg(a){a||(a=document,!a&&LP&&(a=LP.getBrowser().contentDocument));if(a){if(g_show_save_success_msg){var b=a.createElement("div");b.id="__lpsavemsgdiv";var c=LP_getWindowWidth(window);if(!c)return!1;c=c-parseInt("210px")-30+"px";LP_elt_set_text(b,lpgs("You have saved your password to your LastPass Vault."));b.style.cssText="position:absolute !important; visibility:visible !important; z-index:"+CLICKABLE_ICON_ZINDEX+" !important; border-style:solid !important; border-width:1px !important; border-color:#4c4c4c !important; font-size:14px; font-family: Arial,Helvetica,sans-serif; width: 210px !important; top:25px !important; left:"+c+
" !important; background-color: #e6e6e6; margin: 4px !important; border-radius: 4px; padding: 5px 5px 5px 15px !important; background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAMAAABhq6zVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3BpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMi1jMDAxIDYzLjEzOTQzOSwgMjAxMC8xMC8xMi0wODo0NTozMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpDQ0JFNTgxNzA4MjA2ODExOTJCMEZBNzdDQkU2Qjg4RiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1RTA4N0Y4OEZCQUYxMUUyOTAyNEMwRUQyN0ZDRTk1QyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1RTA4N0Y4N0ZCQUYxMUUyOTAyNEMwRUQyN0ZDRTk1QyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgRWxlbWVudHMgMTEuMCBNYWNpbnRvc2giPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyMEEzMzFENkUxMjA2ODExOTJCMEZBNzdDQkU2Qjg4RiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDQ0JFNTgxNzA4MjA2ODExOTJCMEZBNzdDQkU2Qjg4RiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqEZ7U4AAAAwUExURfL6+uHMzaoWLIoDFKVJJ2oEFsQaK7cCHMtfaNWrEcFJOsg2PsqnqdWGi584RAAAAIK7gZ4AAAAQdFJOU////////////////////wDgI10ZAAAAWUlEQVR42jzMUQ4AMQQEUKpoFnX/2+403exEZN4H1DHsZjQ9/kcOgsN4fVhURXVhxkRsBkxnPmCOg8xEzRyAuAOJEwVk0cIPAbbIriG5D6Zi31Fq/dOvAAMADDMDTO9yI2MAAAAASUVORK5CYII=); background-repeat:no-repeat; background-position: left top;background-attachment: scroll;";
"undefined"!=typeof a.body?a.body.appendChild(b):a.getElementById("main")&&a.getElementById("main").appendChild(b);setTimeout(function(){destroy_save_site_success_msg(a,b.id,0);return!1},1500)}return!1}}
function destroy_save_site_success_msg(a,b,c){var d=a.getElementById(b);if(null!=d){if(null===c)return d.parentNode.removeChild(d),!1;c<FADE_MAXSTATES?("undefined"!=typeof d.style.opacity?d.style.opacity=(100-100/FADE_MAXSTATES*(c+1))/100:d.style.filter="alpha(opacity="+(100-20*(c+1))+")",c++,setTimeout(function(){destroy_save_site_success_msg(a,d.id,c);return!1},10)):d.parentNode.removeChild(d)}return!1}
function closepopupfills(a){if(do_experimental_popupfill&&(a||(a=document),null!=a)){"undefined"!=typeof g_popup_iframe_doc&&(g_popup_iframe_doc=null);g_create_iframe_in_top&&!g_isie&&!g_isfirefox&&LP_inIframe(window)&&toplevel_iframe_state_get()&&sendBG({cmd:"closepopuptoplevel"});var b,c=a.getElementsByTagName("iframe"),d=[];for(b=0;b<c.length;b++)d[b]=c[b];for(b=0;b<c.length;b++){var e=d[b];if("undefined"!=typeof e.id&&null!=e.id){var f=LPMAGICIFRAME;0==e.id.indexOf(f)&&(g_use_grey_icons&&(f=e.id.substr(f.length),
null!=LP_getElementByIdOrName(a,f)&&revert_clickable_icon(a,f)),verbose_log("deleting iframe named "+e.id),e.parentNode&&e.parentNode.removeChild(e))}}do_icon_number_hint(-1,-1,a);if(g_double_password_hack||g_double_secret_password_hack)if(g_double_secret_password_hack=g_double_password_hack=!1,g_input_cnt=0,g_isfirefox){for(a=LP.getBrowser().contentWindow;null!=a.top&&a.top!=a;)a=a.top;a=lpGetBrowserForDocument(a.document);verbose_log("checkShouldRecheck post closepopup");LP.checkShouldRecheck(a)}else g_double_password_wtf?
(g_form_cnt=g_input_cnt=0,checkShouldRecheck()):(formcachereset(a),fieldcachereset(a),setupIcons(a));g_popupfill_parent_last=g_popupfill_parent;g_popupfill_parent=null;g_minheight_override=g_minwidth_override=g_popupfill_iframe_height_save=g_popupfill_iframe_width_save=g_popupfill_ctr=0;"undefined"!=typeof g_isie&&g_isie&&"undefined"!=typeof init_LPfn&&(init_LPfn()&&LPfn)&&LPfn.ie_set_kbdnav(!1)}}
function popupfill_resize(a){do_experimental_popupfill&&(a||(a=document?document:LP.getBrowser().contentDocument),null==a&&"undefined"!=typeof g_isfirefox&&g_isfirefox?end_weasel():0<a.location.href.indexOf(".xul")||(relocate_popupfill_clickables(a),relocate_popupfill_iframes(a),!1==g_weaseled&&weasel(100),g_weaseled=!0))}var MSGDIVID="__lpsuggestmsgdiv";function do_save_suggest_msg(a,b){if(null!=b&&!do_bgiconinput)return!1}function destroy_save_suggest_msg(){return!1}
function LP_measureTextCacheSet(a,b,c,d){if(null==a||null==b||null==c||0===b.length||0===c.length||null==d)return null;"undefined"==typeof a.g_LP_measureText_cache&&(a.g_LP_measureText_cache=[]);null==a.g_LP_measureText_cache[c]&&(a.g_LP_measureText_cache[c]={});a.g_LP_measureText_cache[c][b]=d;return!0}
function LP_measureTextCacheGet(a,b,c){return null==a||(null==b||null==c||0===b.length||0===c.length)||"undefined"==typeof a.g_LP_measureText_cache?null:null!=a.g_LP_measureText_cache[c]&&null!=a.g_LP_measureText_cache[c][b]?a.g_LP_measureText_cache[c][b]:null}
function chk_form_changepw(a,b){if(null==a||null==b)return!1;for(var c=lpCheckCurrentPWField(b),d=!1,e=null,f=null,g=1;2>=g;g++){var d=!1,e=f=null,h=-1;if(1==g){if(c)for(var j=0;j<b.elements.length;j++)if(b.elements[j]==c){h=j+1;break}}else h=0;if(-1!=h){for(j=h;j<b.elements.length;j++)if(h=b.elements[j],"FIELDSET"!=h.tagName)if(isInputFieldPassword(a,h)){if(d||!e||!f)if(f=e,e=h,d&&e&&f)break;d=!0}else d=!1;if(e&&f)break}}return null!=e&&null!=f&&null!=c?!0:!1}
function change_clickable_icon_to_cancel(a,b){if(null!=a&&g_use_grey_icons){var c=a.getElementById(b+"_icon");if(null!=c){if(null==a.getElementById(b))return!1;c.src=close_svg;c.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+g_close_ico+"';");c.style.opacity="0.6";c.style.filter="alpha(opacity=60)"}}}
function revert_clickable_icon(a,b){verbose_log("entered revert_clickable_icon");if(null!=a&&g_use_grey_icons){var c=LP_getElementByIdOrName(a,b),d=getIconState(a,b),e=!1,f="sites";d&&"undefined"!=typeof d.dofloater&&(e=d.dofloater);d&&"undefined"!=typeof d.fillhint&&(f=d.fillhint);verbose_log("entered BG image revert");c?e?reset_floating_icon(a,c,f):set_input_icon_image(a,c,f):verbose_log("could not find field named "+field_id)}}
function visual_cue_frag(a,b){var c="";if(null===a||0>=a.length)return c;popup_show_menu_expand_visual_cue&&(c="",g_visual_cue_on_hover&&(c=" style='display:none;'"),c="<span id='"+a+lp_ofa(b)+"' expander='true' class='expander' "+c+"><img id='"+a+"img"+lp_ofa(b)+"' src='arrow.png' />  </span>\n");return c}
function conditional_create_popup(a,b,c){if(null==a||null==b||!g_clickable_input)return!1;if(!("undefined"!=typeof g_isloggedin?g_isloggedin:lploggedin))return!0;var d=b.form,e=form_get_username(a,d),f=form_get_password(a,d);null==d&&checkDocumentForLoginOrphans(a)&&(e=doc_get_orphan_username(a),f=doc_get_orphan_password(a));if(!(null==e||null==f)){var g=checkDocumentForLoginOrphans(a)||chk_form_has_password(a,d),h=chk_form_is_nonlogin_form(a,d),d=chk_form_ask_generate(a,d),j=LPMAGIC+LP_pickFieldName(a,
b),j=a.getElementById(j);if("undefined"!=typeof e.value&&0<e.value.length&&"undefined"!=typeof f.value&&0<f.value.length&&(g||d)&&!h){if(null!=j)return g_popup_active_username=e,g_popup_active_password=f,popuptoggle(a,null,LP_pickFieldName(a,b),NO_FORCE_GENERATE,c),!0}else if(h||d)if(isInputFieldPassword(a,b))d&&g_aspx_hack&&isASPpage()&&!isContigPW(a,b.form,b)?null!=j&&(g_popup_active_username=e,g_popup_active_password=f,popuptoggle(a,null,LP_pickFieldName(a,b),NO_FORCE_GENERATE,FORCE_SHOW_NOHITS)):
null!=j&&(g_popup_active_username=e,g_popup_active_password=f,popuptoggle(a,null,LP_pickFieldName(a,b),FORCE_OFFER_GENERATE,FORCE_SHOW_NOHITS));else if(looksLikeUsername(b)||looksLikeEmail(a,b))g_popup_active_username=e,g_popup_active_password=f,popuptoggle(a,null,LP_pickFieldName(a,b),NO_FORCE_GENERATE,FORCE_SHOW_NOHITS)}return!1}
function form_get_password(a,b){if(null==a||null==b)return null;g_ctr_form_get_password_N++;var c=b.elements;if("undefined"!=typeof Math){for(var d=Math.floor(1E4*Math.random()),e=0;e<c.length;e++){var f=c[e];if("FIELDSET"!=f.tagName&&checkIsDisplayed(a,f,0,null,d)&&isInputFieldPassword(a,f))return f}return null}}
function form_get_username(a,b){if(null==a||null==b)return null;g_ctr_form_get_username_M++;var c=b.elements;if("undefined"!=typeof Math){for(var d=Math.floor(1E4*Math.random()),e=0;e<c.length;e++){var f=c[e];if(!("FIELDSET"==f.tagName||"hidden"==f.type))if(valid_by_role(a,f)&&!LP_fieldIsDisabled(f)&&!is_search_field(a,f,!0)&&checkIsDisplayed(a,f,0,null,d)&&("text"==f.type||"email"==f.type||looksLikeUsername(f))){if(isFirstFieldNonLoginSubForm(a,f))break;return f}}return null}}
function doc_get_orphan_username(a){if(null==a)return null;g_ctr_orphan_get_username_P++;var b=["input"];if("undefined"!=typeof Math){for(var c=Math.floor(1E4*Math.random()),d=0;d<b.length;d++)for(var e=a.getElementsByTagName(b[d]),f=0;f<e.length;f++){if(100<f)return null;var g=e[f];if(null==g.form&&checkIsDisplayed(a,g,0,null,c)&&("text"==g.type||"email"==g.type||looksLikeUsername(g)))return g}return null}}
function doc_get_orphan_password(a){if(null==a)return null;g_ctr_orphan_get_password_Q++;var b=["input"];if("undefined"!=typeof Math){for(var c=Math.floor(1E4*Math.random()),d=0;d<b.length;d++)for(var e=a.getElementsByTagName(b[d]),f=0;f<e.length;f++){if(100<f)return null;var g=e[f];if(null==g.form&&checkIsDisplayed(a,g,0,null,c)&&isInputFieldPassword(a,g))return g}return null}}
function set_active_username_password(a,b){if(null==a)g_popup_active_password=g_popup_active_username=null;else{var c=null,d=null;null==b?checkDocumentForLoginOrphans(a)&&(c=doc_get_orphan_username(a),d=doc_get_orphan_password(a)):(c=form_get_username(a,b),d=form_get_password(a,b));g_popup_active_username=c;g_popup_active_password=d}}function looksLikeEmail(a,b){return null==a||null==b||!("text"==b.type||"email"==b.type)?!1:"email"==b.type||RegExp(lpgs("ff_email_regexp"),"i").exec(b.name)?!0:!1}
function is_search_field(a,b,c){if(null==a||(null==b||"INPUT"!=b.tagName)||"text"!=b.type)return!1;null===c&&(c=!1);var d=LP_pickFieldName(a,b),e=fieldcacheget(a,d,"search");if(null!=e)return g_ctr_formcache_hits++,e;g_ctr_formcache_misses++;var e=b.form,f=[];null!=e&&(f=e.elements);if(b.parentNode&&"FORM"!=b.parentNode.tagName&&b.parentNode.className&&0<=b.parentNode.className.toLowerCase().indexOf("login")&&b.className&&0<=b.className.toLowerCase().indexOf("search"))return!1;if((null!=b.className&&
0<=b.className.toLowerCase().indexOf("search")||0<=b.className.toLowerCase().indexOf("srch")||0<=b.id.toLowerCase().indexOf("search")||0<=b.id.toLowerCase().indexOf("srch")||0<=b.name.toLowerCase().indexOf("search")||0<=b.name.toLowerCase().indexOf("srch"))&&0>b.name.toLowerCase().indexOf("user")&&0>b.name.toLowerCase().indexOf("login")&&0>b.id.toLowerCase().indexOf("user")&&0>b.id.toLowerCase().indexOf("login")&&(c||5>f.length))return fieldcacheset(a,d,"search",!0),!0;c=RegExp(lpgs("ff_search_regexp"),
"i");if(c.exec(b.name)||c.exec(b.id))if(c=b.name&&b.name.match(/[qQ]/)||b.id&&b.id.match(/[qQ]/),e=RegExp(lpgs("ff_email_regexp"),"i"),f=RegExp(lpgs("ff_username_regexp"),"i"),c&&b.name&&!b.name.match(/^[qQ]/)&&(!b.id||b.id&&!b.id.match(/^[qQ]/)))pass;else if(c&&b.id&&!b.id.match(/^[qQ]/)&&(!b.name||b.name&&!b.name.match(/^[qQ]/)))pass;else if(c&&(f.exec(b.name)||f.exec(b.id)||e.exec(b.name)||e.exec(b.id)))pass;else return verbose_log("field "+d+" appears to be a search field based on regexp"),fieldcacheset(a,
d,"search",!0),!0;c=b.getAttribute("placeholder");if(null!=c&&0<=c.toLowerCase().indexOf("search"))return verbose_log("field "+d+" appears to be a search field based on placeholder text"),fieldcacheset(a,d,"search",!0),True;if("rds-instances-filter-txtbx"==b.id)return verbose_log("field "+d+" appears to be a search field based on manually added searchtext"),fieldcacheset(a,d,"search",!0),!0;if(b.parentNode&&"FORM"!=b.parentNode.tagName&&b.parentNode.className&&(0<=b.parentNode.className.toLowerCase().indexOf("search")||
0<=b.parentNode.className.toLowerCase().indexOf("srch"))||"search"==b.getAttribute("role"))return fieldcacheset(a,d,"search",!0),!0;c=b.getAttribute("spellcheck");if(b.className&&0<=b.className.indexOf("tt-input")&&c&&"false"===c)return fieldcacheset(a,d,"search",!0),!0;fieldcacheset(a,d,"search",!1);return!1}
function is_date_field(a){if(!a)return!1;var b=a.name,c=/(?:date)|(?:calendar)/i,d=/(?:validate)/i,b=a.name,e=a.id,f=a.className;if(c.exec(b)||c.exec(e)||c.exec(f))return d.exec(b)||d.exec(e)||d.exec(f)?!1:!0;if(a=a.getAttribute("placeholder"))if(a=a.toLowerCase(),-1!=a.indexOf("yyyy")||-1!=a.indexOf("/yy")||-1!=a.indexOf("mm/"))return!0;return!1}
function is_search_form(a,b){if(null==a||null==b||"FORM"!=b.tagName)return!1;var c=LP_pickFormName(a,b),d=formcacheget(a,c,"search");if(null!=d)return g_ctr_formcache_hits++,d;g_ctr_formcache_misses++;if(null!=b.id&&0<b.id.length&&"undefined"!=typeof b.id.toLowerCase&&(0<=b.id.toLowerCase().indexOf("search")||0<=b.id.toLowerCase().indexOf("srch"))||null!=b.name&&0<b.name.length&&"undefined"!=typeof b.name.toLowerCase&&(0<=b.name.toLowerCase().indexOf("search")||0<=b.name.toLowerCase().indexOf("srch")))return verbose_log("form "+
c+" appears to be a search form based on name/id "),formcacheset(a,c,"search",!0),!0;if("search"==b.getAttribute("role"))return formcacheset(a,c,"search",!0),!0;formcacheset(a,c,"search",!1);return!1}function LP_pickFormName(a,b){var c="none";if(null!=b&&(c=LP_getname(b,LP_GETNAME_FAVOR_ID_OVER_NAME),null==c||0>=c.length))c=null!=b.action&&0<=b.action.length||null!=b.className&&0<=b.className.length?"FF"+b.action+b.className:"none";return c}
function looksLikeUsername(a,b){if("undefined"==typeof b||null===b)b=!1;g_ctr_looksLikeUsername_R++;if(!b&&"text"!=a.type&&"email"!=a.type)return!1;var c=RegExp(lpgs("ff_username_regexp"),"i");if(c.exec(a.name)||a.id&&c.exec(a.id))return!0;var d=a.getAttribute("placeholder");if(null!=d&&0<=d.indexOf("Login"))return!0;d=RegExp(lpgs("ff_loginform_regexp"),"i");if(a.form)for(var e=a.form.elements,f=0;f<e.length;f++)if("submit"==e[f].type&&(e[f].name&&c.exec(e[f].name)||d.exec(e[f].name)))return!0;c=
/^id$|.*-id|online.*id$|.*Id$/i;if(c.exec(a.name))return!0;if(g_is_specialsite){c=RegExp(lpgs("ff_bankacctnum_regexp"),"i");if(c.exec(a.name))return!0;c=RegExp(lpgs("ff_company_regexp"),"i");if(c.exec(a.name))return!0;c=RegExp(lpgs("ff_email_regexp"),"i");if(c.exec(a.name))return!0}return!1}function formHasUsernameField(a){if(a=a.form){a=a.elements;for(var b=0;b<a.length;b++){var c=a[b];if("text"==c.type||"email"==c.type)return!0}}return!1}
var DOUBLE_TEXT_VISIBLE=1,DOUBLE_PW_VISIBLE=2,DOUBLE_SECRET_TEXT_VISIBLE=3,DOUBLE_SECRET_PW_VISIBLE=4,NOT_DOUBLE_PW=0;
function fieldIsDoublePassword(a,b){"document"==a&&(a=document,b=LP_getElementByIdOrName(a,b));if(null==a&&(a=document,!a))return!1;if(null==b||"checkbox"==b.type||"button"==b.type||"submit"==b.type||"select-one"==b.type)return NOT_DOUBLE_PW;var c=null,d=null,e=null,f=null;if("undefined"!=typeof b.previousElementSibling)c=b.previousElementSibling;else if((c=b.previousSibling)&&null!=c.nodeType&&3==c.nodeType)c=c.previousSibling;if("undefined"!=typeof b.nextElementSibling)d=b.nextElementSibling;else if((d=
b.nextSibling)&&null!=d.nodeType&&3==d.nodeType)d=d.nextSibling;c&&"INPUT"!=c.tagName&&(c=null);d&&"INPUT"!=d.tagName&&(d=null);if(c){if("undefined"!=typeof c.previousElementSibling)e=c.previousElementSibling;else if((e=c.previousSibling)&&null!=e.nodeType&&3==e.nodeType)e=e.previousSibling;e&&"INPUT"!=e.tagName&&(e=null)}if(d){if("undefined"!=typeof d.nextElementSibling)f=d.nextElementSibling;else if((f=d.nextSibling)&&null!=f.nodeType&&3==f.nodeType)f=f.nextSibling;f&&"INPUT"!=f.tagName&&(f=null)}if("undefined"!=
typeof Math){var g=Math.floor(1E4*Math.random());if("password"==b.type&&!checkIsDisplayed(a,b,-1,null,g)&&c&&"text"==c.type&&!checkIsDisplayed(a,c,-1,null,g)&&d&&"text"==d.type&&checkIsDisplayed(a,d,-1,null,g)&&f&&"text"==f.type&&checkIsDisplayed(a,f,-1,null,g)||"text"==b.type&&checkIsDisplayed(a,b,-1,null,g)&&c&&"text"==c.type&&checkIsDisplayed(a,c,-1,null,g)&&e&&"password"==e.type&&!checkIsDisplayed(a,e,-1,null,g))return verbose_log("field "+LP_pickFieldName(a,b)+" needs double secret password hack"),
g_double_secret_password_hack=!0,DOUBLE_SECRET_TEXT_VISIBLE;if("password"==b.type&&checkIsDisplayed(a,b,-1,null,g)&&c&&"text"==c.type&&!checkIsDisplayed(a,c,-1,null,g)||"text"==b.type&&!checkIsDisplayed(a,b,-1,null,g)&&d&&"password"==d.type&&checkIsDisplayed(a,d,-1,null,g))return verbose_log("field "+LP_pickFieldName(a,b)+" needs double password hack"),g_double_password_hack=!0,DOUBLE_PW_VISIBLE;var e=null!=b&&lpIsVisible(b,!0),f=null!=c&&lpIsVisible(c,!0),g=null!=d&&lpIsVisible(d,!0),h=null!=b&&
looksLikeUsername(b),j=null!=c&&looksLikeUsername(c),k=null!=d&&looksLikeUsername(d);return"password"==b.type&&!e&&c&&"text"==c.type&&f&&!j||"text"==b.type&&e&&!h&&d&&"password"==d.type&&!g||"password"==b.type&&!e&&d&&"text"==d.type&&g&&!k||"text"==b.type&&e&&!h&&c&&"password"==c.type&&!f?(verbose_log("field "+LP_pickFieldName(a,b)+" needs double password hack"),g_double_password_hack=!0,DOUBLE_TEXT_VISIBLE):"password"==b.type&&e&&c&&"text"==c.type&&!f&&!j||"text"==b.type&&!e&&d&&"password"==d.type&&
g||"password"==b.type&&e&&d&&"text"==d.type&&!g&&!k||"text"==b.type&&!e&&c&&"password"==c.type&&f?(verbose_log("field "+LP_pickFieldName(a,b)+" needs double password hack"),g_double_password_hack=!0,DOUBLE_PW_VISIBLE):NOT_DOUBLE_PW}}var g_did_setupInputObserver=!1;
function setupInputObserver(a){null==a&&(a=document);var b;if(b=do_experimental_popupfill)b="undefined"!=typeof g_isfirefox&&g_isfirefox?a?a.g_did_setupInputObserver:null:g_did_setupInputObserver,b=!b;if(b){b="undefined"!=typeof window&&window?window:a.defaultView;var c=null;if("undefined"!=typeof WebKitMutationObserver)c=new WebKitMutationObserver(function(a){mutationObserverCallBack(a)});else if("undefined"==typeof MutationObserver)if("undefined"!=typeof b.MutationObserver){if(a&&a.location&&a.location.href.indexOf(".xul"))return;
c=new b.MutationObserver(function(a){mutationObserverCallBack(a)})}else return;null!=c&&(c.observe(a,{childList:!0,subtree:!0}),"undefined"!=typeof g_isfirefox&&g_isfirefox?a&&(a.g_did_setupInputObserver=!0):g_did_setupInputObserver=!0)}}
function mutationObserverCallBack(a){g_ctr_mutation_observer++;var b=!1;a.forEach(function(a){g_isfirefox&&LP.getBrowser();var c;if(!1==b)for(c=0;c<a.addedNodes.length;c++){var f=a.addedNodes[c];if("INPUT"==f.tagName||"SCRIPT"==f.tagName&&""!=f.src&&""===f.innerHTML){b=!0;break}}if(!1==b)for(c=0;c<a.removedNodes.length;c++)if("INPUT"==a.removedNodes[c].tagName){b=!0;break}});a=(new Date).getTime();if(b){if(g_isfirefox){for(var c=LP.getBrowser().contentWindow;null!=c.top&&c.top!=c;)c=c.top;c=lpGetBrowserForDocument(c.document);
verbose_log("mutation observer triggers checkShouldRecheck");LP.checkShouldRecheck(c)}else checkShouldRecheck();g_last_recheck=a}}
function enableScrollOnIframe(a,b){null==b&&(b=document?document:LP.getBrowser().contentDocument);if(null==b)return null;verbose_log("enabling Scroll on Iframe for "+b.location.href);var c=b.getElementsByTagName("IFRAME"),d,e=null;if(null!=c&&0<c.length)for(d=0;d<c.length;d++){var e=c[d],f=a.replace(/^(https:|http:)/,"");verbose_log("checking iframe src="+lp_ofa(e.src)+" passed href="+lp_ofa(a));if(e.src==a||0<e.src.indexOf(a)||0<e.src.indexOf(f))"undefined"!=typeof g_isie&&g_isie?(e.setAttribute("scrolling",
"auto"),e.style.overflow="visible",e.style.maxHeight="none"):(e.setAttribute("scrolling","auto"),e.style.overflow="auto"),verbose_log("enabling scroll on iframe to "+lp_ofa(a))}}
function enableScrollWithinIframe(a,b){null==a&&(a=document);null==b&&(b=window);if(is_your_popup_showing(a)&&b.self!=b.top)if(verbose_log("enabling scroll on body of iframe"),g_isfirefox)a.body.style.overflow="auto";else if(g_isie){var c=0;"undefined"!=typeof init_LPfn&&(init_LPfn()&&LPfn)&&(c=LPfn.getDocumentMode(document));7<c?(a.body.style.overflow="visible",a.body.setAttribute("scroll","auto")):a.body.setAttribute("overflow","auto")}else a.body.style.overflow="auto"}
function LP_getIframeBySrc(a,b){null==a&&(a=document);var c=a.getElementsByTagName("IFRAME"),d;for(d=0;d<c.length;d++)if(c[d].src==b)return c[d];return null}function destroy_clickables(a){do_experimental_popupfill&&(a||(a=document),null!=a&&(end_weasel(a),closepopupfills(a),closeclickableicons(a),g_save_suggest_msg&&setTimeout(function(){destroy_save_suggest_msg(a,MSGDIVID,null);return!1},0),g_isie&&remove_LPfn()))}
function closeclickableicons(a){if(do_experimental_popupfill&&(a||(a=document),null!=a)){verbose_log("closeclickableicons called on "+a.location.href);var b=getAllIconStates(),c,d;for(c=0;c<b.length;c++){var e=b[c];(d=e.IHTMLElement)||(d=LP_getElementByIdOrName(a,e.idorname));if(!e.dofloat&&e.inframe&&!d)if(g_isfirefox)try{var f,g,h=a.getElementsByTagName("IFRAME");for(f=0;f<h.length;f++)g=h[f].contentDocument,(d=LP_getElementByIdOrName(g,e.idorname))&&"INPUT"==d.tagName&&removeLPBackground(d)}catch(j){verbose_log("Error frame traverse "+
j.message),g=null}else!g_isie&&g_create_iframe_in_top&&pass;else!e.dofloater&&(d&&inputHasLPBackground(d))&&removeLPBackground(d);resetAllIconStates()}b=LP_get_icon_divs(a);for(f in b)b.hasOwnProperty(f)&&null!=a.getElementById(b[f])&&(g_do_icon_number_hint&&LP_delete_floating_icon_hint(a,b[f]),LP_delete_floating_icon(a,b[f]));LP_reset_icon_divs(a)}}
function sort_popupfill_bylasttouch(a,b){return(null==b||null==b.last_touch||0==b.last_touch?1073741824:b.last_touch)-(null==a||null==a.last_touch||0==a.last_touch?1073741824:a.last_touch)}
function ContigPWHack(a,b,c){null===a&&(a=document);if(null===a||"undefined"==typeof a.getElementsByTagName)return!1;var d=lpCountInputFields(b);if("undefined"!=typeof Math){b=Math.floor(1E4*Math.random());if((3==d.passwordvisible||4==d.passwordvisible)&&!0===d.passwordsContiguous)for(var e=a.getElementsByTagName("input"),d=0;d<e.length&&!(100<d);d++)if(e[d]==c){if("undefined"!=typeof e[d+1]&&"password"==e[d+1].type&&"undefined"!=typeof e[d+2]&&"password"==e[d+2].type&&checkIsDisplayed(a,e[d],-1,
null,b)&&checkIsDisplayed(a,e[d+1],-1,null,b)&&checkIsDisplayed(a,e[d+2],-1,null,b))return!0;break}return!1}}
function isContigPW(a,b,c){null==b&&(b=a);var d=b.getElementsByTagName("input");if("undefined"!=typeof Math){var e=Math.floor(1E4*Math.random());for(b=0;b<d.length;b++)if(d[b]==c&&"password"==d[b].type){if("undefined"!=typeof d[b+1]&&"password"==d[b+1].type&&checkIsDisplayed(a,d[b],-1,null,e)&&checkIsDisplayed(a,d[b+1],-1,null,e)||"undefined"!=typeof d[b-1]&&"password"==d[b-1].type&&checkIsDisplayed(a,d[b],-1,null,e)&&checkIsDisplayed(a,d[b-1],-1,null,e))return!0;break}return!1}}
function get_prev_field(a,b){if("undefined"!=typeof b.previousElementSibling)prev_field=b.previousElementSibling;else if((prev_field=b.previousSibling)&&null!=prev_field.nodeType&&prev_field.nodeType==TEXT_NODE)prev_field=prev_field.previousSibling}function get_next_field(a,b){if("undefined"!=typeof b.nextElementSibling)next_field=b.nextElementSibling;else if((next_field=b.nextSibling)&&null!=next_field.nodeType&&next_field.nodeType==TEXT_NODE)next_field=next_field.nextSibling}
function is_modifier_key(a){if("undefined"!=typeof KeyEvent){if(a==KeyEvent.DOM_VK_ALT||a==KeyEvent.DOM_VK_SHIFT||a==KeyEvent.DOM_VK_CONTROL||a==KeyEvent.DOM_VK_WIN||a==KeyEvent.DOM_VK_META)return!0}else if(16==a||17==a||18==a||91==a||92==a||224==a)return!0;return!1}var tldcache=[];
function gettldcached(a){try{if("undefined"!=typeof tldcache[a])return tldcache[a];var b="undefined"!=typeof punycode?lp_gettld_url(punycode.URLToASCII(a)):lp_gettld_url(a);return tldcache[a]=b}catch(c){return lp_gettld_url(a)}}var g_tutorial_flags,TUTORIAL_FLAG_LPOV=1,TUTORIAL_FLAG_CONTEXT=2,g_context_tip_shown=0;
function setup_input_icon(a,b,c,d,e){if(null==b)return verbose_log("setup_input_icon: ERROR passed null field"),!1;g_isfirefox&&(LP&&"undefined"!=typeof g_icon_number_in_toolbar&&g_icon_number_in_toolbar)&&LP.lp_handle_buttons_all("refresh");var f=null,f="undefined"!=typeof LP&&"function"==typeof LP.lpGetCurrentWindow?"undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument:g_isfirefox?top.document:document;if(!do_experimental_popupfill)return!1;
a||(a=f);var g=LP_pickFieldName(a,b);if(null==b||(!f||!a)||LP_explicit_ignored(a,b))return!1;var h=getIconState(a,g);if(h&&h.IHTMLElement==b&&(inputHasLPBackground(b)||LP_floating_icon_exists(a,g)))return!1;h=null;if("generate"==c||!e&&shouldOfferGenerate(a,b))c="generate";var j=gettldcached(a.location.href),h=shouldCreateFloatingIcon(a,b,j),k=LP_get_text_dir(b);!1===k&&pass;f=a!=f;g_create_iframe_in_top&&(!g_isie&&!g_isfirefox&&LP_inIframe(window))&&(f=!0);e={fillhint:c,fillhintnumber:d[c],inframe:f,
idorname:g,doctld:j,dofloater:h?1:0,no_check_generate:e?1:0,IHTMLElement:b,textdir:k};if(h)if(g_isfirefox&&verbose_log("setup_input_icon step3b"),lpIsVisible(b)&&(null==b.form||b.form&&lpIsVisible(b.form)))saveIconState(g,e,b),LP_create_floating_icon(a,b,c,d);else return!1;else saveIconState(g,e,b),set_input_icon_image(a,b,c,!1);set_bg_highlight_effect_handlers(a,b,c);LP_didDocumentEscapeEvent(a)||(LP_setDocumentEscapeEvent(a),LP_addEventHandler(a,"keydown",function(a){LP_keypress_handler(a)},!1));
LP_didFieldKeyEvent(a,b)?verbose_log("skip KEYDOWN HANDLER ON "+LP_pickFieldName(a,b)):(verbose_log("SETTING KEYDOWN HANDLER ON "+LP_pickFieldName(a,b)),LP_setFieldKeyEvent(a,b),LP_addEventHandler(b,"keydown",function(d){LP_field_keypress_handler(d,b,c,a)},!1),g_isfirefox&&LP_addEventHandler(b,"keyup",function(c){handle_form_text_change(a,b,b.form,c)},!1));return!1}function refresh_input_icon_bg(a,b,c){if(!a&&(a=LP_derive_doc(),!a))return null;b&&set_input_icon_image(a,b,c,!1)}
function refresh_input_all_icon_bg(a){null==a&&(a=document);if(null!=a){try{if(0<a.location.href.indexOf(".xul"))return;verbose_log("refreshing input icons on "+a.location.href)}catch(b){return}var c=getAllIconStates(),d;for(d=0;d<c.length;d++){var e=c[d].idorname,f=c[d].fillhint,g=c[d].dofloater,h=c[d].IHTMLElement;element_is_detached(a,h,0)&&(h=null);h||(h=LP_getElementByIdOrName(a,e));h&&!g&&refresh_input_icon_bg(a,h,f)}}}
function saveIconState(a,b,c){try{a=null;a="undefined"!=typeof LP&&"function"==typeof LP.lpGetCurrentWindow?"undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument:g_isfirefox?top.document:document;"undefined"==typeof a.lpiconarr&&(a.lpiconarr=[]);var d;for(d=0;d<a.lpiconarr.length;d++){var e=a.lpiconarr[d];if(e.idorname==b.idorname&&e.IHTMLElement==b.IHTMLElement&&e.inframe==b.inframe){if(!checkIsDisplayed(c.ownerDocument,
c,null,null,null,!0))return;a.lpiconarr.splice(d,1)}}a.lpiconarr.push(b)}catch(f){verbose_log("save error "+f.message)}}
function getIconState(a,b){var c=null,c="undefined"!=typeof LP&&"function"==typeof LP.lpGetCurrentWindow?"undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument:g_isfirefox?top.document:document,d={};if("undefined"!=typeof c.lpiconarr){var e;for(e=0;e<c.lpiconarr.length;e++){var f=c.lpiconarr[e];if(f.idorname==b&&(!g_isfirefox||f.inframe==(a!=c)))d=f}}return d}
function hasIconState(a,b){return getIconState(a,b)?!0:!1}
function deleteIconState(a,b){var c=null,c="undefined"!=typeof LP&&"function"==typeof LP.lpGetCurrentWindow?"undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument:g_isfirefox?top.document:document;verbose_log("delete icon state from "+c.location.href+" for "+b);if("undefined"!=typeof c.lpiconarr){var d;for(d=0;d<c.lpiconarr.length;d++){var e=c.lpiconarr[d];e.idorname==b&&(!g_isfirefox||e.inframe==(a!=c))&&c.lpiconarr.splice(d,
1)}}}function getAllIconStates(){var a=null,a="undefined"!=typeof LP&&"function"==typeof LP.lpGetCurrentWindow?"undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument:g_isfirefox?top.document:document;verbose_log("getting all icon states for "+a.location.href);return"undefined"!=typeof a.lpiconarr?a.lpiconarr:[]}
function resetAllIconStates(){var a=null,a="undefined"!=typeof LP&&"function"==typeof LP.lpGetCurrentWindow?"undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument:g_isfirefox?top.document:document;verbose_log("resetting icon states for "+a.location.href);a.lpiconarr=[]}var origstyle={};
function set_input_icon_image(a,b,c,d){var e,f=[];f[0]=g_sites_light_ico;f[1]=g_pw_light_ico;f[3]=g_close_light_ico;f[-1]="";f[2]=g_ff_light_ico;f[16]=g_sites_ico;f[17]=g_pw_ico;f[19]=g_close_ico;f[-17]="";f[18]=g_ff_ico;if(null==b)return!1;"undefined"==typeof c||null==c?e=0:"formfills"==c?e=2:"sites"==c?e=0:"generate"==c?e=1:"cancel"==c&&(e=3);d&&(e|=16);var g=LP_fieldGetWidth(b),h=!1;if("sites"==c||g_is_specialsite)h=!0;if(!LP_iconFieldWidthOK(b,g,h))return!0;c=b.style.border;g=b.style.backgroundImage;
if(""==g)if(origstyle[b]=j,"undefined"!=typeof g_isie&&g_isie&&b.currentStyle)g=b.currentStyle.backgroundImage,c=b.currentStyle.border;else try{var j=b.ownerDocument.defaultView.getComputedStyle(b,""),g=j.backgroundImage;c=j.border}catch(k){"undefined"!=typeof b.currentStyle&&(g=b.currentStyle.backgroundImage,c=b.currentStyle.border)}"none"==g&&(g="");0<=e&&("undefined"==typeof f[e]&&verbose_log("no icon defined for iconval="+e),a=("undefined"!=typeof g_isloggedin?g_isloggedin:lploggedin)?0==e||16==
e?getnumbericon(a,b,d):f[e]:f[e],g!="url("+a+")"&&(b.style.backgroundImage="url("+a+")",a=b.ownerDocument.location.href,0<=a.indexOf("live.com")?b.style.paddingRight="18px":0<=a.indexOf("twitter.com")&&(b.style.paddingRight="16px"),g_issafari&&""!==c&&0<c.indexOf("inset")&&c.replace("inset",""),"no-repeat"!=b.style.backgroundRepeat&&(b.style.backgroundRepeat="no-repeat"),"scroll"!=b.style.backgroundAttachment&&(b.style.backgroundAttachment="scroll"),"center right"!=b.style.backgroundPosition&&(b.style.backgroundPosition=
"center right")));return!0}
function set_bg_highlight_effect_handlers(a,b,c){b&&(LP_didFieldMouseEvent(a,b)||(LP_setFieldMouseEvent(a,b),LP_addEventHandler(b,"mouseover",function(d){bg_highlight_effect_mouseover(d,a,b,c)}),LP_addEventHandler(b,"mouseout",function(d){bg_highlight_effect_mouseout(d,a,b,c)}),LP_addEventHandler(b,"mousemove",function(d){bg_highlight_effect_mousemove(d,a,b,c)})),"sites"==c&&("undefined"!=typeof g_isloggedin?g_isloggedin:lploggedin)&&(!g_isfirefox&&!g_isie)&&b.setAttribute("autocomplete","off"))}
function bg_highlight_effect_mousemove(a,b,c){null==a&&(a=window.event);a=LP_getMousePos(a);if(!(0>=a.x&&0>=a.y))if(b=LP_getAbsolutePos(b,c),0>=b.width&&0>=b.height)verbose_log("skipping field "+obj.idorname+" : no valid position");else{var d=b.left+b.width-20;d<b.left&&(d=b.left);c.style.cursor=d<a.x&&b.left+b.width>a.x&&b.top<a.y&&b.top+b.height>a.y?"pointer":"auto"}}
function bg_highlight_effect_mouseover(a,b,c,d){null==a&&(a=window.event);if(!(is_your_popup_showing(b)&&b.g_popupfill_parent==c)&&LP_getEventTarget(a)==c){a=d;d=!1;var e=getIconState(b,LP_pickFieldName(b,c));!a&&(e&&e.hint)&&(a=e.hint);e&&e.dofloater&&(d=e.dofloater);a&&!d&&set_input_icon_image(b,c,a,!0)}}
function bg_highlight_effect_mouseout(a,b,c,d){if(!(is_your_popup_showing(b)&&b.g_popupfill_parent==c)){a=d;d=!1;var e=getIconState(b,LP_pickFieldName(b,c));!a&&(e&&e.hint)&&(a=e.hint);e&&e.dofloater&&(d=e.dofloater);a&&!d&&set_input_icon_image(b,c,a,!1)}}
function lp_docinfoFromEvent(a){var b=null,b="undefined"!=typeof LP&&"function"==typeof LP.lpGetCurrentWindow?"undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument:g_isfirefox?top.document:document,c=null,d=LP_getEventTarget(a).ownerDocument;if(d!=b){c=d;try{verbose&&(c&&c.location)&&verbose_log("click inside iframe "+c.location.href)}catch(e){pass}}a=LP_getEventTarget(a);var f=LP_pickFieldName(d,a);return{topdoc:b,
framedoc:c,eventdoc:d,target:a,targetname:f}}
function icon_click_handler(a){var b=lp_docinfoFromEvent(a),c=b.topdoc,d=b.framedoc,e=b.eventdoc,f=b.target,b=b.targetname,g=!1,h=LP_getMousePos(a);if(0>=h.x&&0>=h.y){if(e&&e.location&&e.location.href&&0<e.location.href.indexOf(".xul"))return!0;verbose_log("icon_click_handler FATAL, failed to position of moouse")}else{verbose_log("mouse click at ["+h.x+","+h.y+"]");try{c&&c.body&&c.body.getAttribute("data-fouc-class-names")&&0<=c.body.getAttribute("data-fouc-class-names").indexOf("swift-loading")&&(0<
getAllIconStates().length?refresh_input_all_icon_bg(c):window&&window.setTimeout(function(){g_input_cnt=-1;doc_create_clickable_icons(c,"",SHOULD_DO_ALWAYS,g_is_specialsite)},50))}catch(j){}for(var k=getAllIconStates(),m=0;m<k.length;m++){var p=k[m].IHTMLElement,l=k[m].idorname,e=k[m].fillhint;g_isfirefox&&k[m].inframe?element_is_detached(d,p,0)&&(p=LP_getElementByIdOrName(d,l),refresh_input_icon_bg(d,p,e),k[m].IHTMLElement=p):element_is_detached(c,p,0)&&(p=LP_getElementByIdOrName(c,l),refresh_input_icon_bg(c,
p,e),k[m].IHTMLElement=p)}var k=getAllIconStates(),m;for(m=0;m<k.length;m++){l="";p=null;e=k[m];if(g_isfirefox&&e.inframe)if(d)(p=k[m].IHTMLElement)||(p=LP_getElementByIdOrName(d,e.idorname)),p&&(l=e.idorname);else{if(p=k[m].IHTMLElement)d=p.ownerDocument}else if(""!=b&&b==e.idorname){if(f!=k[m].IHTMLElement){l=!1;for(p=m;p<k.length;p++)if(f==k[p].IHTMLElement){l=!0;break}if(l)continue}p=f}else(p=k[m].IHTMLElement)||(p=LP_getElementByIdOrName(c,e.idorname)),p&&(l=e.idorname);if(d){if(p&&checkIsDisplayed(d,
p,0))if(l=LP_getAbsolutePos(d,p),!l||0>=l.width&&0>=l.height)verbose_log("skipping field "+e.idorname+" : no valid position");else{var q=l.left+l.width-20;q<l.left&&(q=l.left);if(q<h.x&&l.left+l.width>h.x&&l.top<h.y&&l.top+l.height>h.y){f=!1;b=!0;h=g=!1;verbose_log("icon_click_handler calling popuptoggle() [iframe]");"generate"==e.fillhint?f=!0:e.no_check_generate||(f=shouldOfferGenerate(d,p));"formfills"==e.fillhint&&(h=!0);c.g_popupfill_parent=p;popuptoggle(c,d,e.idorname,f,b,g,h,e.fillhint,e.fillhintnumber);
g=!0;LP_stopEventPropagation(a);break}}}else if(p&&checkIsDisplayed(c,p,0))if(l=LP_getAbsolutePos(c,p),!l||0>=l.width&&0>=l.height)verbose_log("skipping field "+e.idorname+" : no valid position");else{if(q=l.left+l.width-20,q<l.left&&(q=l.left),q<h.x&&l.left+l.width>h.x&&l.top<h.y&&l.top+l.height>h.y){f=!1;b=!0;h=g=!1;"generate"==e.fillhint?f=!0:e.no_check_generate||(f=shouldOfferGenerate(c,p));"formfills"==e.fillhint&&(h=!0);c.g_popupfill_parent=p;popuptoggle(c,d,e.idorname,f,b,g,h,e.fillhint,e.fillhintnumber,
p);g=!0;LP_stopEventPropagation(a);break}}else verbose_log("skipping field "+e.idorname+" : not found/visible")}return g}}
function LP_getMousePos(a){var b;a=a||window.event;b=LP_getEventTarget(a).ownerDocument;if(!b||null==b.location||0<b.location.href.indexOf(".xul"))return{x:0,y:0};var c=b.documentElement,d=typeof("number"==c.scrollLeft)?c.scrollLeft:b.body.scrollLeft,e=typeof("number"==c.scrollTop)?c.scrollTop:b.body.scrollTop,f=c=0;if(g_bodystyle_relative){var g=LP_get_cached_body_rect(b),h=LP_get_cached_body_style(b);g&&(h&&"relative"==h.position)&&(f=g.left,c=g.top)}g_isie&&(g=LP_get_cached_body_rect(b),e="undefined"!=
typeof window&&window?window:b.defaultView,"pageXOffset"in e?(d=e.pageXOffset,b=e.pageYOffset):(d=1,"undefined"!=typeof g_isie&&g_isie&&"undefined"!=typeof b.querySelector&&"undefined"==typeof b.addEventListener?g=1:(g&&(d=Math.round(100*((g.right-g.left)/b.body.offsetWidth))/100),g=d),d=Math.round(b.documentElement.scrollLeft/g),b=Math.round(b.documentElement.scrollTop/g)),e=b);b=a.pageX||a.clientX+d;a=a.pageY||a.clientY+e;b=parseInt(b);a=parseInt(a);g_bodystyle_relative&&(b-=f,a-=c);return{x:b,
y:a}}
function popuptoggle(a,b,c,d,e,f,g,h,j,k){if(k)j=k;else if(b){if(0<b.location.href.indexOf(".xul"))return!0;j=LP_getElementByIdOrName(b,c)}else{if(0<a.location.href.indexOf(".xul"))return!0;j=LP_getElementByIdOrName(a,c)}"undefined"!=typeof reset_forcefill_without_fillbest&&reset_forcefill_without_fillbest();k="sites";d?k="generate":f?k="save":g&&(k="formfills");if(is_your_popup_showing(a))closepopupfills(a),g_isfirefox?b?(b.g_popupfill_parent_last=b.g_popupfill_parent,b.g_popupfill_parent=null):(a.g_popupfill_parent_last=
a.g_popupfill_parent,a.g_popupfill_parent=null):(g_popupfill_parent_last=g_popupfill_parent,g_popupfill_parent=null);else{verbose_log("iframe does not exist, now create it");g="undefined"!=typeof g_isloggedin?g_isloggedin:lploggedin;if(!g){if("undefined"!=typeof LP&&"undefined"!=typeof LP.lpOpenLogin){LP.lpOpenLogin();return}if(!g_isie){sendBG({cmd:"dologinaction"});return}}g_isfirefox?b?b.g_popupfill_parent=j:a.g_popupfill_parent=j:g_popupfill_parent=j;f=f?!0:!1;g_isie?"undefined"!=typeof init_LPfn&&
init_LPfn()&&LPfn.ie_set_lpifmsg(a,j,d,f,k,h):g_isfirefox||(h=LP_pickFormName(j.ownerDocument,j.form),d=d?1:0,sendBG({cmd:"setpopupfilllastactive",active:h,activefieldid:LP_pickFieldName(document,j),ask_generate:d,opentosave:f,activefieldtype:j.type,start_type:k}));!g_isfirefox&&!g_isie&&(g=document.location.href,"undefined"!=typeof punycode&&(g=punycode.URLToASCII(document.location.href)),sendBG({cmd:"popupregister",docnum:g_docnum,url:g}));h=("function"==typeof ff_calculate_iframe_pos?ff_calculate_iframe_pos:
calculate_iframe_pos)(a,j,"300px");d=h.posx;h=h.posy;if(g_isfirefox)ff_popupfill_create_iframe(a,d,h,c,null,null,j,k);else{f=chk_form_is_nonlogin_form(document,j.form);k=checkDocumentForLoginOrphans(document)||checkDocumentForLoginOrphansFirstStage(document);g=checkDocumentForLoginFirstStageForm(document);g=k||g||chk_form_has_password(document,j.form);k=g_popupfill_rows;f&&!g&&(k=g_popupfill_rows_FF);f=g_popupfill_widest+40;120>f&&(f=120);f<g_popupfill_parent.offsetWidth&&(f=g_popupfill_parent.offsetWidth,
f+=2*Math.abs(POPUP_FIELD_OFFSET));if(1==k&&!create_onerow_iframe){g=null;g_fillaid&&(g=g_fillaid);isEmptyObject(g_autofillsites)||(g=g_autofillsites[0].aid);if(null!=g){sendBG({cmd:"autofillaid",aid:g});verbose_log("filling only, not creating 1 row iframe");return}verbose_log("tried to fill form with invalid acct")}if(0==k&&!do_popup_actions||0==k&&e==NO_FORCE_NOHITS)verbose_log("not creating empty iframe");else if(g="undefined"!=typeof g_isloggedin?g_isloggedin:lploggedin,g_dologin_clickable&&!g&&
(!g_isie||g_isie&&e==FORCE_SHOW_NOHITS_NOLOGIN)){verbose_log("login state: checking whether to issue Chrome login prompt");if(e==FORCE_SHOW_NOHITS_NOLOGIN)return;if(!g_isie){sendBG({cmd:"dologinaction"});return}}if(g_create_iframe_in_top&&!g_isie&&!g_isfirefox&&LP_inIframe(window)&&LP_do_toplevel_iframe_hack(window)){(h=calculate_iframe_pos(a,j,"300px",!0))?(d=parseInt(h.posx),h=parseInt(h.posy)):h=d=0;var m=e="";try{e=window.name,m=document.location.href}catch(p){}g=a.location.href;"undefined"!=
typeof punycode&&(g=punycode.URLToASCII(a.location.href));sendBG({cmd:"createpopuptoplevelfromframe",posx:d,posy:h,id:c,rows:k,width:f,minheight:g_minheight_override,framename:e,framesrc:m,url:g})}else popupfill_create_iframe(a,d,h,c,k,f,g_minheight_override);g_popupfill_iframe_width_save=f}g_isfirefox?b?relocate_popupfill_iframes(b):relocate_popupfill_iframes(a):(!g_create_iframe_in_top||!LP_inIframe(window)||g_isie||g_isfirefox)&&relocate_popupfill_iframes(a);a=b?b:a;b=!1;if(e=getIconState(a,c))b=
e.dofloater;b?change_clickable_icon_to_cancel(a,LPMAGIC+c):set_input_icon_image(a,j,"cancel",!0)}}
function isFirstFieldNonLoginSubForm(a,b){if(null==a||null==b||"INPUT"!=b.tagName||"password"==b.type||"hidden"==b.type)return!1;if("text"==b.type){regexp=RegExp(lpgs("ff_firstname_regexp"),"i");if(regexp.exec(b.name)||regexp.exec(b.id))return!0;regexp=/register|signup|enroll|create/i;if(b.parentNode&&regexp.exec(b.parentNode.name)||regexp.exec(b.parentNode.id)||b.parentNode&&b.parentNode.parentNode&&regexp.exec(b.parentNode.parentNode.name)||regexp.exec(b.parentNode.parentNode.id))return!0}return!1}
function isUsernameFieldLoginSubForm(a,b){return null==a||null==b||"INPUT"!=b.tagName||"password"==b.type||"hidden"==b.type?!1:FoundNonLoginSubForm(a)?False:looksLikeUsername(b)?!0:!1}function FoundNonLoginSubForm(a){if(null==a)return!1;if(isASPpage()){a=getAllIconStates();var b;for(b=0;b<a.length;b++)if("formfills"==a[b].fillhint)return True}return False}
function isPasswordFieldLoginSubForm(a,b){if(null==a||(null==b||"INPUT"!=b.tagName)||"hidden"==b.type)return!1;if(FoundNonLoginSubForm(a))return False;if("password"==b.type){var c=a.getElementsByTagName("INPUT"),d;for(d=0;d<c.length&&d<MAX_INPUTS_HARD&&b!=c[d];d++);if(b==c[d]&&0<d){var e=LP_pickFieldName(a,b);if(e&&e.toLowerCase().indexOf(0<=lpgs("Password"))&&(c=LP_pickFieldName(a,c[d-1]),RegExp(lpgs("ff_username_regexp"),"i").exec(c)))return!0}}return!1}
function isASPpage(){var a=!1;if(g_isfirefox){var b;(b="undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument)?a=b.g_found_aspx:verbose_log("unable to get g_found_aspx in isASPpage() for "+b?b.location.href:"null")}else a=g_found_aspx;a||(a=!1);return a}
function setASPpage(a){null==a&&(a=!0);if(g_isfirefox){var b;(b="undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument)?ret=b.g_found_aspx=a:verbose_log("unable to set g_found_aspx in isASPpage() for "+b?b.location.href:"null")}else g_found_aspx=a,ret=!0;ret||(ret=!1);return ret}
function LP_getname_or_idx(a,b,c){if(!a&&(a=document,!a))return"";c=LP_getname(b,c);if(""===c||null===c)if("INPUT"==b.tagName||"input"==b.tagName)c=LP_inputidx_to_name(a,LP_getinputidx(a,b));return c}function LP_getinputidx(a,b){if(!a&&(a=document,!a))return"";for(var c=a.getElementsByTagName("INPUT"),d=0,d=0;d<c.length;d++)if(c[d]==b)return d;return""}var LPMAGICINPUTIDX="input_idx_";function LP_inputidx_to_name(a,b){if(null!==b&&is_valid_input_indexes(a))return LPMAGICINPUTIDX+b}
function LP_name_is_inputidx(a,b){return b&&0==b.indexOf(LPMAGICINPUTIDX)&&b.length>LPMAGICINPUTIDX.length?!0:!1}function LP_getinputidx_from_name(a,b){return is_valid_input_indexes(a)&&0==b.indexOf(LPMAGICINPUTIDX)?b.substr(LPMAGICINPUTIDX.length):null}function LP_getElementByIdx(a,b){var c=null;is_valid_input_indexes(a)&&(c=a.getElementsByTagName("INPUT")[b]);return c}function invalidate_input_indexes(a){if(!a&&(a=document,!a))return;a.g_need_to_recompute_input_index=!0}
function validate_input_indexes(a){if(!a&&(a=document,!a))return;a.g_need_to_recompute_input_index=!1}function is_valid_input_indexes(){return!0}
function inputHasLPBackground(a){if(null==a)return!1;var b=null;if(g_isie&&"undefined"!=typeof a.currentStyle)"undefined"!=typeof a.currentStyle&&(b=a.currentStyle);else try{b=a.ownerDocument.defaultView.getComputedStyle(a,"")}catch(c){"undefined"!=typeof a.currentStyle&&(b=a.currentStyle)}if(b&&("INPUT"==a.tagName||"input"==a.tagName)&&""!=b.backgroundImage){if(-1!=b.backgroundImage.indexOf(g_sites_light_ico)||-1!=b.backgroundImage.indexOf(g_pw_light_ico)||-1!=b.backgroundImage.indexOf(g_close_light_ico)||
-1!=b.backgroundImage.indexOf(g_ff_light_ico)||-1!=b.backgroundImage.indexOf(g_sites_ico)||-1!=b.backgroundImage.indexOf(g_pw_ico)||-1!=b.backgroundImage.indexOf(g_close_ico)||-1!=b.backgroundImage.indexOf(g_ff_ico)||-1!=b.backgroundImage.indexOf(getnumbericon(a.ownerDocument,a,!0))||-1!=b.backgroundImage.indexOf(getnumbericon(a.ownerDocument,a,!1)))return!0;var d;for(d=0;9>=d;d++)if(-1!=b.backgroundImage.indexOf(getnumbericon(a.ownerDocument,a,!0,d))||-1!=b.backgroundImage.indexOf(getnumbericon(a.ownerDocument,
a,!1,d)))return verbose_log("icon "+LP_getname(a)+" has icon with number "+d),!0}return!1}function removeLPBackground(a){if(!a)return!1;try{a.style.backgroundImage="none",a.style.backgroundRepeat="repeat",a.style.backgroundAttachment="scroll",a.style.backgroundPosition="0% 0%"}catch(b){return verbose_log("removeLPBackground error: "+b.message),!1}return!0}var KEY_ESCAPE=27;
function LP_keypress_handler(a){a||(a=window.event);var b="undefined"!=typeof document?document:a&&a.target?a.target.ownerDocument:null;if(!b)return!1;a=a.keyCode;verbose_log("received key "+a);a==KEY_ESCAPE&&is_your_popup_showing(b)&&closepopupfills(b);return!1}var KEY_TAB=9,KEY_UP=38,KEY_DOWN=40,KEY_ENTER=13,KEY_SHIFT=16,KEY_RIGHT=39,KEY_LEFT=37,KEY_PAGEDOWN=34,KEY_PAGEUP=33,KEY_END=35,KEY_HOME=36;
function LP_field_keypress_handler(a,b,c,d){a||(a=window.event);if("undefined"!=typeof g_isloggedin?g_isloggedin:lploggedin){d||(d="undefined"!=typeof document?document:a&&a.target?a.target.ownerDocument:null);if(!d||null==d.location)if(d=b.ownerDocument,g_isfirefox&&void 0!=typeof LP&&(!d||null==d.location))d="undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument;if(d){if(null==d.location)return verbose_log("LP_field_keypress_handler given a firefox zombie document?"),
a="undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument,closepopupfills(a),!1;c=a.keyCode;if(c==KEY_ESCAPE)is_your_popup_showing(d)&&closepopupfills(d);else if(c==KEY_TAB)is_your_popup_showing(d)&&closepopupfills(d);else if(c==KEY_DOWN){if(!is_your_popup_showing(d)){set_active_username_password(d,b.form);"undefined"!=typeof g_isie&&g_isie&&"undefined"!=typeof init_LPfn&&(init_LPfn()&&LPfn)&&LPfn.ie_set_kbdnav(!0);
var e=LP_pickFieldName(d,b);if(e=getIconState(d,e)){var f=!1,g=!1;"generate"==e.fillhint&&(f=!0);"formfills"==e.fillhint&&(g=!0);popuptoggle(d,null,e.idorname,f,FORCE_SHOW_NOHITS,!1,g,e.fillhint,e.fillhintnumber)}else LP_pickFieldName(d,b),popuptoggle(d,null,LP_pickFieldName(d,b),NO_FORCE_GENERATE,FORCE_SHOW_NOHITS)}}else if(c!=KEY_UP&&!(c==KEY_SHIFT||0==c)&&!(c==KEY_RIGHT&&a.altKey)&&!is_modifier_key(c)&&c!=KEY_ENTER){if(g_ischrome&&g_setup_hotkey_handler){if(is_hotkey_event(a))return}else if(g_isie){if(e=
""+(a.ctrlKey?"control ":""),e+=a.metaKey?"meta ":"",e+=a.altKey?"alt ":"",e+=a.shiftKey?"shift ":"",verbose_log("keycode == "+c+" "+e),"undefined"!=typeof a.metaKey&&a.metaKey||"undefined"!=typeof a.altKey&&a.altKey||"undefined"!=typeof a.ctrlKey&&a.ctrlKey)return}else if(g_isfirefox&&(e=""+(a.ctrlKey?"control ":""),e+=a.metaKey?"meta ":"",e+=a.altKey?"alt ":"",e+=a.shiftKey?"shift ":"",verbose_log("keycode == "+c+" "+e),is_hotkey_event(d,a)))return;if("password"==b.type&&formHasUsernameField(b))if(g_clickable_input_on_password)!is_your_popup_showing(d)&&
!chk_form_ask_generate(d,b.form)&&conditional_create_popup(d,b,FORCE_SHOW_NOHITS_NOLOGIN);else return;if(!chk_form_has_password(d,b.form))return;is_your_popup_showing(d)||(g_clickable_input_on_password?(e=getIconState(d,LP_pickFieldName(d,b)))&&(e.fillhint&&"sites"==e.fillhint)&&conditional_create_popup(d,b,FORCE_SHOW_NOHITS_NOLOGIN):(LP_pickFieldName(d,b),popuptoggle(d,null,LP_pickFieldName(d,b),NO_FORCE_GENERATE,FORCE_SHOW_NOHITS)),g_keyboardNav=!0)}if(is_your_popup_showing(d)){c==KEY_UP&&(g_isfirefox?
ff_do_popupfocusdecrement(1):g_isie||sendBG({cmd:"popupfillinputfocusdecrement",count:1}),g_keyboardNav=!0,g_ischrome&&g_setup_hotkey_handler&&handle_hotkey(a),LP_stopEventPropagation(a));c==KEY_DOWN&&(g_extended_kbd_nav&&a.altKey&&g_hide_navbar?is_your_popup_showing(d)&&!g_isfirefox&&(g_isie||sendBG({cmd:"popupfillinputshownavbar"})):(g_isfirefox?ff_do_popupfocusincrement(1):g_isie||sendBG({cmd:"popupfillinputfocusincrement",count:1}),g_keyboardNav=!0),g_ischrome&&g_setup_hotkey_handler&&handle_hotkey(a),
LP_stopEventPropagation(a));if(c==KEY_ENTER&&(verbose_log("Enter Received, checking field"),(g_isfirefox?d.g_popupfill_parent:g_popupfill_parent)==b&&g_keyboardNav))g_isfirefox?(verbose_log("Enter Received, Choose Action"),ff_do_popupfocuschoose(!0)):g_isie||sendBG({cmd:"popupfillinputfocuschoose"}),g_ischrome&&g_setup_hotkey_handler&&handle_hotkey(a),g_isfirefox&&is_hotkey_event(d,a),LP_stopEventPropagation(a);c==KEY_PAGEUP&&(g_isfirefox?ff_do_popupfocusdecrement(12):g_isie||sendBG({cmd:"popupfillinputfocusdecrement",
count:12}),g_keyboardNav=!0,g_ischrome&&g_setup_hotkey_handler&&handle_hotkey(a),g_isfirefox&&is_hotkey_event(d,a),LP_stopEventPropagation(a));c==KEY_PAGEDOWN&&(g_isfirefox?ff_do_popupfocusincrement(12):g_isie||sendBG({cmd:"popupfillinputfocusincrement",count:12}),g_keyboardNav=!0,g_ischrome&&g_setup_hotkey_handler&&handle_hotkey(a),g_isfirefox&&is_hotkey_event(d,a),LP_stopEventPropagation(a));c==KEY_END&&(g_isfirefox?ff_do_popupfocusincrement(1073741824):g_isie||sendBG({cmd:"popupfillinputfocusincrement",
count:1073741824}),g_keyboardNav=!0);c==KEY_HOME&&(g_isfirefox?ff_do_popupfocusdecrement(1073741824):g_isie||sendBG({cmd:"popupfillinputfocusdecrement",count:1073741824}),g_keyboardNav=!0)}return!1}}}
function shouldCreateFloatingIcon(a,b,c){if(!a&&(a=LP_derive_doc(),!a)||!a||!b)return!1;if("stripe.com"==c)return!0;if("dominos.com"==c)return!1;if("metlife.com"==c&&-1!=a.location.href.indexOf("mybenefits.metlife.com"))return!0;if((a=LP_get_live_style(b))&&a.backgroundImage&&"none"!=a.backgroundImage&&!inputHasLPBackground(b))b=0<=a.backgroundImage.indexOf("blank")?!1:!0;else{if(a=g_trial_bg_expt)b?(b.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGP6zwAAAgcBApocMXEAAAAASUVORK5CYII=)",
a=LP_get_live_style(b),b=!a||("none"==a.backgroundImage||!a.backgroundImage)||g_stylesheet_grubbing&&LP_input_has_bg_style_override(b.ownerDocument)?!1:!0):b=!1,a=!b;b=a?!0:!1}return b}
function LP_create_floating_icon(a,b,c,d){if(!a&&(a=LP_derive_doc(),!a))return!1;var e=a.getElementsByTagName("body")[0],f,g;f=LP_pickFieldName(a,b);getIconState(a,f);var h=LPMAGIC+f;if(null==LP_getElementByIdOrName(a,LPMAGIC+f))g=a.createElement("div"),g.id=h,"undefined"!=typeof g_isfirefox&&g_isfirefox?(null==a.g_popup_divs&&(a.g_popup_divs={}),a.g_popup_divs[g.id]=g.id):g_popup_divs[g.id]=g.id,f=a.createElement("img"),b.offsetHeight<LPICON_WIDTH&&(f.height=b.offsetHeight,f.width=f.height),f.id=
g.id+"_icon",h=!0,null!=c&&("formfills"==c?(f.src=ff_svg,f.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+g_ff_ico+"';"),f.style.opacity="0.6",f.style.filter="alpha(opacity=60)",h=!1):"generate"==c&&(f.src=pw_svg,f.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+g_pw_ico+"';"),f.style.opacity="0.6",f.style.filter="alpha(opacity=60)",h=!1)),h&&(f.src=sites_svg,f.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+g_sites_ico+"';"),f.style.opacity=
"0.6",f.style.filter="alpha(opacity=60)"),g.appendChild(f),"sites"==c&&("undefined"!=typeof g_isloggedin?g_isloggedin:lploggedin)&&(!g_isfirefox&&!g_isie)&&b.setAttribute("autocomplete","off"),g_do_icon_number_hint&&LP_create_floating_icon_hint(a,g.id,c,d)&&LP_set_floating_icon_hint(a,g.id,c,d),e.appendChild(g),g.style.maxHeight=LPICON_WIDTH+"px",g.style.verticalAlign="top",f.style.verticalAlign="top","undefined"!=typeof g_docnum&&verbose_log("["+g_docnum+"] setting up click listener on icon for "+
LP_pickFieldName(a,b)),g_icon_hover&&(LP_addEventHandler(g,"mouseover",function(c){do_icon_mouseover(a,g.id,b);LP_stopEventPropagation(c);return!1}),LP_addEventHandler(g,"mouseout",function(c){do_icon_mouseout(a,g.id,b);LP_stopEventPropagation(c);return!1})),g_icon_parent_hover&&(LP_addEventHandler(b,"mouseover",function(c){do_icon_mouseover(a,g.id,b);LP_stopEventPropagation(c);return!1}),LP_addEventHandler(b,"mouseout",function(c){do_icon_mouseout(a,g.id,b);LP_stopEventPropagation(c);return!1})),
LP_addEventHandler(e,"DOMsubtreemodified",function(){popupfill_resize(a);return!1},!1),LP_addEventHandler(e,"resize",function(){popupfill_resize(a);return!1},!1),e.onresize=onresize_handler,setprops_floating_icon(a,b,g,c,d);else return!1;return!0}
function move_floating_icon(a,b,c,d){a||(a=g_isfirefox&&LP?LP.getBrowser().contentDocument:document);if(!a)return!1;a.getElementsByTagName("body");var e;e=LP_pickFieldName(a,b,LP_GETNAME_FAVOR_ID_OVER_NAME);if(!c){var f=getIconState(a,e);f&&(c=f.fillhint)}if(e=LP_getElementByIdOrName(a,LPMAGIC+e))g_do_icon_number_hint&&(LP_getloggedin()?LP_set_floating_icon_hint(a,e.id,c,d):LP_delete_floating_icon_hint(a,e.id)),setprops_floating_icon(a,b,e,c,d)}
function setprops_floating_icon(a,b,c,d,e){function f(a,b){var c=a.getElementsByTagName("body")[0],d=b.parentNode;d&&d!=c&&(d.removeChild(b),c.appendChild(b))}if(a&&b&&c){f(a,c);"absolute"!=c.style.position?(c.style.position="absolute",g_ctr_setposition_H++):g_ctr_nosetposition_H++;var g=LP_getAbsolutePos(a,b);if(null!=g){if(b.offsetHeight>LPICON_WIDTH){var h=g.top+(b.offsetHeight-LPICON_WIDTH)/2+"px";c.style.top!=h?(g_ctr_settop_E++,c.style.top=h):g_ctr_nosettop_E++}else c.style.top!=g.top+"px"?
(g_ctr_settop_F++,c.style.top=g.top+"px"):g_ctr_nosettop_F++;g=g.left+b.offsetWidth-LPICON_WIDTH-2+"px";c.style.left!=g?(g_ctr_setleft_G++,c.style.left=g):g_ctr_nosetleft_G++;if(g_do_icon_number_hint){var j;null==j&&(j=a.getElementById(c.id+"_icon"));var g=parseInt(c.style.left),h=parseInt(c.style.top),k=a.getElementById(c.id+"_numspan");if(null!=k)if(f(a,k),null!=d&&null!=e&&null!=e[d]&&1<e[d]){var m=e[d];0<e[d]&&9>e[d]&&(m=" "+e[d]);m=LP_measureText(a,lp_of(m,a),null,"font-size: 9px;font-family: Helvetica,Arial,sans-serif;font-weight:bold;line-height:11px;");
if(null!=m){var p=h+("undefined"==typeof j.height||0==j.height?LPICON_HEIGHT:j.height)-m.height+6+"px",l=g+("undefined"==typeof j.width||0==j.width?LPICON_WIDTH:j.width)-m.width+2+"px",m="#ff2200";g_use_grey_icons&&(m="#808080");m="position:absolute !important; visibility:visible !important; border:0px !important; font-size:9px !important; font-family: Helvetica Neue,Helvetica,Arial,sans-serif; top:"+p+" !important; left:"+l+" !important; background-color: "+m+"; padding: 1px 2px !important; font-weight: bold !important; color:#ffffff !important; cursor: default; line-height:11px !important; max-width: 10px !important; ";
j="undefined"!=typeof window&&window?window:a.defaultView;j=LP_getComputedStyle(j,k);d=j.zIndex;""!==d&&"auto"!=d&&(m=m+"z-index:"+d+" !important;");"absolute"!=j.position||"visible"!=j.visibility||"9px"!=j.fontSize||"1px 2px"!=j.padding||"11px"!=j.lineHeight||j.top!=p||j.left!=l?(k.style.cssText=m,g_ctr_numspan_setzindex_L++):g_ctr_numspan_nosetzindex_L++}else m="display:none;",k.style.cssText=m}else m="display:none;",k.style.cssText=m}}else verbose_log("ERROR: unable to relocate clickable icon");
d=getZIndex(a,b,0,0);null!=d?d++:d=CLICKABLE_ICON_ZINDEX;c.style.zIndex!=d?(g_ctr_setzindex_J++,c.style.zIndex=d):g_ctr_nosetzindex_J++;g_do_icon_number_hint&&null!=k&&(m=m+"z-index:"+(d+1)+" !important;",j="undefined"!=typeof window&&window?window:a.defaultView,j=LP_getComputedStyle(j,k),"absolute"!=j.position||"visible"!=j.visibility||"9px"!=j.fontSize||"1px 2px"!=j.padding||"11px"!=j.lineHeight||j.top!=p||j.left!=l||j.zIndex!=d+1?(k.style.cssText=m,g_ctr_numspan_setzindex_K++):g_ctr_numspan_nosetzindex_K++);
c.style.display=checkIsDisplayed(a,b,0)?"":"none";j=c.childNodes[0];parseInt(b.offsetHeight)<LPICON_WIDTH?(b.offsetHeight!=j.height?(g_ctr_setheight_A++,j.height=parseInt(b.offsetHeight)):g_ctr_nosetheight_A++,b.offsetHeight!=j.height?(g_ctr_setwidth_B++,j.width=j.height):g_ctr_nosetwidth_B++):(j.height!=LPICON_WIDTH?(g_ctr_setheight_C++,j.height=LPICON_WIDTH):g_ctr_nosetheight_C++,j.width!=LPICON_WIDTH?(g_ctr_setwidth_D++,j.width=LPICON_WIDTH):g_ctr_nosetwidth_D++)}}
function refresh_floating_icon_number_hints(a){null==a&&(a=document);if(null!=a)if(LP_get_icon_divs(a),LP_getloggedin())for(i in iconidhash);else for(i in iconidhash){var b=a.getElementById(iconidhash[i]+"_numspan");b&&(b.parentNode.removeChild(b),verbose_log("deleting icon number for "+iconidhash[i]))}}function LP_getloggedin(){return"undefined"!=typeof g_isloggedin?g_isloggedin:lploggedin}
function LP_reset_icon_divs(a){"undefined"!=typeof g_isfirefox&&g_isfirefox?a.g_popup_divs={}:g_popup_divs={};return!0}function LP_store_icon_div(a,b){"undefined"!=typeof g_isfirefox&&g_isfirefox?(null==a.g_popup_divs&&(a.g_popup_divs={}),a.g_popup_divs[b]=b):g_popup_divs[b]=b;return!0}function LP_delete_icon_div(a,b){"undefined"!=typeof g_isfirefox&&g_isfirefox?a&&delete a.g_popup_divs[b]:delete g_popup_divs[b];return!0}
function LP_get_icon_divs(a){return"undefined"!=typeof g_isfirefox&&g_isfirefox?null==a.g_popup_divs?{}:a.g_popup_divs:null==g_popup_divs?{}:g_popup_divs}
function LP_set_floating_icon_hint(a,b,c,d){if(a&&LP_getloggedin()){var e=a.getElementById(b+"_numspan");null!=e?(a="",b=LP_elt_get_text(e),null!=c&&null!=d&&null!=d[c]&&0<d[c]?("formfills"==c||"generate"==c)&&!1===g_show_icon_number_for_formfills?""!=b&&LP_elt_set_text(e,""):(a=9>d[c]?" "+d[c]:9<d[c]?"9+":" "+d[c],b!=a&&LP_elt_set_text(e,a)):LP_elt_set_text(e,"")):LP_create_floating_icon_hint(a,b,c,d);return!0}}
function LP_create_floating_icon_hint(a,b,c){if(!a)return!1;var d=a.getElementsByTagName("body")[0];if(a.getElementById("newid")||("formfills"==c||"generate"==c)&&!1===g_show_icon_number_for_formfills)return!1;a=a.createElement("div");a.id=b+"_numspan";a.style.position="absolute";a.style.top="-1000px";a.style.left="-1000px";d.appendChild(a);g_defensive&&LP_addEventHandler(a,"mousedown",function(a){LP_stopEventPropagation(a);return!1});return!0}
function LP_delete_floating_icon_hint(a,b){if(!a)return!1;var c=a.getElementById(b+"_numspan");return null!=c?(c.parentNode.removeChild(c),!0):!1}function LP_delete_floating_icon(a,b){if(!a)return!1;var c=a.getElementById(b);return null!=c?(c.parentNode.removeChild(c),!0):!1}
function reset_floating_icon(a,b,c){verbose_log("entered reset_floating_icon");a||(a=g_isfirefox&&LP?LP.getBrowser().contentDocument:document);if(!a)return!1;b=LP_pickFieldName(a,b);var d=getIconState(a,b);!c&&d&&(c=d.fillhint);d=LP_getElementByIdOrName(a,LPMAGIC+b);a=LP_getElementByIdOrName(a,LPMAGIC+b+"_icon");return d&&a?("formfills"==c?(a.src=ff_svg,a.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+g_ff_ico+"';")):"generate"==c?(a.src=pw_svg,a.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+
g_pw_ico+"';")):(a.src=sites_svg,a.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+g_sites_ico+"';")),a.style.opacity="0.6",a.style.filter="alpha(opacity=60)",!0):!1}
function should_do_lastpass_here(a){var b=null;if(!a)return!1;if(null!=a.g_content_check_result)return a.g_content_check_result;try{var c=a.location.href;if(0<c.indexOf(".xul")||0<c.indexOf("libsyn.com/embed")||0<c.indexOf("platform.twitter.com/tweet_button")||0<=c.indexOf("facebook.com/plugins/"))b=a.g_content_check_result=!1;null===b&&("complete"!=a.readyState&&"interactive"!=a.readyState)&&(verbose_log("answer hazy, try again later"),b=!0);if(null===b){var d=a.body,e=d.innerText.length;if(null===
b&&2<e&&("{"==d.innerHTML[0]||"("==d.innerHTML[0]))b=a.g_content_check_result=!1}}catch(f){return a.g_content_check_result=!1}null===b&&(b=a.g_content_check_result=!0);return b}function LP_is_inframe(a){if(!a)return!1;try{var b="undefined"!=typeof window&&window?window:a.defaultView;return b.self!==b.top}catch(c){return!1}}
function valid_by_role(a,b){if(!b)return!1;a||(a=b.ownerDocument);if(!a)return!1;var c=b.getAttribute("role");!c&&"INPUT"!=b.tagName&&(c=b.parentNode.getAttribute("role"));if(!c)return!0;switch(c){case "navigation":case "banner":case "contentinfo":case "note":case "search":case "seealso":return!1;case "columnheader":case "presentation":case "toolbar":case "directory":return!1;default:return!0}}
function treat_text_as_password(a){return!a?!1:"text"==a.type&&(0==a.name.indexOf("pass")||0<=a.name.toLowerCase().indexOf(lpgs("Password").toLowerCase()))&&-1==a.name.toLowerCase().indexOf("hint")&&-1==a.name.toLowerCase().indexOf("placeholder")?!0:!1}function ASP_treat_text_as_password(a){return treat_text_as_password(a)}
function LP_pickFieldName(a,b){if(!a||!b)return null;var c=fieldcacheget(a,b,"lpname");if(c)return c;c=LP_getname_or_idx(a,b,LP_GETNAME_FAVOR_ID_OVER_NAME);fieldcacheset(a,b,"lpname",c);return c}function fieldcacheget(a,b,c){return null==a||(null==b||null==c||0===c.length)||"undefined"==typeof a.g_field_attr_cache?null:null!=a.g_field_attr_cache[b]&&null!=a.g_field_attr_cache[b][c]?a.g_field_attr_cache[b][c]:null}
function fieldcacheset(a,b,c,d){if(null==a||null==b||null==c||0===c.length)return null;"undefined"==typeof a.g_form_attr_cache&&(a.g_form_attr_cache=[]);null==a.g_form_attr_cache[b]&&(a.g_form_attr_cache[b]={});a.g_form_attr_cache[b][c]=d;return!0}function fieldcachereset(a){null!=a&&(a.g_field_attr_cache=[]);return!0}function LP_looksLikeOTPField(a,b){return!a||!b||"INPUT"!=b.tagName?!1:LP_pickFieldName(a,b).toLowerCase().match(/^otp[_\W]|[_\W]otp$|^otp$|[_\W]otp[_\W]/)?!0:!1}
function doc_create_clickable_icons(a,b,c,d){if(do_experimental_popupfill){if(!a&&(a=g_isfirefox&&LP?LP.getBrowser().contentDocument:document,!a))return;if(g_isfirefox){b=LP.lpGetCurrentWindow().document;var e="undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument;verbose_log("doc_create_clickable_icons: xuldoc is "+b.location.href);verbose_log("doc_create_clickable_icons: passed doc is "+a.location.href);verbose_log("doc_create_clickable_icons: toplevel doc is "+
e.location.href)}(b=9==a.nodeType?a.body:null)||(b=a.getElementsByTagName("body")[0]);if(b){b=!1;if(g_isfirefox){if(never_icons(lpcanonizeUrl(a.location.href),lp_gettld_url(a.location.href))||never_icons(lpcanonizeUrl(e.location.href),lp_gettld_url(e.location.href)))return;b=!0}else{var e=check_nevers(a,g_nevers,a.location.href),f=!0,g=!0,h=!0,j=!0;null!=e&&(f=e.show_for_formfill,g=e.show_for_save,h=e.show_for_autofill,j=e.show_for_clickable_icon);if((0<g_popupfill_rows&&h||0==g_popupfill_rows&&g||
f)&&j)b=!0}if(b){var e=a.getElementsByTagName("input"),k;b={};var m=checkDocumentForLoginOrphans(a)||checkDocumentForLoginOrphansFirstStage(a),p=checkDocumentForCPWOrphans(a),l=checkDocumentForLoginFirstStageForm(a);if(g_aspx_hack&&!isASPpage())for(k=0;k<e.length&&5>k&&!isASPpage();k++)check_for_ASP(a,e[k]);var q=null;if("undefined"!=typeof Math){var r=Math.floor(1E4*Math.random()),n=e.length;if(g_aspx_hack&&isASPpage())create_icons_on_ASP(a,d);else if(m||p||l)create_icons_generic(a,d);else{var u=
MAX_INPUTS_SOFT;LP_exceedInputsThreshold(a)||(u=MAX_INPUTS_HARD);for(k=0;k<n&&k<u;k++)if(d||popupfill_shoulddofield(a,e[k],c))try{var s=e[k],t=LP_pickFormName(a,s.form),w=m||l||chk_form_has_password(a,s.form),y=p||chk_form_is_nonlogin_form(a,s.form);if(d)if(looksLikeUsername(e[k]))w=!0,y=!1,verbose_log("SPECIAL SITE: create icon on field "+LP_pickFieldName(a,s));else if(isInputFieldPassword(a,s))w=!0,y=!1,verbose_log("SPECIAL SITE: create icon on field "+LP_pickFieldName(a,s));else{verbose_log("SPECIAL SITE: ignoring field "+
LP_pickFieldName(a,s));continue}var x=chk_form_ask_generate(a,s.form),z=!1;null!=q&&(null!=t&&t!=q)&&(z=!0,x=chk_form_ask_generate(a,s.form,z));var A=LP_fieldGetWidth(s);if(!(null!=b[t]&&1<=b[t]&&!isInputFieldPassword(a,s)&&(!w||x)&&!g_show_icon_only_on_focus&&(!isASPpage()||!isFirstFieldNonLoginSubForm(a,s))))if(g_isfirefox&&(w||y||x)||(w&&(0<g_popupfill_rows&&h||0==g_popupfill_rows&&g)||(y&&!w||x)&&f)&&j)if((w||x)&&!LP_iconFieldWidthOK(s,A,!0))verbose_log("skipping loginform icon create on "+LP_pickFieldName(a,
s)+"because field is too thin");else if(!w&&!x&&y&&!LP_iconFieldWidthOK(s,A,!1))verbose_log("skipping nonloginform icon create on "+LP_pickFieldName(a,s)+"because field is too thin");else if(!w&&!x&&!y&&!LP_iconFieldWidthOK(s,A,!1))verbose_log("skipping default-icon create on "+LP_pickFieldName(a,s)+"because field is too thin");else{var v;if(y&&is_search_field(a,s,!0))verbose_log("skipping nonloginform icon create on "+LP_pickFieldName(a,s)+"because it looks like a search field");else if(y&&LP_fieldIsReadOnly(s))verbose_log("skipping nonloginform icon create on "+
LP_pickFieldName(a,s)+"because it is read-only");else if(w&&!x?(q=t,g_isie?init_LPfn()&&LPfn&&LPfn.ie_setpopupfillhint({formid:t,rowtype:"sites"}):g_isfirefox||sendBG({cmd:"setpopupfillhint",formid:t,rowtype:"sites"}),g_do_icon_number_hint&&(v="sites")):w&&x?g_aspx_hack&&isASPpage()?(g_isie?init_LPfn()&&LPfn&&LPfn.ie_setpopupfillhint({formid:t,rowtype:"sites"}):g_isfirefox||sendBG({cmd:"setpopupfillhint",formid:t,rowtype:"sites"}),g_do_icon_number_hint&&(v="sites")):(verbose_log("CONFLICT: form "+
t+" is a signup form and login form; treat as a signup form and present formfill options"),g_isie?init_LPfn()&&LPfn&&LPfn.ie_setpopupfillhint({formid:t,rowtype:"formfills"}):g_isfirefox||sendBG({cmd:"setpopupfillhint",formid:t,rowtype:"formfills"}),g_do_icon_number_hint&&(v=isInputFieldPassword(a,s)?s.form&&lpCheckCurrentPWField(s.form)?"sites":"generate":"formfills")):!w&&x&&chk_form_changepw(a,s.form)?(g_isie?init_LPfn()&&LPfn&&LPfn.ie_setpopupfillhint({formid:t,rowtype:"sites"}):g_isfirefox||sendBG({cmd:"setpopupfillhint",
formid:t,rowtype:"sites"}),g_do_icon_number_hint&&(v="sites")):p?g_do_icon_number_hint&&(v="sites"):(g_isie?init_LPfn()&&LPfn&&LPfn.ie_setpopupfillhint({formid:t,rowtype:"formfills"}):g_isfirefox||sendBG({cmd:"setpopupfillhint",formid:t,rowtype:"formfills"}),g_do_icon_number_hint&&(v="formfills")),checkIsDisplayed(a,s,0,null,r)){verbose_log("icon create on displayed field "+LP_pickFieldName(a,s)+" for form "+t);if(g_do_icon_number_hint){z=[];if(g_isfirefox){v||(v="sites");var B=LP.getMatchingSites(a.location.href,
SKIP_GENPWS);z[v]=B&&B.length?B.length:0}else z=g_icon_numbers;if(isASPpage()&&isFirstFieldNonLoginSubForm(a,s))setup_input_icon(a,s,"formfills",z);else{if("formfills"==v&&!isFirstFieldNonLoginSubForm(a,s)&&!lpIsVisible(s,!0)&&s.form&&lpIsVisible(s.form))continue;setup_input_icon(a,s,v,z)}}else setup_input_icon(a,s);g_isfirefox||g_save_suggest_msg&&(v&&null!=typeof g_icon_numbers&&null!=typeof g_icon_numbers.sites&&1>g_icon_numbers.sites)&&LP_addEventHandler(s,"click",function(b){var c=LP_getEventTarget(b);
setTimeout(function(){do_save_suggest_msg(c,a)},0);LP_stopEventPropagation(b);return!1},!1);if(g_clickable_input&&(!("password"==s.type&&formHasUsernameField(s))||g_clickable_input_on_password)&&!LP_didFieldClickEvent(a,s)&&"sites"==v)LP_setFieldClickEvent(a,s),LP_addEventHandler(s,"click",function(b){var c=LP_getEventTarget(b),d=LPMAGIC+LP_pickFieldName(a,c);if(null!=a.getElementById(d))g_clickable_input_on_password?is_your_popup_showing(a)||conditional_create_popup(a,c,FORCE_SHOW_NOHITS_NOLOGIN):
(set_active_username_password(a,s.form),popuptoggle(a,null,LP_pickFieldName(a,c),NO_FORCE_GENERATE,FORCE_SHOW_NOHITS));else if(g_input_click_intercept)try{verbose_log("CLICK ON INPUT, process it"),icon_click_handler(b)}catch(e){}return!1},!1);verbose_log("FORM "+t+" touched");null==b[t]?b[t]=1:b[t]++}else verbose_log("skip icon create on hidden field "+LP_pickFieldName(a,s)+" for form "+t)}}catch(C){verbose&&alert("error: "+C.message+" stack: "+C.stack)}}g_isfirefox||(!1==g_weaseled&&setTimeout(function(){weasel(100)},
500),g_weaseled=!0)}}}}}function ForceFillFieldClicked(a,b,c,d){if(!b||!d)return!1;c=b.form&&!c?LP_getname(b.form):"";var e=b.type?b.type:"";return"password"==e?LP_setval(a,LP_getname(b),d.p,0,d.a,c,e,d.sharedsite,null,d.automaticallyFill,d.reqinfo):LP_setval(a,LP_getname(b),d.u,0,d.a,c,e,d.sharedsite,null,d.automaticallyFill,d.reqinfo)}
function ForceFillFormClicked(a,b,c,d){if(!b)return!1;c=null;if(b=b.getElementsByTagName("INPUT")){if(c=GuessUserPassFields(b,!0,!0,!0))c.text&&ForceFillFieldClicked(a,c.text,!1,d),c.password&&ForceFillFieldClicked(a,c.password,!1,d);return!0}return!1}
function GuessUserPassFields(a,b,c,d){if(!a||0>=a.length)return null;var e,f=a.length,g=null,h=null,j=!1;for(e=0;e<f;e++){var k=a[e];if(k)if(c&&(LP_fieldIsReadOnly(k)||LP_fieldIsDisabled(k)))verbose_log("Skipping disabled field");else if(d&&!lpIsVisible(k,!0))verbose_log("Skipping non-displayed field");else{if(b){var m=RegExp(lpgs("ff_search_regexp"),"i");if(m.exec(k.name)||m.exec(k.id)){var m=k.name&&k.name.match(/[qQ]/)||k.id&&k.id.match(/[qQ]/),p=RegExp(lpgs("ff_username_regexp"),"i"),l=RegExp(lpgs("ff_email_regexp"),
"i");if(m&&k.name&&!k.name.match(/^[qQ]/)&&(!k.id||k.id&&!k.id.match(/^[qQ]/)))pass;else if(m&&k.id&&!k.id.match(/^[qQ]/)&&(!k.name||k.name&&!k.name.match(/^[qQ]/)))pass;else if(m&&(p.exec(k.name)||p.exec(k.id)||l.exec(k.name)||l.exec(k.id)))pass;else{verbose_log("Skipping field that smells like a search field");continue}}}if(("text"==k.type||"tel"==k.type||"email"==k.type)&&!h)b?(m=RegExp(lpgs("ff_username_regexp"),"i"),m.exec(k.name)||m.exec(k.id)?(g=k,j=!0):j||(g=k)):g=k;"password"==k.type&&!h&&
(b?(m=RegExp(lpgs("ff_username_regexp"),"i"),!j&&(m.exec(k.name)||m.exec(k.id))?g=k:h=k):h=k)}}a={};g&&(a.text=g);h&&(a.password=h);return isEmptyObject(a)?null:a}function LP_getActiveElement(a){return!a?null:a.activeElement}function LP_docHasFocus(a){return!a?null:!0}
function ForceFillClicked(a,b,c){var d=g_popupfill_parent;d||(d=g_popupfill_parent_last);if(!d){if(g_force_fill_active_element){var e=LP_getActiveElement(a);e&&("INPUT"==e.tagName&&LP_docHasFocus(a)&&hasIconState(a,LP_pickFieldName(a,e)))&&(d=e,verbose_log("hotkey or contextmenu triggered autofill detect & force"))}if(!d)return!1}if(!a&&(a=d.ownerDocument,!a))return!1;var e=chk_form_has_password(a,d.form),f=chk_form_ask_generate(a,d.form);return d.form&&e&&!f?!ForceFillFormClicked(a,d.form,b,c)||
""===d.value?ForceFillFieldClicked(a,d,b,c):!0:null==d.form?ForceFillOrphanFieldClicked(a,d,c):ForceFillFieldClicked(a,d,b,c)}function isMultiStageLoginForm(){}var MAX_INPUTS_HARD=200,MAX_INPUTS_SOFT=100;
function LP_exceedInputsThreshold(a){if(!a)return!0;var b=MAX_INPUTS_HARD,c=MAX_INPUTS_SOFT;a=a.getElementsByTagName("input");var d=a.length;if(d>b)return verbose_log("EIT: hard threshold exceed"),!0;if(d<c)return!1;var b=0,e;for(e=0;e<d;e++)if(a[e]){var f=a[e].type;("text"==f||"passwd"==f)&&b++}return b>c?(verbose_log("EIT: soft threshold exceed"),!0):!1}var MAX_FORMS_HARD=20,MAX_FORMS_SOFT=10;
function LP_exceedFormsThreshold(a){if(!a)return!0;var b=MAX_FORMS_HARD,c=MAX_FORMS_SOFT,d=a.getElementsByTagName("form"),e=d.length;if(e>b)return verbose_log("EFT: hard threshold exceed"),!0;if(e<c)return!1;var b=0,f=RegExp(lpgs("ff_loginform_regexp"),"i"),g;for(g=0;g<e;g++)if(d[g]&&(d[g]&&!d[g].disabled&&b++,b>c)){var h=d[g].id;if(f.exec(d[g].name)||f.exec(h))return verbose_log("EFT: soft threshold exception for login form "+LP_pickFormName(a,d[g])),!1}return b>c?(verbose_log("EFT: soft threshold exceed"),
!0):!1}var MAX_FORM_ELEMENTS_HARD=500,MAX_FORM_ELEMENTS_SOFT=100;function LP_exceedFormElementsThreshold(a,b){if(!a||!b)return!0;var c=MAX_FORM_ELEMENTS_SOFT,d=b.elements,e=d.length;if(e>MAX_FORM_ELEMENTS_HARD)return verbose_log("EFET: hard threshold exceed"),!0;if(e<c)return!1;var f=0,g;for(g=0;g<e;g++)if(d[g]&&d[g]&&(!d[g].disabled&&"FIELDSET"!=d[g].tagName)&&"input"==d[g].tagName){var h=inputs[g].type;("text"==h||"passwd"==h)&&f++}return f>c?(verbose_log("EFET: soft threshold exceed"),!0):!1}
function LP_passwordAlt(a,b){return!a||!b||"INPUT"!=b.tagName?!1:"nyckel"==LP_pickFieldName(a,b).toLowerCase()&&"password"==b.type?!0:!1}function LP_explicit_ignored(a,b){if(!a||!b||"undefined"==typeof b.getAttribute)return!0;var c=b.getAttribute("data-lpignore");if("true"===c)return!0;c=b.dataset?b.dataset.lpignore:!1;if("true"===c)return!0;c=b.getAttribute("lpignore");return"true"===c||"true"===b.lpignore?!0:!1}
function countFormEquivalents(a){var b=0,c=a.getElementsByTagName("FORM"),d=c.length;LP_exceedFormsThreshold(a)&&(d=MAX_FORMS_HARD);for(a=0;a<c.length&&a<d;a++)(lpIsVisible(c[a]),!0)&&b++;return b}
function LP_implicit_ignored(a,b){if(!b||!a&&(a=LP_derive_doc(),!a))return!1;var c=b.id,d=b.name,e=a.body;if(d&&"post_title"==d&&e&&e.className&&0<=e.className.indexOf("wp-admin")||"text"==b.type&&c&&(0<c.indexOf("_note")||0<c.indexOf("-note")))return!0;e=RegExp(lpgs("ff_combineddummy_regexp"),"i");return e.exec(c)||e.exec(d)?(verbose_log("combineddummy ignore on "+c+"/"+d),!0):!1}function LP_read_website_hint(){}function LP_didFieldClickEvent(a,b){return!a||!b?!1:1==(LP_getBits(a,b)&1)}
function LP_didFieldMouseEvent(a,b){return!a||!b?!1:2==(LP_getBits(a,b)&2)}function LP_didFieldKeyEvent(a,b){return!a||!b?!1:4==(LP_getBits(a,b)&4)}function LP_didDocumentEscapeEvent(a){if(!a)return!1;var b=a.body;null==b&&(b=a.documentElement);return 8==(LP_getBits(a,b)&8)}function LP_setFieldClickEvent(a,b){if(!a||!b)return!1;var c=LP_getBits(a,b);LP_setBits(a,b,c|1);return!0}function LP_setFieldMouseEvent(a,b){if(!a||!b)return!1;var c=LP_getBits(a,b);LP_setBits(a,b,c|2);return!0}
function LP_setFieldKeyEvent(a,b){if(!a||!b)return!1;var c=LP_getBits(a,b);LP_setBits(a,b,c|4);return!0}function LP_setBits(a,b,c){if(!a||!b)return!1;if("undefined"==typeof c||null===c)c=0;if(g_isie){if(init_LPfn()&&LPfn)return LPfn.ie_set_lpstates(b,c)}else b=LP_pickFieldName(a,b),verbose_log("lpsetbits "+b+" = "+c),a.lpstates[b]=c;return!0}
function LP_getBits(a,b){if(!a||!b)return 0;var c=0;if(g_isie)init_LPfn()&&LPfn&&(c=LPfn.ie_get_lpstates(b));else{a.lpstates||(a.lpstates={});var c=a.lpstates,d=LP_pickFieldName(a,b);verbose_log("lpstates for "+d+" == "+c[d]);c="undefined"!=typeof c[d]?c[d]:0}return c}function LP_setDocumentEscapeEvent(a){if(!a)return!1;var b=a.body;null==b&&(b=a.documentElement);var c=LP_setBits(a,b);return LP_setBits(a,b,c|8)}
function LP_resetAllBits(a){if(!a)return!1;if(g_isie){if(init_LPfn()&&LPfn)return LPfn.ie_reset_lpstates()}else return a.lpstates={},!0;return!1}function LP_fieldIsDisabled(a){return!a?!1:"undefined"!=typeof a.disabled&&a.disabled||"true"===a.getAttribute("aria-disabled")?!0:!1}function LP_fieldIsReadOnly(a){return!a?!1:"undefined"!=typeof a.readOnly&&a.readOnly||"true"===a.getAttribute("aria-readonly")?!0:!1}
function LP_fieldIsDecorative(a){return!a?!1:"presentation"===a.getAttribute("role")?!0:!1}
function create_clickable_icon_on_active_field(a,b){if(do_experimental_popupfill){var c=check_nevers(document,g_nevers,document.location.href),d=!0,e=!0,f=!0;null!=c&&(d=c.show_for_save,e=c.show_for_autofill,f=c.show_for_clickable_icon);var c=checkDocumentForLoginOrphans(a)||checkDocumentForLoginOrphansFirstStage(a),g=checkDocumentForLoginFirstStageForm(a),h;if(b.form&&lpIsVisible(b.form)){var j=null,j=LP_pickFormName(document,b.form),g=c||g||chk_form_has_password(document,b.form);chk_form_is_nonlogin_form(document,
b.form);g_is_specialsite&&looksLikeUsername(b)&&(g=!0);var k=chk_form_ask_generate(document,b.form);g&&!k||g_is_specialsite?(sendBG({cmd:"setpopupfillhint",formid:j,rowtype:"sites"}),g_do_icon_number_hint&&(h="sites")):g_aspx_hack&&isASPpage()?(sendBG({cmd:"setpopupfillhint",formid:j,rowtype:"sites"}),g_do_icon_number_hint&&(h="sites")):!g&&k&&chk_form_changepw(document,b.form)?(sendBG({cmd:"setpopupfillhint",formid:j,rowtype:"sites"}),g_do_icon_number_hint&&(h="sites")):(g=form_get_username(a,b.form),
k=form_get_password(a,b.form),g_do_icon_number_hint?(h=isInputFieldPassword(a,b)||g==b||k==b?"sites":"formfills",sendBG({cmd:"setpopupfillhint",formid:j,rowtype:h})):sendBG({cmd:"setpopupfillhint",formid:j,rowtype:"formfills"}))}if(c||g_is_specialsite||checkForLoginForm(document)){var m=punycode.URLToASCII(document.location.href),p=lp_gettld_url(m);setTimeout(function(){sendBG({cmd:"getpopupfillsites",tld:p,url:m})},0);if((0<g_popupfill_rows&&e||0==g_popupfill_rows&&d)&&f)if(LP_getname_or_idx(document,
b,LP_GETNAME_FAVOR_ID_OVER_NAME),g_do_icon_number_hint?setTimeout(function(){var c=LP_pickFieldName(a,b),d=!1;if((c=getIconState(a,c))&&c.fillhint)h=c.fillhint,d=c.no_check_generate;setup_input_icon(document,b,h,g_icon_numbers,d)},50):setTimeout(function(){setup_input_icon(document,b)},50),g_save_suggest_msg&&(h&&null!=typeof g_icon_numbers&&null!=typeof g_icon_numbers.sites&&1>g_icon_numbers.sites)&&b.addEventListener("click",function(){var a=event.target;setTimeout(function(){do_save_suggest_msg(a,
document)},0);event.preventDefault();event.stopPropagation();return!1},!1),g_clickable_input&&(!("password"==b.type&&formHasUsernameField(b))||g_clickable_input_on_password)&&!LP_didFieldClickEvent(document,b)&&h&&"sites"==h)LP_setFieldClickEvent(document,b),b.addEventListener("click",function(){var a=event.target,c=LPMAGIC+LP_getname_or_idx(document,a,LP_GETNAME_FAVOR_ID_OVER_NAME);null!=document.getElementById(c)&&(g_clickable_input_on_password?is_your_popup_showing(document)||conditional_create_popup(document,
a,FORCE_SHOW_NOHITS_NOLOGIN):(set_active_username_password(document,b.form),do_bgiconinput?popuptoggle(document,null,LP_getname_or_idx(document,b,LP_GETNAME_FAVOR_ID_OVER_NAME),NO_FORCE_GENERATE,FORCE_SHOW_NOHITS):popupfilltoggle(document,c,a,NO_FORCE_GENERATE,FORCE_SHOW_NOHITS)));return!1},!1)}}return!0}
function relocate_popupfill_clickables(a){if(!a&&(a=LP_derive_doc(),!a))return null;if("function"==typeof a.getElementsByName){g_isfirefox&&verbose_log("relocate_popupfill_clickables doc is "+a.location.href);var b=LP_get_icon_divs(a);if(isEmptyObject(b))return null;try{var c,d=0;for(c in b)if(b.hasOwnProperty(c)){var e=b[c].substr(LPMAGIC.length);if(null!=e&&0<e.length){var f=e,g=LP_getElementByIdOrName(a,f);if(null==g&&!g_double_password_hack&&!g_double_secret_password_hack)LP_delete_floating_icon(a,
b[c])&&(verbose_log("relocate: deleting orphaned icon container for "+e),d++),g_do_icon_number_hint&&LP_delete_floating_icon_hint(a,b[c])&&(verbose_log("relocate: deleting orphaned icon number for "+e),d++),delete b[c];else if(g_do_icon_number_hint){if(null!=a.getElementById(b[c])){var h="",j=getIconState(a,f);j&&(h=j.fillhint);null!=h&&"sites"!=h&&(h=null);f={};g_isfirefox?f[h]=j.fillhintnumber:(f.sites=0<g_icon_number_overrides.sites?g_icon_number_overrides.sites:g_icon_numbers.sites,f.formfills=
0<g_icon_number_overrides.formfills?g_icon_number_overrides.formfills:g_icon_numbers.formfills);move_floating_icon(a,g,h,f)}}else move_floating_icon(a,g)}}}catch(k){verbose_log("relocate_popupfill_clickables caught error:"+k.message),g_isfirefox&&end_weasel(a)}if(0<d)if(g_isfirefox){var m=lpGetBrowserForDocument(a);setTimeout(function(){LP.checkShouldRecheck(m)},500)}else setTimeout(function(){checkShouldRecheck()},500)}}
function LP_getFormEquivalent(a,b){if(!b)return null;a||(a=b.ownerDocument);return!a?null:b.form?b.form:null}
function create_icons_on_ASP(a,b){if(do_experimental_popupfill){if(!a&&(a=g_isfirefox&&LP?LP.getBrowser().contentDocument:document,!a))return!1;verbose_log("trying alternate strategy for ASP page "+a.location.href);var c=[];if(g_do_icon_number_hint)if(g_isfirefox){var d=LP.getMatchingSites(a.location.href,SKIP_GENPWS);c[n]=d&&d.length?d.length:0}else c=g_icon_numbers;var d=a.getElementsByTagName("FORM"),e,f,g=SHOULD_DO_ALWAYS,h=MAX_FORMS_SOFT;LP_exceedFormsThreshold(a)||(h=MAX_FORMS_HARD);var j=0;
for(f=0;f<d.length&&f<h;f++){var k=d[f].elements;chk_form_has_password(a,d[f]);chk_form_is_nonlogin_form(a,d[f]);chk_form_ask_generate(a,d[f]);var m=form_get_username(a,d[f]),p=form_get_password(a,d[f]),l=MAX_INPUTS_SOFT;LP_exceedInputsThreshold(a)||(l=MAX_INPUTS_HARD);for(e=0;e<k.length&&e<l;e++){var q=!1,r=k[e],n="sites";if("INPUT"==r.tagName){var u=!1;if(popupfill_shoulddofield(a,r,g)){var s=LP_fieldGetWidth(r),t=!0;if(b){if(looksLikeUsername(r)||isInputFieldPassword(a,r))n="sites",q=!0}else if(m==
r)n="sites",q=!0;else if(isInputFieldPassword(a,r))r==lpCheckCurrentPWField(d[f],!0)?(n="sites",u=q=!0):p==r?(n="sites",u=q=!0):isContigPW(a,r.form,r)?(n="generate",q=!0):(n="sites",u=q=!0);else if(isFirstFieldNonLoginSubForm(a,r))n="formfills",q=!0,t=!1;else if(isUsernameFieldLoginSubForm(a,r)||isPasswordFieldLoginSubForm(a,r))n="sites",u=q=!0;if(q&&LP_iconFieldWidthOK(r,s,t)&&(j++,setup_input_icon(a,r,n,c,u),g_clickable_input&&(!("password"==r.type&&formHasUsernameField(r))||g_clickable_input_on_password)&&
LP_didFieldClickEvent(a,r)&&n&&"sites"==n))LP_setFieldClickEvent(a,r),r.addEventListener("click",function(){var b=event.target,c=LPMAGIC+LP_getname_or_idx(a,b,LP_GETNAME_FAVOR_ID_OVER_NAME);null!=document.getElementById(c)&&(g_clickable_input_on_password?is_your_popup_showing(a)||conditional_create_popup(a,b,FORCE_SHOW_NOHITS_NOLOGIN):(set_active_username_password(a,r.form),do_bgiconinput?popuptoggle(a,null,LP_getname_or_idx(a,r,LP_GETNAME_FAVOR_ID_OVER_NAME),NO_FORCE_GENERATE,FORCE_SHOW_NOHITS):
popupfilltoggle(a,c,b,NO_FORCE_GENERATE,FORCE_SHOW_NOHITS)));return!1},!1)}}}}verbose_log("created "+j+" icons on ASP page")}}
function check_for_ASP(a,b){if(b&&!isASPpage()&&g_aspx_hack){if((0===b.name.indexOf("ctl00$")||null!=b.form&&("ctl00"==b.form.name||"landingform"==b.form.name||"landingForm"==b.form.name||"aspnetForm"==b.form.name||"aspnetForm"==b.form.id)||0===b.name.indexOf("ctl00_"))&&!isASPpage())setASPpage(!0),verbose_log("detected ASP.NET form, one if by land");try{a.location&&(a.location.href&&0<a.location.href.indexOf(".aspx"))&&(b.form&&(b.form.elements&&b.form.elements.length&&6<b.form.elements.length)&&
!isASPpage())&&(setASPpage(!0),verbose_log("detected ASP.NET form, two if by sea"))}catch(c){verbose_log("check_for_ASP:"+c.message)}}}
function LP_fieldGetWidth(a){var b={},c=0;if("undefined"!=typeof g_isie&&g_isie){if("undefined"!=typeof a.offsetWidth&&(c=parseInt(a.offsetWidth)),!c)if("undefined"!=typeof a.currentStyle)(b=a.currentStyle)&&(c=parseInt(b.width));else return 0}else if(c=a.style.width.replace(/px/,""),0<c.indexOf("%")&&(c=c.replace(/%/,"")),""==c)try{b=a.ownerDocument.defaultView.getComputedStyle(a,""),c=b.width.replace(/px/,"")}catch(d){"undefined"!=typeof a.currentStyle&&(b=a.currentStyle,c=b.width.replace(/px/,
""))}if("NaN"==c||""===c)c=0;return c}
function LP_iconFieldWidthOK(a,b,c){if(!a||null===b)return!1;var d=a.ownerDocument;if(!d)return verbose_log("iconFieldWidthOK: no doc???"),!1;if("undefined"==typeof c||null===c)if(isInputFieldPassword(d,a))c=!0;else{var e=a.form;e&&chk_form_has_password(d,e)&&(c=!0)}c?0<b&&40>b?a=!1:(a?(b=a.getAttribute("size"),c=a.getAttribute("maxlength"),null==b&&(b=a.size),null==c&&(c=a.maxLength),a=""==a.style.width&&b&&2>b&&0<=b||c&&3>c&&0<=c?!1:!0):a=!1,a=!a?!1:!0):a=0<b&&100>b?!1:!0;return a}
function end_weasel(a){if(do_experimental_popupfill&&(a||(a=document?document:LP.getBrowser().contentDocument),a)){var b;b=a&&null!=a.g_weasel_id?a.g_weasel_id:g_weasel_id;null!=b&&clearTimeout(b);g_isfirefox?a&&(a.g_weasel_id=null,a.g_weaseled=!1):(g_weasel_id=null,g_weaseled=!1)}}
function relocate_popupfill_iframes(a,b){if(do_experimental_popupfill)try{var c=a;g_isfirefox&&(c="undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument);if(!a||!c)return null;if(g_isfirefox&&null==a.location){verbose_log("relocate_popupfill_iframes given zombie document?");var d="undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument;
closepopupfills(d)}else{var e=d=!1;if(!f){var f=a.defaultView;f||(f=a.parentWindow)}var g,h=c.getElementsByTagName("iframe");for(g=0;g<h.length;g++){var j=h[g];if("undefined"!=typeof j.id&&null!=j.id){var k=LPMAGICIFRAME;if(0==j.id.indexOf(k)){var m=j.id.substr(k.length),k=m,d=!0,p=LP_getElementByIdOrName(a,m),l=!b;if(g_isfirefox||null!=p&&lpIsVisible(p,l)){var q=null;g_isfirefox?(q=ff_get_iframe_pos(a,f,p,k,c),null!=q&&(e=!0)):q=calculate_iframe_pos(a,p,0<g_minwidth_override?g_minwidth_override:
0);null!=q&&(verbose_log("PLACING IFRAME"),g_fixed_iframe_position?place_iframe_fixed(a,f,j,q,c):place_iframe_absolute(a,f,j,q,c))}else g_create_iframe_in_top&&!g_isie&&!g_isfirefox&&!LP_inIframe(f)&&toplevel_iframe_state_get()?(q=LP_getAbsolutePos(a,j,!0),q.posx=q.left,q.posy=q.top,place_iframe_absolute(a,f,j,q,c)):!g_isfirefox&&(!g_double_password_hack&&!g_double_secret_password_hack)&&closepopupfills(a)}}}g_isfirefox&&(!e&&d)&&(verbose_log("found orphan iframe, remove it"),closepopupfills(a))}}catch(r){lplog("relocate_popupfill_iframe failed, "+
r.message),do_bgiconinput||end_weasel(a),g_isfirefox&&closepopupfills(a)}}function LP_getElementByXPath(a,b){return!a&&(a=LP_derive_doc(),!a)?null:LP_lookupElementByXPath(a,b)}
function LP_createXPathFromElement(a,b){if(!a&&(a=LP_derive_doc(),!a))return null;var c=a.getElementsByTagName("*");for(segs=[];b&&1==b.nodeType;b=b.parentNode)if(b.hasAttribute("id")){for(var d=0,e=0;e<c.length&&!(c[e].hasAttribute("id")&&c[e].id==b.id&&d++,1<d);e++);if(1==d)return segs.unshift('id("'+b.getAttribute("id")+'")'),segs.join("/");segs.unshift(b.localName.toLowerCase()+'[@id="'+b.getAttribute("id")+'"]')}else if(b.hasAttribute("class"))segs.unshift(b.localName.toLowerCase()+'[@class="'+
b.getAttribute("class")+'"]');else{i=1;for(sib=b.previousSibling;sib;sib=sib.previousSibling)sib.localName==b.localName&&i++;segs.unshift(b.localName.toLowerCase()+"["+i+"]")}return segs.length?"/"+segs.join("/"):null}function LP_lookupElementByXPath(a,b){return"undefined"==typeof XPathEvaluator?null:(new XPathEvaluator).evaluate(b,a.documentElement,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}
function LP_lookupElementsByXPath(a,b){var c=[];if("undefined"==typeof XPathEvaluator)return c;var d=(new XPathEvaluator).evaluate(b,a.documentElement,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null);if(d)for(elt=d.iterateNext();elt;)elt&&c.push(elt),elt=d.iterateNext();return c}
function handle_form_text_change(a,b,c,d){if(do_experimental_popupfill){if(!a&&(a=LP_derive_doc(),!a))return null;if(!(null==c||null==b||null==d||null==d.keyCode||0==d.keyCode|16==d.keyCode)&&"lpwebsiteeventform"!=c.name&&"lpmanualform"!=c.name&&popupfill_shoulddofield(a,b,SHOULD_DO_ALWAYS)){var e=b.value,f=LP_pickFieldName(a,b);if(g_clickable_input_on_password){var g=g_popup_active_username,h=g_popup_active_password;null==g&&(g="undefined"==typeof b.form||null==b.form?doc_get_orphan_username(a):
form_get_username(a,b.form));null==h&&(h="undefined"==typeof b.form||null==b.form?doc_get_orphan_password(a):form_get_password(a,b.form));var j=checkDocumentForLoginOrphans(a)||checkDocumentForLoginOrphansFirstStage(a),k=checkDocumentForCPWOrphans(a),j=j||chk_form_has_password(a,c),k=k||chk_form_is_nonlogin_form(a,c),m=chk_form_ask_generate(a,c);if(g&&h&&(j||m)&&!k){if(b!=g){b==h?(g_isie||(e=g.value,g_isfirefox||sendBG({cmd:"popupfillinputsave",inputstr:e,inputid:f,inputtype:"password"})),verbose_log("KEYPASS4 username="+
e)):(g_isie||(g_isfirefox?d&&(d.keyCode&&d.keyCode!=KEY_TAB&&d.keyCode!=KEY_UP&&d.keyCode!=KEY_DOWN&&d.keyCode!=KEY_SHIFT&&d.keyCode!=KEY_LEFT&&d.keyCode!=KEY_RIGHT)&&ff_do_popupinputupdate(""):sendBG({cmd:"popupfillinputsave",inputstr:"",inputid:f})),verbose_log('KEYPASS5 username=""'));return}}else{g_isie||(verbose_log('KEYPASS6 formfill? username=""'),g_isfirefox?ff_do_popupinputupdate(""):sendBG({cmd:"popupfillinputsave",inputstr:"",inputid:f}));return}}if(null==e||0==e.length)g_isie||(g_isfirefox?
ff_do_popupinputupdate(""):sendBG({cmd:"popupfillinputsave",inputstr:"",inputid:f})),verbose_log("KEYPASS7 empty username");else{d=0;for(var p in g_autofillsites)d++;if(!(0>=d)||g_change_icon_on_input){p=0;d=null;for(var l in g_autofillsites)0==g_autofillsites[l].useusername.indexOf(e)&&(p++,d=g_autofillsites[l]);if(1==p)do_autofill_if_matched?g_isie||(g_isfirefox?ff_autofill(a,d.aid):sendBG({cmd:"autofillaid",aid:d.aid})):(g_isie||(g_isfirefox?ff_do_popupinputupdate(e):sendBG({cmd:"popupfillinputsave",
inputstr:e,inputid:f,inputtype:b.type,issaveall:issaveall(c)})),verbose_log("KEYPASS8 match>0 username="+e));else if(g_isie||(g_isfirefox?ff_do_popupinputupdate(e):sendBG({cmd:"popupfillinputsave",inputstr:e,inputid:f,inputtype:b.type,issaveall:issaveall(c)})),verbose_log("KEYPASS9 match>1 username="+e),chk_form_has_password(a,c),g_change_icon_on_input&&(b=c.elements,"undefined"!=typeof Math&&(c=Math.floor(1E4*Math.random()),null!=b)))for(e=0;e<b.length&&!(f=b[e],checkIsDisplayed(a,f,0,null,c)&&isInputFieldPassword(a,
f)&&null!=f.value&&0<f.value.length);e++);}}}}}function LP_derive_doc(){var a=null,a="undefined"!=typeof g_isfirefox&&g_isfirefox&&LP?LP.getBrowser().contentDocument:document;return!a?null:a}
function checkDocumentForCPWOrphans(a){if(!a&&(a=LP_derive_doc(),!a))return null;var b=formcacheget(a,"fakedoc","cpw");if(null!=b)return g_ctr_formcache_hits++,b;g_ctr_formcache_misses++;for(var b=null,c=0,d=a.getElementsByTagName("INPUT"),e=0;e<d.length;e++){elt=d[e];if(e>MAX_INPUTS_HARD)break;if(null==elt.form){if(isInputFieldPassword(a,elt)&&lpIsVisible(elt)){c++;var f=lpIsFieldCurrentPWField(elt);if(f){if(b)return!1;b=f}}if(4<=c)return formcacheset(a,"fakedoc","cpw",!1),!1}}if(2<=c&&b)return formcacheset(a,
"fakedoc","cpw",!0),!0;formcacheset(a,"fakedoc","cpw",!1);return!1}
function create_icons_generic(a,b){if(do_experimental_popupfill){if(!a&&(a=LP_derive_doc(),!a))return null;verbose_log("trying generic strategy "+a.location.href);var c=[];if(g_do_icon_number_hint)if(g_isfirefox){var d=LP.getMatchingSites(a.location.href,SKIP_GENPWS);c[g]=d&&d.length?d.length:0}else c=g_icon_numbers;var d=a.getElementsByTagName("INPUT"),e,f=d.length,g=MAX_INPUTS_SOFT;LP_exceedInputsThreshold(a)||(g=MAX_INPUTS_HARD);f>g&&(f=g);var h=SHOULD_DO_ALWAYS,j=checkDocumentForLoginOrphans(a);
LP_firstVisibleOrphan(a);var k=0;for(e=0;e<f;e++){var m=d[e].form,p=null,l=null;m?(p=form_get_username(a,m),l=form_get_password(a,m)):l=p=null;var q=d[e],r=!1,g="sites",n=!1;if(popupfill_shoulddofield(a,q,h)){var u=LP_fieldGetWidth(q),s=!0;if(b){if(looksLikeUsername(q)||isInputFieldPassword(a,q))g="sites",r=!0}else if(p==q)g="sites",r=!0;else if(isInputFieldPassword(a,q))m&&q==lpCheckCurrentPWField(m,!0)?(g="sites",n=r=!0):lpIsFieldCurrentPWField(q)?(g="sites",n=r=!0):l==q?(g="sites",n=r=!0):isContigPW(a,
q.form,q)?(g="generate",r=!0):(g="sites",n=r=!0);else if(isFirstFieldNonLoginSubForm(a,q))g="formfills",r=!0,s=!1;else if(isUsernameFieldLoginSubForm(a,q)||isPasswordFieldLoginSubForm(a,q))g="sites",n=r=!0;else if(null==q.form&&j&&(looksLikeUsername(q)||isInputFieldPassword(a,q)))g="sites",r=!0;if(r&&LP_iconFieldWidthOK(q,u,s)&&(k++,setup_input_icon(a,q,g,c,n),g_clickable_input&&(!("password"==q.type&&formHasUsernameField(q))||g_clickable_input_on_password)&&LP_didFieldClickEvent(a,q)&&g&&"sites"==
g))LP_setFieldClickEvent(a,q),q.addEventListener("click",function(){var b=event.target,c=LPMAGIC+LP_getname_or_idx(a,b,LP_GETNAME_FAVOR_ID_OVER_NAME);null!=document.getElementById(c)&&(g_clickable_input_on_password?is_your_popup_showing(a)||conditional_create_popup(a,b,FORCE_SHOW_NOHITS_NOLOGIN):(set_active_username_password(a,q.form),do_bgiconinput?popuptoggle(a,null,LP_getname_or_idx(a,q,LP_GETNAME_FAVOR_ID_OVER_NAME),NO_FORCE_GENERATE,FORCE_SHOW_NOHITS):popupfilltoggle(a,c,b,NO_FORCE_GENERATE,
FORCE_SHOW_NOHITS)));return!1},!1)}}verbose_log("created "+k+" icons on generic page")}}
function draw_context_tip(a,b){if(!g_context_tip_shown&&checkIsDisplayed(a,b,0,lp_gettld_url(punycode.URLToASCII(a.location.href)),0,!0)){g_context_tip_shown=1;var c=LP_getAbsolutePos(a,b),d=c.left+c.width-10-300+22,e=a.createElement("iframe");e.frameborder=0;e.setAttribute("frameborder",0);e.style.width="300px";e.style.height="200px";e.style.position="absolute";e.style.left=d+"px";e.style.top=c.top+c.height+"px";e.style.zIndex=CLICKABLE_ICON_ZINDEX;e.id="lpttipif";e.src=getchromeurl("tip_context.html");
a.body.appendChild(e);var f=a.createElement("div");f.style.width="300px";f.style.height="200px";f.style.position="absolute";f.style.left=d+"px";f.style.top=c.top+c.height+"px";f.style.zIndex=CLICKABLE_ICON_ZINDEX+1;f.id="lpttipdv";a.body.appendChild(f);f.addEventListener("click",function(){a.body.removeChild(e);a.body.removeChild(f);g_tutorial_flags|=TUTORIAL_FLAG_CONTEXT;save_tutorial_flags()},!1)}}
function element_is_detached(a,b,c){if(!b||!a&&(a=b.ownerDocument,!a))return!1;var d=null;try{15<c&&(d=!1),null==b.parentNode&&(d=!0),b.parentNode==a.body&&(d=!1)}catch(e){d=!0}return null==d?element_is_detached(a,b.parentNode,c+1):d}
function ForceFillOrphanFieldClicked(a,b,c){if(!a&&(a=elt.ownerDocument,!a))return!1;var d=!0;if(d=ForceFillFieldClicked(a,b,!1,c))for(var e=a.getElementsByTagName("INPUT"),f=0,f=0;f<e.length&&f<MAX_INPUTS_HARD;f++)if(e[f]==b&&e[f+1]&&f+1<e.length&&f+1<MAX_INPUTS_HARD){isInputFieldPassword(a,e[f+1])&&!lpIsFieldCurrentPWField(e[f+1])&&(d=ForceFillFieldClicked(a,e[f+1],!1,c));break}return d}
function LP_inIframe(a){a||(a=window);if(null==g_inframe)try{return a.self!==a.top}catch(b){return!0}else return g_inframe}function toplevelpopupsetstate_handler(a){g_create_iframe_in_top&&toplevel_iframe_state_set(a?!0:!1)}function toplevel_iframe_state_get(){return g_toplevel_iframe_exists}function toplevel_iframe_state_set(a){g_toplevel_iframe_exists=a}
function LP_computeFixedPos(a,b,c){if(!a||!c)return null;var d,e,f,g;try{b?(d=parseInt(b.top)+"px",e=parseInt(b.left)+"px"):e=d="10px";if(0>parseInt(d)||!d||"NaNpx"==d)d="10px";if(0>parseInt(e)||!e||"NaNpx"==e)e="10px";f=g_minheight_override;g=g_minwidth_override;f=0>parseInt(f)||!f||"NaNpx"==f?"90px":parseInt(f)+"px";g=0>parseInt(g)||!g||"NaNpx"==g?"300px":parseInt(g)+"px";if(0>parseInt(d)||!d||"NaNpx"==d)d="10px";if(0>parseInt(e)||!e||"NaNpx"==e)e="10px";return{left:e,top:d,width:g,height:f}}catch(h){}return null}
function place_iframe_fixed(a,b,c,d){if(!c)return!1;if(!a&&(a=LP_derive_doc(),!a))return null;b||(b=window);var e,f,g,h,j="";try{if(toplevel_iframe_state_get()){var k=LP_computeFixedPos(a,d,b);k?(e=k.top,h=k.width,g=k.height,f=k.left):(e="10px",h="300px",g="90px",f="10px");g=0>parseInt(g)||!g||"NaNpx"==g?"90px":parseInt(g)+"px";h=0>parseInt(h)||!h||"NaNpx"==h?"240px":parseInt(h)+"px";j="width: "+h+" !important; height: "+g+" !important; top:"+e+" !important; left:"+f+" !important; position: fixed;"}else pass;
a="display:block; position:fixed !important; visibility:visible !important; z-index:"+CLICKABLE_ICON_ZINDEX+" !important; border-style:none !important;"+j;c.style.cssText!=a&&(c.style.cssText=a)}catch(m){return verbose&&alert("place_fixed: "+m.message),!1}return!0}
function place_iframe_absolute(a,b,c,d,e){if(!c||!a||!b||!d)return!1;var f=null,g;if("undefined"!=typeof Math){try{var h=d.posx,j=d.posy,k=parseInt(h)+"px",m=parseInt(j)+"px";d=0;0<parseInt(g_minwidth_override)?(d=Math.max(parseInt(g_popupfill_iframe_width_save),parseInt(g_minwidth_override))+"px",(g=LP_getWindowWidth(b))&&parseInt(d)+parseInt(k)>g&&(k=g-parseInt(d)-20+"px")):0<parseInt(g_popupfill_iframe_width_save)?d=parseInt(g_popupfill_iframe_width_save)+"px":(null==f&&(f=LP_getComputedStyle(b,
c)),d=f.width);0>parseInt(k)&&(k="0px");g=0;0<parseInt(g_minheight_override)?g=Math.max(parseInt(g_popupfill_iframe_height_save),parseInt(g_minheight_override))+"px":""!=g_popupfill_iframe_height_save&&0<parseInt(g_popupfill_iframe_height_save)?g=parseInt(g_popupfill_iframe_height_save)+"px":(null==f&&(f=LP_getComputedStyle(b,c)),f&&(g=f.height));if(g_iframe_scroll_hack&&!g_frame_scrollable_set){var p=parseInt(g),l=parseInt(d),q;q=b&&"undefined"!=typeof b.getComputedStyle?g_isfirefox?LP_getComputedStyle(b,
a.documentElement):LP_getComputedStyle(b,a.body):"undefined"!=typeof a.documentElement?LP_getComputedStyle(b,a.documentElement):LP_getComputedStyle(b,a.body);parseInt(q.height);parseInt(q.width);var r=b.innerHeight,n=b.innerWidth;if(null!=p&&0<p&&null!=r&&0<r||null!=l&&0<l&&null!=n&&0<n)if((parseInt(j)+p>r||parseInt(h)+l>n)&&LP_inIframe(b)){if(g_isfirefox){enableScrollWithinIframe(a,b);var u=LP.getBrowser(),s=u?u.contentDocument:null;s&&s!=a&&enableScrollOnIframe(a.location.href,e)}else g_isie||(verbose_log("ensuring this frame/iframe has scrolling enabled"),
sendBG({cmd:"iframescrollenable",href:a.location.href}));g_frame_scrollable_set=!0}}if("NaNpx"==m||""===m||"NaNpx"==k||""===k||"NaNpx"==d||""===d||"NaNpx"==g||""===g)verbose_log("invalid iframe pos"),closepopupfills(a);a=g_frame_css_str+("width: "+d+" !important; height: "+g+" !important; top:"+m+" !important; left:"+k+" !important; position: absolute;");c.style.cssText!=a&&(c.style.cssText=a)}catch(t){verbose&&alert("place_abs "+t.message)}return True}}
function ff_get_iframe_pos(a,b,c,d,e){if(!g_isfirefox||!e)return null;var f;b=null;c=[];try{var g=e.getElementsByTagName("iframe");for(f=0;f<g.length&&50>f;f++)url_is_lpfirefox_iframe(g[f].src)||(c[c.length]=g[f]);g=e.getElementsByTagName("frame");for(f=0;f<g.length&&50>f;f++)c[c.length]=g[f];var h=getIconState(a,d);if(h)if(g=f=a=null,h&&h.inframe){verbose_log("Input is in frame!");for(h=h=0;h<c.length;h++){f=null;verbose_log("Trying frame "+c[h].src);try{f=c[h].contentDocument;var j=LP_getElementByIdOrName(f,
d);if(j&&"INPUT"==j.tagName){verbose_log("Found INPUT "+d+" in "+f.location.href);g=LP_getAbsolutePos(e,c[h]);break}}catch(k){verbose_log("Error frame traverse "+k.message);return}}if(f&&g&&(verbose_log("computing iframe position [against iframe]"),a=LP_getElementByIdOrName(f,d))){var m=ff_calculate_iframe_pos(f,a,0<g_minwidth_override?g_minwidth_override:0);b={posx:parseInt(m.posx)+g.left+"px",posy:parseInt(m.posy)+g.top+"px"};verbose_log("computed x="+b.posx+" y="+b.posy)}}else null!=h&&!isEmptyObject(h)?
(verbose_log("computing iframe position [against toplevel]"),(a=LP_getElementByIdOrName(e,d))&&(b=ff_calculate_iframe_pos(e,a,0<g_minwidth_override?g_minwidth_override:0))):verbose_log("data object is missing for "+d)}catch(p){verbose&&alert("ff_pos "+p.message)}return b}function LP_do_toplevel_iframe_hack(a){return!a||g_isie||g_isfirefox?!1:!0}function LP_floating_icon_exists(a,b){return!a&&(a=LP_derive_doc(),!a)?!1:null==LP_getElementByIdOrName(a,LPMAGIC+b)}
function checkDocumentForNonLoginOrphans(a){if(null==a)return!1;var b=formcacheget(a,"fakedoc","orphan-signup"),c=formcacheget(a,"fakedoc","orphan-registration"),d=formcacheget(a,"fakedoc","orphan-cc"),b=b||c||d;if(null!=b)return g_ctr_formcache_hits++,b;g_ctr_formcache_misses++;b=RegExp(lpgs("ff_firstname_regexp"),"i");c=RegExp(lpgs("ff_lastname_regexp"),"i");d=RegExp(lpgs("ff_cctype_regexp"),"i");lpgs("ff_address1_regexp");lpgs("ff_forgot_regexp");lpgs("ff_remember_regexp");var e=!1,f=!1,g=!1,h=
!1,j=!1;try{gettldcached(a.location.href)}catch(k){return!1}for(var m=0,p=a.getElementsByTagName("INPUT"),l=0;l<p.length&&20>l;l++){var q=p[l];if("INPUT"==q.tagName){LP_isRememberCheckbox(q)&&(lpIsVisible(q)&&!LP_fieldIsDisabled(q))&&m++;if("email"==q.type||"text"==q.type||"password"==q.type){if(LP_fieldIsDisabled(q))continue;if(!0==q.disabled)continue;if(!valid_by_role(a,q))continue;if(!lpIsVisible(q))continue;if(is_search_field(a,q,!0))continue;var r=q.name,n=q.id?q.id:"",u=lpGetTextBeforeFormField(q);
looksLikeUsername(q)?e=!0:isInputFieldPassword(a,q)?f=!0:b.exec(n)||b.exec(r)||b.exec(u)?g=!0:c.exec(n)||c.exec(r)||c.exec(u)?h=!0:d.exec(n)||d.exec(r)||d.exec(u)?j=!0:regexp_address1.exec(n)||regexp_address1.exec(r)||regexp_address1.exec(u);m++}if(3<=m){if(e&&f&&!j)return verbose_log("document appears to be have orphan signup fields"),formcacheset(a,"fakedoc","orphan-signup",!0),formcacheset(a,"fakedoc","orphan-cc",!1),formcacheset(a,"fakedoc","orphan-registration",!1),!0;if(j&&!e&&!f)return verbose_log("document appears to be have orphan credit card fields"),
formcacheset(a,"fakedoc","orphan-cc",!0),formcacheset(a,"fakedoc","orphan-signup",!1),formcacheset(a,"fakedoc","orphan-registration",!1),!0;if((g||h)&&e)return verbose_log("document appears to be have orphan registration fields"),formcacheset(a,"fakedoc","orphan-registration",!0),formcacheset(a,"fakedoc","orphan-signup",!1),formcacheset(a,"fakedoc","orphan-cc",!1),!0}}}formcacheset(a,"fakedoc","orphan-signup",!1);formcacheset(a,"fakedoc","orphan-cc",!1);formcacheset(a,"fakedoc","orphan-registration",
!1);return!1}function checkDocumentHasOrphanSignup(a){if(!a)return!1;var b=formcacheget(a,"fakedoc","orphan-signup");if(null!=b)return g_ctr_formcache_hits++,b;checkDocumentForNonLoginOrphans(a);return formcacheget(a,"fakedoc","orphan-signup")}function checkDocumentHasOrphanCC(a){if(!a)return!1;var b=formcacheget(a,"fakedoc","orphan-cc");if(null!=b)return g_ctr_formcache_hits++,b;checkDocumentForNonLoginOrphans(a);return formcacheget(a,"fakedoc","orphan-cc")}
function checkDocumentHasOrphanRegistration(a){if(!a)return!1;var b=formcacheget(a,"fakedoc","orphan-registration");if(null!=b)return g_ctr_formcache_hits++,b;checkDocumentForNonLoginOrphans(a);return formcacheget(a,"fakedoc","orphan-registration")}
function LP_should_ignore_this_doc(a){if(!a||!a.location)return!0;a=a.location.href;return 0==a.indexOf("chrome:")||(0==a.indexOf("chrome-extension://")||0==a.indexOf("safari-extension://")||0==a.indexOf("about:")||0==a.indexOf("javascript:")||0==a.indexOf("resource:"))||0<a.indexOf(".xul")?!0:!1}function LP_elt_get_text(a){return!a?"":"undefined"!=typeof g_isfirefox&&g_isfirefox?null==a.textContent?"":a.textContent:null==a.innerText?"":a.innerText}
function LP_elt_set_text(a,b){if(!a)return!1;"undefined"!=typeof g_isfirefox&&g_isfirefox?a.textContent=b:a.innerText=b;return!0}
function checkDocumentForLoginOrphansFirstStage(a){if(!a)return!1;var b=formcacheget(a,"fakedoc","orphan-first");if(null!=b)return g_ctr_formcache_hits++,b;g_ctr_formcache_misses++;if("undefined"!=typeof Math){for(var b=[],c=[],d=0,e=!1,f=Math.floor(1E4*Math.random()),g=["input"],h=0;h<g.length;h++)for(var j=a.getElementsByTagName(g[h]),k=0;k<j.length;k++){elt=j[k];if(20<k)break;if(!j[k].form&&checkIsDisplayed(a,j[k],0,null,f)){verbose_log("checking "+LP_pickFieldName(a,elt));if(null!=elt.id&&""!=
elt.id){var m=c[elt.id];if(null==m)c[elt.id]=!0;else continue}if(null!=elt.name&&""!=elt.name)if(m=b[elt.name],null==m)b[elt.name]=!0;else continue;looksLikeUsername(elt)&&d++;if(isInputFieldPassword(a,elt)){e=!0;break}if(2<d)break}}if(0<d&&4>=d&&!1==e)return verbose_log("orphan and isolated login field found"),formcacheset(a,"fakedoc","orphan-first",!0),!0;formcacheset(a,"fakedoc","orphan-first",!1);return!1}}
function checkDocumentForLoginFirstStageForm(a){if(!a)return!1;var b=MAX_FORMS_SOFT;LP_exceedFormsThreshold(a)||(b=MAX_FORMS_HARD);for(var c=a.getElementsByTagName("form"),d=!1,e=0;e<c.length&&e<b;e++)if(d=checkFormForLoginFirstStage(a,c[e]))return d;return!1}
function checkFormForLoginFirstStage(a,b){if(null==a||null==b||"FORM"!=b.tagName)return!1;var c=LP_pickFormName(a,b);verbose_log("checking "+c+" for first stage of multi-stage login");var d=formcacheget(a,c,"multi-first");if(null!=d)return g_ctr_formcache_hits++,d;g_ctr_formcache_misses++;if("undefined"==typeof Math)return False;for(var d=0,e=!1,f,g=Math.floor(1E4*Math.random()),h=0,j=0;20>j&&j<b.elements.length;j++)if(f=b.elements[j],"INPUT"==f.tagName&&checkIsDisplayed(a,f,0,null,g)){looksLikeUsername(f)&&
d++;("text"==f.type||"tel"==f.type||"url"==f.type||"email"==f.type||"textarea"==f.type)&&h++;if(isInputFieldPassword(a,f)){e=!0;break}if(2<=d)break;if(2<=h)break}if(0<d&&3>=d&&!1==e&&2>h)return verbose_log("isolated login field/initial stage of multi-stage found"),formcacheset(a,c,"multi-first",!0),!0;formcacheset(a,c,"multi-first",!1);return!1}
function computeFingerprint(a){if(!a)return"";var b="",c=a.getElementsByTagName("INPUT"),d;for(d=0;d<c.length&&20>d;d++)b+=c[d].id?c[d].id:c[d].name;a=a.getElementsByTagName("DIV");return b+=a.length.toString()}function LP_firstVisibleOrphan(a){if(!a)return null;a=a.getElementsByTagName("INPUT");var b,c=null;for(b=0;b<a.length&&50>b;b++)if(c=a[b],!c.form&&("text"==c.type||"password"==c.type||"url"==c.type||"email"==c.type)&&lpIsVisible(c))return c;return null}
function LP_has_textlike_type(a){if(!a||"INPUT"!=a.tagName)return!1;var b="text number email tel url textarea".split(" "),c;for(c in b)if(b.hasOwnProperty(c)&&a.type==b[c])return True;return False}function LP_get_cached_body_rect(a){if(!a)return null;var b;b=LP_get_body_reference(a);"undefined"==typeof a.g_posbodyrect_cache&&b?(b=b.getBoundingClientRect(),a.g_posbodyrect_cache=b):b=a.g_posbodyrect_cache;return b}
function LP_get_body_reference(a){if(!a)return null;var b=null;"undefined"!=typeof a.body?b=a.body:a.getElementById("main")&&(b=a.getElementById("main"));return b}
function LP_get_cached_body_style(a){if(!a)return null;var b=LP_get_body_reference(a);if("undefined"==typeof a.g_posbodystyle_cache){var c="undefined"!=typeof window&&window?window:a.defaultView,b=c&&"undefined"!=typeof c.getComputedStyle?c.getComputedStyle(b,null):b.currentStyle;a.g_posbodystyle_cache=b}else b=a.g_posbodystyle_cache;return b}
function LP_get_live_style(a){if(!a||!a.ownerDocument||!g_isie&&!a.ownerDocument.defaultView)return null;var b;if(g_isie&&a.currentStyle)b=a.currentStyle;else try{b=a.ownerDocument.defaultView.getComputedStyle(a,"")}catch(c){"undefined"!=typeof a.currentStyle&&(b=a.currentStyle)}return b}function LP_treat_as_hidden(a){return!a||"hidden"==a.type||!a.parentNode||0==a.id.indexOf("hidden")&&("none"==a.style.display||"none"==a.parentNode.style.display)?!0:!1}
function LP_input_has_bg_style_override(a){if(!a||!g_stylesheet_grubbing)return!1;var b=!1;try{var c=formcacheget(a,"fakedoc","input-bg-style");if(null!=c)return g_ctr_formcache_hits++,c;g_ctr_formcache_misses++;var d=c=0,e=/(background|background-color):[^:].*!important/,f=a.styleSheets;if(f&&e)for(c=0;c<f.length&&32>c;c++){var g=null;"undefined"!=typeof f[c].rules?g=f[c].rules:"undefined"!=typeof f[c].cssRules&&(g=f[c].cssRules);if(g){for(d=0;d<g.length;d++)if(g[d]&&g[d].selectorText&&g[d].cssText&&
-1!=g[d].selectorText.indexOf("input:focus")){var h=g[d].cssText;if(h&&e.exec(h)){verbose_log("focus hack:"+h);b=!0;break}}if(b)break}}}catch(j){}formcacheset(a,"fakedoc","input-bg-style",b);return b}
function is_wacky_disp(a,b){a||(a=LP_derive_doc());if(!a||!b)return!1;if(b==a.body)return!0;var c=!0;try{var d=LP_get_live_style(b);if(d){if("none"==d.display||"hidden"==d.visibility)c=!1;if(!0==c&&(!b.offsetHeight||!b.offsetHeight))c=!1;if(!0==c&&(0==d.height||0==d.width))c=!1;if(!0==c&&(2>parseInt(d.height)||2>parseInt(d.width)))c=!1;if(!0==c&&(0>parseInt(d.left)&&"auto"!=d.left||0>parseInt(d.top)&&"auto"!=d.top))c=!1;!0==c&&("-1px"==d.marginTop&&1==b.offsetHeight)&&(c=!1);if(!0==c&&(3>b.offsetHeight||
3>b.offsetWidth))c=!1;if(!0==c&&("transparent"==d.backgroundColor&&"transparent"==d.color||g_isie&&"transparent"==d.backgroundColor&&""==d.color||"rgba(0, 0, 0, 0)"==d.backgroundColor&&"rgba(0, 0, 0, 0)"==d.color))c=!1;!0==c&&(d.opacity&&0.02>parseFloat(d.opacity))&&(c=!1);if(!0==c&&g_isie&&d.filter){var e=/alpha\(opacity=(\d+)\)/.exec(d.filter);e&&(e[1]&&2>parseInt(e[1]))&&(c=!1)}}}catch(f){c=!0}if(c)try{var g=b.parentNode;g||(c=!1);var h=LP_get_live_style(g);if(h){if(!0==c&&("none"==h.display||
"hidden"==h.visibility))c=!1;if(!0==c&&(0>parseInt(h.left)&&"auto"!=h.left||0>parseInt(h.top)&&"auto"!=h.top))c=!1;if(!0==c&&(3>parseInt(h.height)&&"auto"!=h.height||3>parseInt(h.width)&&"auto"!=h.width)&&("hidden"==h.overflowY||"hidden"==h.overflow))c=!1}}catch(j){c=!0}return c}function LP_get_text_dir(a){var b=!0;if(a){var c=LP_get_live_style(a);c&&"rtl"==c.direction?b=!1:"rtl"==a.getAttribute("dir")&&(b=!1)}return b}
function is_random_hashstr(a){return!a?!1:(16==a.length||32==a.length)&&a.match(/^[a-zA-Z0-9]+$/)&&a!=a.toLowerCase()&&a.match(/[0-9]/)&&a!=a.toUpperCase()||32==a.length&&a.match(/^[a-f0-9]+$/)||a.match(/_\d{18}[A-Z]{4}_/)||17==a.length&&"a"==a.charAt(0)&&a.match(/^[a-zA-Z0-9_]+$/)&&a!=a.toLowerCase()&&a.match(/[0-9]/)&&a!=a.toUpperCase()?!0:!1};
