function lp_deepCopy(a){var b=a;if(a&&"object"===typeof a){var b="[object Array]"===Object.prototype.toString.call(a)?[]:{},c;for(c in a)b[c]=lp_deepCopy(a[c])}return b}
var g_punycodecache=[],punycode=new function(){function a(a,b,j){a=j?Math.floor(a/d):a>>1;a+=Math.floor(a/b);for(b=0;a>(c-e)*f>>1;b+=c)a=Math.floor(a/(c-e));return Math.floor(b+(c-e+1)*a/(a+g))}function b(a,b){a-=(26>a-97)<<5;return a+((!b&&26>a-65)<<5)}this.utf16={decode:function(a){for(var b=[],c=0,d=a.length,e,f;c<d;){e=a.charCodeAt(c++);if(55296===(e&63488)){f=a.charCodeAt(c++);if(55296!==(e&64512)||56320!==(f&64512))throw new RangeError("UTF-16(decode): Illegal UTF-16 sequence");e=((e&1023)<<
10)+(f&1023)+65536}b.push(e)}return b},encode:function(a){for(var b=[],c=0,d=a.length,e;c<d;){e=a[c++];if(55296===(e&63488))throw new RangeError("UTF-16(encode): Illegal UTF-16 value");65535<e&&(e-=65536,b.push(String.fromCharCode(e>>>10&1023|55296)),e=56320|e&1023);b.push(String.fromCharCode(e))}return b.join("")}};var c=36,d=700,e=1,f=26,g=38;this.decode=function(b,d){var j=[],g=[],r=b.length,q,n,s,v,w,u,C,F,A;q=128;s=0;v=72;w=b.lastIndexOf("-");0>w&&(w=0);for(u=0;u<w;++u){d&&(g[j.length]=26>b.charCodeAt(u)-
65);if(128<=b.charCodeAt(u))throw new RangeError("Illegal input >= 0x80");j.push(b.charCodeAt(u))}for(w=0<w?w+1:0;w<r;){u=s;n=1;for(C=c;;C+=c){if(w>=r)throw RangeError("punycode_bad_input(1)");F=b.charCodeAt(w++);F=10>F-48?F-22:26>F-65?F-65:26>F-97?F-97:c;if(F>=c)throw RangeError("punycode_bad_input(2)");if(F>Math.floor((2147483647-s)/n))throw RangeError("punycode_overflow(1)");s+=F*n;A=C<=v?e:C>=v+f?f:C-v;if(F<A)break;if(n>Math.floor(2147483647/(c-A)))throw RangeError("punycode_overflow(2)");n*=
c-A}n=j.length+1;v=a(s-u,n,0===u);if(Math.floor(s/n)>2147483647-q)throw RangeError("punycode_overflow(3)");q+=Math.floor(s/n);s%=n;d&&g.splice(s,0,26>b.charCodeAt(w-1)-65);j.splice(s,0,q);s++}if(d){s=0;for(r=j.length;s<r;s++)g[s]&&(j[s]=String.fromCharCode(j[s]).toUpperCase().charCodeAt(0))}return this.utf16.encode(j)};this.encode=function(d,g){var j,p,r,q,n,s,v,w,u,C;g&&(C=this.utf16.decode(d));d=this.utf16.decode(d.toLowerCase());var F=d.length;if(g)for(s=0;s<F;s++)C[s]=d[s]!=C[s];var A=[];j=128;
p=0;n=72;for(s=0;s<F;++s)128>d[s]&&A.push(String.fromCharCode(C?b(d[s],C[s]):d[s]));r=q=A.length;for(0<q&&A.push("-");r<F;){v=2147483647;for(s=0;s<F;++s)w=d[s],w>=j&&w<v&&(v=w);if(v-j>Math.floor((2147483647-p)/(r+1)))throw RangeError("punycode_overflow (1)");p+=(v-j)*(r+1);j=v;for(s=0;s<F;++s){w=d[s];if(w<j&&2147483647<++p)return Error("punycode_overflow(2)");if(w==j){v=p;for(w=c;;w+=c){u=w<=n?e:w>=n+f?f:w-n;if(v<u)break;A.push(String.fromCharCode(u+(v-u)%(c-u)+22+75*(26>u+(v-u)%(c-u))-0));v=Math.floor((v-
u)/(c-u))}A.push(String.fromCharCode(v+22+75*(26>v)-((0!=(g&&C[s]?1:0))<<5)));n=a(p,r+1,r==q);p=0;++r}}++p;++j}return A.join("")};this.get_host=function(a){var b=a.indexOf("://");-1!=b&&(a=a.substring(b+3));b=a.indexOf("/");-1!=b&&(a=a.substring(0,b));b=a.indexOf("?");-1!=b&&(a=a.substring(0,b));b=a.indexOf("@");-1!=b&&(a=a.substring(b+1));b=a.indexOf(":");-1!=b&&(a=a.substring(0,b));-1!=a.indexOf(".",a.length-1)&&(a=a.substring(0,a.length-1));return a};this.URLToASCII=function(a){if("string"!=typeof a)return a;
"undefined"==typeof g_punycodecache&&(g_punycodecache=[]);if("undefined"!=typeof g_punycodecache[a])return g_punycodecache[a];var b=this.get_host(a),c=this.ToASCII(b);if(c==b)return g_punycodecache[a]=d,a;var d=a.replace(b,c);return g_punycodecache[a]=d};this.ToASCII=function(a){a=a.split(".");for(var b=[],c=0;c<a.length;++c){var d=a[c];b.push(d.match(/[^A-Za-z0-9-]/)?"xn--"+punycode.encode(d):d)}return b.join(".")};this.URLToUnicode=function(a){if("string"!=typeof a)return a;var b=this.get_host(a),
c=this.ToUnicode(b);return c==b?a:a.replace(b,c)};this.ToUnicode=function(a){a=a.split(".");for(var b=[],c=0;c<a.length;++c){var d=a[c];b.push(d.match(/^xn--/)?punycode.decode(d.slice(4)):d)}return b.join(".")}},ischrome=!0,g_tsstart=(new Date).getTime(),g_bg=null,g_getdata_page="",g_getdata_handler=null,g_user_prefs_to_write=[],g_global_prefs_to_write=[],g_delete_group_callback=null,g_delete_aid_callback=null,g_security_prompt_handler=null,g_language=null,g_included_language=!1,g_language_data="",
g_attachname="",g_attachbytes="",DEFAULT_KEY_ITERATIONS=5E3,g_langs={"":"Default",af_ZA:"Afrikaans",ar:"Arabic",ar_EG:"Arabic (Egypt)",az_AZ:"Azerbaijani",bs_BA:"Bosnian",bg:"Bulgarian",ca:"Catalan",zh_CN:"Chinese (Simplified)",zh_TW:"Chinese (Traditional)",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en_US:"English",en_GB:"English (United Kingdom)",eo_US:"Esperanto",et:"Estonian",fi:"Finnish",fr:"French",fr_CA:"French (Canada)",gl_ES:"Galician",ka_GE:"Georgian",de:"German",el:"Greek",he:"Hebrew",
hu:"Hungarian",is_ID:"Icelandic",id:"Indonesian",it:"Italian",ja:"Japanese",ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk_MK:"Macedonian",mg_MG:"Malagasy",ms:"Malay",nb:"Norwegian",nn_NO:"Norwegian Nynorsk",fa:"Persian",pl:"Polish",pt_PT:"Portuguese",pt_BR:"Portuguese (Brazilian)",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",es_419:"Spanish (Mexico)",sv:"Swedish",tl_PH:"Tagalog",ta:"Tamil",th:"Thai",tr:"Turkish",uk:"Ukrainian",ur_PK:"Urdu",vi:"Vietnamese"},g_webkit_selectable=
g_isopera?"":"-webkit-user-select:none;",g_opera_selectable=g_isopera?'unselectable="on"':"";function convert_camel(a){return 5==a.length?a.substring(0,3)+a.substring(3,5).toUpperCase():a}
function include_language(a,b){try{if(!g_included_language){g_included_language=!0;"undefined"!=typeof window.top.lptranslations&&(lptranslations=window.top.lptranslations);if(""==a){a=navigator.language;a=a.replace("-","_");"es_MX"==a&&(a="es_419");a=convert_camel(a);"undefined"==typeof g_langs[a]&&(a=a.substring(0,2));if("undefined"==typeof g_langs[a])for(var c in g_langs)if(c.substring(0,2)==a){a=c;break}"undefined"==typeof g_langs[a]&&(a="en_US")}var d=[];"en_US"!=a&&d.push("en_US");d.push(a);
for(c=0;c<d.length;c++)try{if(a=d[c],"Scheme"!=a){var e=new XMLHttpRequest;a=a.replace("-","_");var f=getchromeurl("_locales/"+a+"/messages.js",!0);e.open("GET",f,!1);e.send(null);"en_US"==a?lptranslations=JSON.parse(e.responseText):lptranslationsother=JSON.parse(e.responseText);if(lptranslationsother)for(var g in lptranslationsother)"string"==typeof g&&(lptranslations[g.toLowerCase()]=lptranslationsother[g])}}catch(k){}b||(g_language_data="lptranslations="+JSON.stringify(lptranslations))}}catch(m){}}
var matches=document.location.href.match(/[?&]lplanguage=([^&]*)/);matches&&(g_language=matches[1],include_language(g_language));var lpgslocales=[],lpgscache=[];
function gs(a,b){var c=a.replace(/[^a-zA-Z0-9_]/g,"_"),d="";"undefined"!=typeof b&&b&&"undefined"!=typeof translations&&"undefined"!=typeof translations[b]&&"undefined"!=typeof translations[b][a]?d=translations[b][a]:"undefined"!=typeof chrome&&"undefined"!=typeof chrome.i18n&&"function"==typeof chrome.i18n.getMessage?d=chrome.i18n.getMessage(c):"undefined"!=typeof lptranslations&&("undefined"!=typeof lptranslations[c.toLowerCase()]&&"undefined"!=typeof lptranslations[c.toLowerCase()].message?d=lptranslations[c.toLowerCase()].message:
"undefined"!=typeof lptranslations[c]&&"undefined"!=typeof lptranslations[c].message&&(d=lptranslations[c].message));if("undefined"==typeof d||null==d)d="";""==d&&(d=a);g_issafari?(d=d.replace(/Google Chrome/g,"Safari"),d=d.replace(/Chrome/g,"Safari")):g_isopera||is_opera_chromium()?(d=d.replace(/Google Chrome/g,"Opera"),d=d.replace(/Chrome/g,"Opera")):g_ismaxthon?(d=d.replace(/Google Chrome/g,"Maxthon"),d=d.replace(/Chrome/g,"Maxthon")):"string"==typeof g_browseroverride&&g_browseroverride.length&&
(d=d.replace(/Google Chrome/g,g_browseroverride),d=d.replace(/Chrome/g,g_browseroverride));return d}function upperFirstChar(a){return a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()}function CheckStringForObfuscation(a,b,c){if(0!=a.indexOf("ff_")||null==c||"undefined"==typeof c||0!=c.indexOf("__"))return lpgscache[b]=c;c=c.substr(2);a="";for(var d=0;8>d;d++)a+="arti";c=lpdec(c,a);return lpgscache[b]=c}
function ApplyOverrides(a){origlocale=a;a=""==a?"en-US":a;var b="undefined"==typeof g_ff?"":g_ff;if(null!=b&&""!=b){for(var b=b.split("\n"),c=!1,d=0;d<b.length;d++){if(c&&0==b[d].indexOf("lang="))return;if(!c&&b[d]=="lang="+a)c=!0;else if(c){var e=b[d].indexOf("=");if(-1!=e){var f=b[d].substr(0,e),e=b[d].substr(e+1);CheckStringForObfuscation(f,origlocale+f,e)}}}lpgslocales[origlocale]=1}}function ApplyAllOverrides(){lpgscache=[];lpgslocales=[]}
function sr(a,b,c,d){(a=a.getElementById(b))&&a.setAttribute(c,gs(d))}function L(a){console_log((new Date).getTime()-g_tsstart+" : "+a)}function probe(a,b){var c=a;for(i in b){var d=typeof b[i];if("string"==d||"number"==d)d=b[i];c+="\n"+i+" : "+d}L(c)}function is_safari(){return g_issafari||"undefined"!=typeof safari&&"undefined"!=typeof safari.extension?!0:!1}function is_opera(){return g_isopera||"undefined"!=typeof opera&&"undefined"!=typeof opera.extension?!0:!1}
function is_maxthon(){return g_ismaxthon||"undefined"!=typeof window&&"undefined"!=typeof window.external&&"undefined"!=typeof window.external.mxGetRuntime?!0:!1}
function getchromeurl(a,b){if(g_ischrome)return"undefined"!=typeof chrome.runtime&&"undefined"!=typeof chrome.runtime.getURL?chrome.runtime.getURL(a):chrome.extension.getURL(a);if(is_safari()||is_opera()||is_maxthon()){var c="";"undefined"!=typeof g_language&&g_language?c=g_language:"function"==typeof lpGetPref&&(c=lpGetPref("language",""));b||(a+=(-1!=a.indexOf("?")?"&":"?")+"lplanguage="+encodeURIComponent(c));if(is_safari())return safari.extension.baseURI+a;if(is_opera())(c=document.location.href.match(/^widget:\/\/wuid-[^\/]+\//))&&
(a=c[0]+a);else if(is_maxthon())return window.external.mxGetRuntime().getPrivateUrl()+a}return a}function testSetParseJson(a,b,c,d){return"undefined"!=typeof b.message[c]?(a[c]=d?b.message[c]:LPJSON.parse(a[c]),!0):!1}function callIfFunction(a){"function"==typeof a&&a()}
function getdata_message_handler(a){var b=getBG();g_isopera?(a.message=a.data,a.name=a.data.messagetype):g_ismaxthon&&(a.message=JSON.parse(JSON.stringify(a)),a.name=a.messagetype);switch(a.name){case "gotdata":for(var c in a.message)b[c]=a.message[c];"undefined"!=typeof b.sitepwlen&&("undefined"==typeof LP&&(LP=this),LP.sitepwlen=b.sitepwlen);lp_iscbc=a.message.lp_iscbc;g_userprefs=b.g_userprefs=LPJSON.parse(b.g_userprefsstr);g_glblprefs=b.g_gblprefs=LPJSON.parse(b.g_gblprefsstr);g_prompts=b.g_prompts=
LPJSON.parse(b.g_promptsstr);switch(g_getdata_page){case "login":b.g_reprompt_callback&&(b.g_reprompt_callback=function(){dispatch_message("reprompt_callback",{g_user_prefs_to_write:LPJSON.stringify(g_user_prefs_to_write)})});b.g_reprompt_error_callback&&(b.g_reprompt_error_callback=function(){dispatch_message("reprompt_error_callback",{})});break;case "omnikey":b.g_omnikey_callback&&(b.g_omnikey_callback=function(a){dispatch_message("omnikey_callback",{pin:a,g_user_prefs_to_write:LPJSON.stringify(g_user_prefs_to_write)})});
break;case "vault":testSetParseJson(b,a,"g_pendings");break;case "formfill":b.g_formfill_data=LPJSON.parse(b.g_formfill_data);break;case "site":b.g_site_data=fix_fields(LPJSON.parse(b.g_site_data));break;case "img":b.g_img_data=fix_fields(LPJSON.parse(b.g_img_data))}testSetParseJson(b,a,"g_icons")&&(g_icons=b.g_icons);testSetParseJson(b,a,"g_sites")&&!testSetParseJson(b,a,"g_sites_tld")&&(b.g_sites_tld=b.g_sites);testSetParseJson(b,a,"g_shares");testSetParseJson(b,a,"g_savesitestopersonal");testSetParseJson(b,
a,"g_securenotes");testSetParseJson(b,a,"g_applications");testSetParseJson(b,a,"g_formfills");testSetParseJson(b,a,"g_identities");testSetParseJson(b,a,"g_nevers");testSetParseJson(b,a,"g_prefoverrides");testSetParseJson(b,a,"g_flags");testSetParseJson(b,a,"g_can_allow_reprompt_skip",!0);testSetParseJson(b,a,"g_create_account_data");"undefined"!=typeof b.g_local_key&&null!=b.g_local_key&&(g_local_key=b.g_local_key,g_local_key_hex=AES.bin2hex(g_local_key),g_local_key_hash=SHA256(g_local_key));"undefined"!=
typeof b.ischrome&&(ischrome=b.ischrome);g_getdata_handler();break;case "delete_group_callback":callIfFunction(g_delete_group_callback);break;case "delete_aid_callback":callIfFunction(g_delete_aid_callback);break;case "security_prompt_callback":callIfFunction(g_security_prompt_handler);break;case "generatepasswordfound":callIfFunction(g_checkgeneratepasswordcallback);break;case "unprotect_data_callback":for(c in passwords)if(passwords[c]==a.message.protected_data){passwords[c]=a.message.unprotected_data;
break}document.getElementById("p").value==a.message.protected_data&&(document.getElementById("p").value=a.message.unprotected_data);break;case "change_master_password_callback":g_change_master_password_callback(a.message.newdata);break;case "make_lp_key_hash_iterations_callback":g_make_lp_key_hash_iterations_callback(a.message.lpkey,a.message.lphash);break;case "website_event_callback":website_event_callback(LPJSON.parse(a.message.data));break;case "fast_decryptatt_callback":c=a.message.id;if(document.getElementById(c)&&
(c=document.getElementById(c).getElementsByTagName("img"))&&0<c.length)c=c[0],c.setAttribute("src",a.message.mimetype+";base64,"+a.message.result),b.have_binary()?c.addEventListener("click",function(){attachment_action_menu(this,showattach)}):c.addEventListener("click",function(){showattach(this)});break;case "fast_encryptatt_callback":g_encatt=LPJSON.parse(a.message.data);dosave(null,!0);break;case "get_saved_logins_callback":get_saved_logins_callback(a.message.rows)}}
g_pageid="lppage"+(new Date).getTime()+"_"+Math.floor(100*Math.random());
function get_data(a,b){if(g_ischrome)b();else if(g_issafari)safari.self.addEventListener("message",getdata_message_handler,!1),g_getdata_page=a,g_getdata_handler=b,dispatch_message("getdata",{page:a});else if(g_isopera)opera.extension.onmessage=getdata_message_handler,g_getdata_page=a,g_getdata_handler=b,dispatch_message("getdata",{page:a});else if(g_ismaxthon){try{window.external.mxGetRuntime().listen(g_pageid,getdata_message_handler)}catch(c){console.error(c.message);alert(gs("This page failed to load properly.  Please ensure you are running the latest version of Maxthon (LastPass requires at least Maxthon 4.0.3.3000).  Otherwise, this may have happened to due a bug in Maxthon.  Please try opening this page again."));
return}g_getdata_page=a;g_getdata_handler=b;dispatch_message("getdata",{page:a})}}LPobj=this;
function fakebg(){this.lpdbg=function(a,b){dispatch_message("lpdbg",{type:a,string:b})};this.set_share_folder_id=function(a){dispatch_message("set_share_folder_id",{id:a})};this.set_share_folder_group=function(a){dispatch_message("set_share_folder_group",{group:a})};this.open_native_messaging_html_if=function(){};this.geticonFF=function(a){return geticonFF(a)};this.get_sitepwlen=function(a){return get_sitepwlen(a)};this.get_saved_logins=function(a){g_ismaxthon?(get_saved_logins_callback=a,dispatch_message("get_saved_logins",
{})):get_saved_logins(a)};this.delete_saved_login=function(a){g_ismaxthon?dispatch_message("delete_saved_login",{username:a}):delete_saved_login(a)};this.getchromeurl=function(a,b){return getchromeurl(a,b)};this.processCS=function(a,b){dispatch_message("processCS",{data:LPJSON.stringify(b)})};this.get_key_iterations=function(){return this.g_key_iterations};this.lpGetPref=function(a,b){return"undefined"!=typeof lpGetPref?lpGetPref(a,b):"undefined"!=typeof g_userprefs[a]?g_userprefs[a]:"undefined"!=
typeof g_gblprefs[a]?g_gblprefs[a]:b};this.lpPutUserPref=function(a,b){g_user_prefs_to_write[a]=b};this.lpPutGblPref=function(a,b){g_global_prefs_to_write[a]=b};this.lpWriteAllPrefs=function(){};this.LP_do_login=function(a,b,c,d,e,f,g,k){dispatch_message("LP_do_login",{u:a,p:b,rememberemail:c,rememberpassword:d,donotclearmultifactor:e,showvault:f,lpkey:g,lphash:k,manual_login:"undefined"!=typeof this.g_manual_login&&this.g_manual_login})};this.openURL=function(a,b,c){a={url:a};c&&(a.g_site_data=LPJSON.stringify(c));
dispatch_message("openURL",a)};this.install_binary=function(){dispatch_message("install_binary",{})};this.unlock_plug2web=function(){dispatch_message("unlock_plug2web",{})};this.set_last_reprompt_time=function(){};this.have_binary=function(){return this.have_nplastpass()||this.have_native_messaging()};this.have_nplastpass=function(){return"undefined"!=typeof this.g_have_nplastpass&&this.g_have_nplastpass};this.get_nplastpass_version=function(){return"undefined"!=typeof this.g_nplastpass_version?this.g_nplastpass_version:
gs("Unknown")};this.get_nplastpass_build_date_time=function(){return"undefined"!=typeof this.g_nplastpass_build_date_time?this.g_nplastpass_build_date_time:gs("Unknown")};this.have_native_messaging=function(){return"undefined"!=typeof this.g_have_native_messaging&&this.g_have_native_messaging};this.have_pplastpass=function(){return"undefined"!=typeof this.g_have_pplastpass&&this.g_have_pplastpass};this.can_copy_to_clipboard=function(){return"undefined"!=typeof this.g_can_copy_to_clipboard&&this.g_can_copy_to_clipboard};
this.can_clear_clipboard=function(){return"undefined"!=typeof this.g_can_clear_clipboard&&this.g_can_clear_clipboard};this.copytoclipboard=function(a){dispatch_message("copytoclipboard",{g_data:a})};this.is_chrome_portable=function(){return!1};this.update_prefs=function(a){var b={page:a,g_user_prefs_to_write:LPJSON.stringify(g_user_prefs_to_write),g_global_prefs_to_write:LPJSON.stringify(g_global_prefs_to_write)};"generate"==a&&(b.g_genpws=this.g_genpws);dispatch_message("update_prefs",b)};this.update_prompts=
function(){var a={g_prompts:LPJSON.stringify(g_prompts)};dispatch_message("update_prompts",a)};this.check_ident_aid=function(){return!0};this.check_ident_appaid=function(){return!0};this.check_ident_ffid=function(){return!0};this.DeleteOTP=function(){};this.deletesavedpw=function(){};this.start_idle_checker=function(){};this.setprefs=function(){};this.get_searchNotesPref=function(){return this.searchinnotes};this.get_securityChallengeScore=function(a){a(this.securityChallengeScore)};this.IsIconsUpdated=
function(a){return this.lpclearrecent?(this.lpclearrecent=!1,!0):this.g_icons_length!=a};this.getClearRecentTime=function(){return this.clearRecentTime};this.getRecentCount=function(){return this.recentCount};this.hex2bin=function(a){return AES.hex2bin(a)};this.bin2hex=function(a){return AES.bin2hex(a)};this.lp_sort_case_insensitive_name=function(a,b){a=a.name.toLowerCase();b=b.name.toLowerCase();return a<b?-1:1};this.geticonhtml=function(a,b){return geticonhtml(a,b)};this.geticonhtmlfromrecord=function(a){return geticonhtmlfromrecord(a)};
this.geticonurl=function(a,b){return geticonurl(a,b)};this.geticonurlfromrecord=function(a){return geticonurlfromrecord(a)};this.db_prepend=function(a){return a};this.dec=function(a,b,c){return dec(a,b,c)};this.enc=function(a,b){return enc(a,b)};this.lpmdec=function(a,b,c){var d=null;c&&(d=AES.bin2hex(c));return lpmdec(a,b,c,d)};this.lpmdec_acct=lpmdec_acct;this.lpmenc_acct=lpmenc_acct;this.lpdec_acct=lpdec_acct;this.lpenc_acct=lpenc_acct;this.lpmenc=function(a,b,c){return lpmenc(a,b,c)};this.lpenc=
function(a,b){return lpenc(a,b)};this.lpdec=function(a,b){return lpdec(a,b)};this.openall=function(a){dispatch_message("openall",{group:a})};this.deleteGroup=function(a,b,c){if(!g_isopera||confirm(gs("Are you sure you would like to delete?")))g_delete_group_callback=c,dispatch_message("deleteGroup",{group:a})};this.copyusername=function(a){dispatch_message("copyusername",{aid:a})};this.copypassword=function(a){dispatch_message("copypassword",{aid:a})};this.copyurl=function(a){dispatch_message("copyurl",
{aid:a})};this.copynote=function(a){dispatch_message("copynote",{aid:a})};this.deleteAid=function(a,b,c,d,e){if(!g_isopera||confirm(gs("Are you sure you would like to delete?")))g_delete_aid_callback=e,dispatch_message("deleteAid",{aid:a})};this.editAid=function(a){dispatch_message("editAid",{aid:a})};this.gotourl=function(a){dispatch_message("gotourl",{aid:a})};this.launch=function(a){dispatch_message("launch",{aid:a})};this.open_login=function(a){dispatch_message("open_login",{forcetab:a})};this.addprofile=
function(){dispatch_message("addprofile",{})};this.update_create_account_data=function(){dispatch_message("update_create_account_data",{create_account_data:LPJSON.stringify(getBG().g_create_account_data)})};this.lpMakeRequest=function(a,b,c,d,e,f){LP=LPobj;lpMakeRequest(a,b,c,d,e,f)};this.addcreditcard=function(){dispatch_message("addcreditcard",{})};this.editprofile=function(a){dispatch_message("editprofile",{ffid:a})};this.deleteformfill=function(a){dispatch_message("deleteformfill",{ffid:a})};
this.openprefs=function(a){dispatch_message("openprefs",{tab:a})};this.openbaseurl=function(a){dispatch_message("openbaseurl",{suffix:a})};this.changemasterpassword=function(){dispatch_message("changemasterpassword",{})};this.openaddsecurenote=function(){dispatch_message("openaddsecurenote",{})};this.loggedOut=function(a,b){dispatch_message("loggedOut",{skiprequest:a,from:b})};this.switch_identity=function(a){dispatch_message("switch_identity",{iid:a})};this.renameGroup=function(a,b){dispatch_message("renameGroup",
{origgrp:a,newgrp:b})};this.addEmptyGroup=function(a){dispatch_message("addEmptyGroup",{newgrp:a})};this.moveSelectedToGroup=function(a,b){dispatch_message("moveSelectedToGroup",{group:a,aids:b})};this.en=function(a){return encodeURIComponent(a)};this.update_state=function(a){g_getdata_page="vault";"vault"==a?g_getdata_handler=function(){checkLoggedInHome(!0)}:"search"==a&&(g_getdata_handler=function(){checkVersion(!0)});dispatch_message("getdata",{page:"vault",g_username:this.g_username,g_local_accts_version:this.g_local_accts_version,
lploggedin:this.lploggedin,g_identity:this.g_identity,g_isadmin:this.g_isadmin,g_enterpriseuser:this.g_enterpriseuser,g_iscompanyadmin:this.g_iscompanyadmin,g_token:this.g_token,g_premium_exp:this.g_premium_exp,g_showcredmon:this.g_showcredmon})};this.security_prompt=function(a){g_security_prompt_handler=a;dispatch_message("security_prompt",{})};this.savePassword=function(a,b,c,d){dispatch_message("savePassword",{pass:a,url:b,tabid:c,nofill:d})};this.checkgeneratepassword=function(a){dispatch_message("checkgeneratepassword",
{tabid:a})};this.fillform=function(a,b,c,d){dispatch_message("fillform",{ffid:a,origtabid:c,ccffid:d})};this.getsites=function(){return this.g_sites_tld};this.changePassword=function(a,b){dispatch_message("changePassword",{password:a,aids:b})};this.getusernamefromacct=function(a){return getusernamefromacct(a)};this.getpasswordfromacct=function(a){return getpasswordfromacct(a)};this.geturlfromacct=function(a){return geturlfromacct(a)};this.receiveTS=function(a,b){dispatch_message("receiveTS",b)};this.deleteformfill=
function(a){dispatch_message("deleteformfill",{ffid:a})};this.addeditformfill=function(a,b){dispatch_message("addeditformfill",{ffdata:LPJSON.stringify(a),site:LPJSON.stringify(b)})};this.getname_url=function(a){return getname_url(a)};this.createNewAcct=function(){return createNewAcct()};this.fix_tlds=function(a,b,c){dispatch_message("fix_tlds",{oldtld:a,newtld:b,aid:c})};this.moveIntoSharedFolder=function(a,b,c,d,e,f,g){var k=!0;e||(e=!1);f||(f=!1);g||(g=!1);f?k=checkMoveIntoSharedFolder(a,b,c,d,
e,f,g):dispatch_message("moveIntoSharedFolder",{shareinfo:LPJSON.stringify(a),shareinfoorig:LPJSON.stringify(b),aidsThatChangedGroups:LPJSON.stringify(c),aidsnewgrps:LPJSON.stringify(d),copy:e,onlycheck:f,skipcheck:g});return k};this.increment_local_accts_version=function(){dispatch_message("increment_local_accts_version",{})};this.rewritelocalfile=function(){dispatch_message("rewritelocalfile",{})};this.saveSite=function(a,b){dispatch_message("saveSite",{postdata:a,acct:LPJSON.stringify(b)})};this.showImageAttach=
function(a){dispatch_message("showImageAttach",{data:a})};this.openAttach=function(a,b,c){dispatch_message("openAttach",{id:a,attachid:b,filename:c})};this.exportAttachment=function(a,b,c){dispatch_message("exportAttachment",{id:a,attachid:b,filename:c})};this.addAttach=function(){get_data("attach",function(){addattachcb()})};this.openLinkedSites=function(a,b){dispatch_message("openLinkedSites",{password:a,tld:b})};this.saveAllSite=function(a,b){dispatch_message("saveAllSite",{postdata:a,acct:LPJSON.stringify(b)})};
this.saveSiteFromSubmit=function(a,b){dispatch_message("saveSiteFromSubmit",{postdata:a,acct:LPJSON.stringify(b)})};this.saveFields=function(a,b,c){dispatch_message("saveFields",{getdata:a,postdata:b,aData:LPJSON.stringify(c)})};this.update_site=function(a){(a=get_record(a))&&dispatch_message("update_site",{site:LPJSON.stringify(a)})};this.applyattacharraychanges=function(a){dispatch_message("applyattacharraychanges",{changes:LPJSON.stringify(a)})};this.update_fields=function(a,b){dispatch_message("update_fields",
{aid:a,fields:LPJSON.stringify(b)})};this.fastDecryptAttachment=function(a,b,c,d,e){dispatch_message("fastDecryptAttachment",{id:a,mimetype:b,data:c,attachkey:d,key:e})};this.fastEncryptAttachments=function(a,b){dispatch_message("fastEncryptAttachments",{akey:a,attachments:LPJSON.stringify(b)})};this.set_editfieldsopener=function(){dispatch_message("set_editfieldsopener",{})};this.close_editfieldsopener=function(){dispatch_message("close_editfieldsopener",{})};this.unprotect_data=function(a,b,c){dispatch_message("unprotect_data",
{data:a,windowsonly:b});c&&c(a);return a};this.select_selectedtabid=function(){dispatch_message("select_selectedtabid",{})};this.closecurrenttab=function(a){g_isopera?(window.close(),setTimeout(function(){dispatch_message("closecurrenttab",{page:a})},100)):dispatch_message("closecurrenttab",{page:a})};this.addDomainToMPWNever=function(){dispatch_message("addDomainToMPWNever",{})};this.MPWNoNag=function(){dispatch_message("MPWNoNag",{})};this.add_identity=function(){dispatch_message("add_identity",
{})};this.checkforupdates=function(){dispatch_message("checkforupdates",{})};this.clearforms=function(){dispatch_message("clearforms",{})};this.clearrecent=function(){dispatch_message("clearrecent",{})};this.openabout=function(){dispatch_message("openabout",{})};this.openaddsite=function(){dispatch_message("openaddsite",{})};this.openchooseprofilecc=function(){dispatch_message("openchooseprofilecc",{})};this.doexport=function(){dispatch_message("openexport",{})};this.openexport=function(){dispatch_message("openexport",
{})};this.openfavorites=function(){dispatch_message("openfavorites",{})};this.openfeedback=function(){dispatch_message("openfeedback",{})};this.opengenpw=function(){dispatch_message("opengenpw",{})};this.openhelp=function(){dispatch_message("openhelp",{})};this.openimport=function(){dispatch_message("openimport",{})};this.doimport=function(a,b){dispatch_message("doimport",{source:a,filename:b})};this.openimportchrome=function(){dispatch_message("openimportchrome",{})};this.openlastpassexport=function(){dispatch_message("openlastpassexport",
{})};this.wlanexport=function(){dispatch_message("wlanexport",{})};this.formfillexport=function(){dispatch_message("formfillexport",{})};this.openpremium=function(){dispatch_message("openpremium",{})};this.openentconsole=function(){dispatch_message("openentconsole",{})};this.opensearch=function(){dispatch_message("opensearch",{})};this.openseccheck=function(){dispatch_message("openseccheck",{})};this.opensessions=function(){dispatch_message("opensessions",{})};this.openvault=function(){dispatch_message("openvault",
{})};this.recheckpage=function(){dispatch_message("recheckpage",{})};this.refreshsites=function(){dispatch_message("refreshsites",{})};this.saveall=function(){dispatch_message("saveall",{})};this.upgradetoserver=function(){dispatch_message("upgradetoserver",{})};this.clearCache=function(a){dispatch_message("clearCache",{noprompt:a})};this.loglogin=function(a){dispatch_message("loglogin",{aid:a})};this.deleteNever=function(a){dispatch_message("deleteNever",{n:LPJSON.stringify(a)})};this.fillaid=function(a){dispatch_message("fillaid",
{aid:a})};this.openprint=function(a){dispatch_message("openprint",{notes:a})};this.getmatchingsites=function(){var a=this.g_sites_tld,b,c,d=[];for(b in a)c=a[b].aid,"undefined"!=typeof this.g_sites[c]&&(c=this.g_sites[c],d.push({aid:c.aid,name:c.name,username:getusernamefromacct(c),fiid:c.fiid}));return d};this.getnevers=function(){return this.g_nevers};this.getmenuheight=function(){return g_menuheight};this.isadmin=function(){return"undefined"!=typeof this.g_isadmin?this.g_isadmin:!1};this.getbaseurl=
function(){return"undefined"!=typeof this.base_url?this.base_url:"https://lastpass.com/"};this.change_master_password=function(a,b,c,d){g_change_master_password_callback=d;dispatch_message("change_master_password",{newusername:a,newpassword:b,toserver:c})};this.lpvt_store_data_and_setsinglefactortype=function(a){dispatch_message("lpvt_store_data_and_setsinglefactortype",{data:a})};this.delete_file=function(a){dispatch_message("delete_file",{f:a})};this.lpevent=function(a){dispatch_message("lpevent",
{w:a})};this.make_lp_key_hash_iterations=function(a,b,c,d){g_make_lp_key_hash_iterations_callback=d;dispatch_message("make_lp_key_hash_iterations",{u:a,p:b,key_iter:c})};this.gethelpurl=function(){return this.getbaseurl()+"help.php?fromwebsite=1"};this.can_allow_reprompt_skip=function(){return"undefined"!=typeof this.g_can_allow_reprompt_skip?this.g_can_allow_reprompt_skip:!0};this.dopwchange=function(a){dispatch_message("dopwchange",{aid:a})}}
function getBG(){if(null!=g_bg)return g_bg;try{if(g_ischrome){if("function"==typeof chrome.extension.getBackgroundPage&&(g_bg=chrome.extension.getBackgroundPage(),null!=g_bg))return g_bg;var a=chrome.extension.getViews(),b;for(b in a)if("function"==typeof a[b].receiveTS)return g_bg=a[b]}else if(g_issafari||g_isopera||g_ismaxthon){if(g_issafari){if("undefined"!=typeof safari.extension.globalPage)return g_bg=safari.extension.globalPage.contentWindow}else if(g_isopera&&"undefined"!=typeof g_opera_button)return this;
return g_bg=new fakebg}L("TS : getBG FAILED")}catch(c){L("TS : getBG FAILED error="+c)}return null}function array_length(a){var b=0,c;for(c in a)b++;return b}function array_contains(a,b){for(var c in b)if(b[c]==a)return!0;return!1}Clipboard={utilities:{}};Clipboard.utilities.createTextArea=function(a){var b=document.createElement("textarea");b.style.position="absolute";b.style.left="-100%";null!=a&&(b.value=a);document.body.appendChild(b);return b};
Clipboard.copy=function(a){null!=a&&(""==a&&(a=" "),a=Clipboard.utilities.createTextArea(a),a.select(),document.execCommand("Copy"),document.body.removeChild(a))};Clipboard.paste=function(){var a=Clipboard.utilities.createTextArea();a.focus();document.execCommand("Paste");var b=a.value;document.body.removeChild(a);return b};function geticonhtml(a,b){return"<image src='"+geticonurl(a,b)+"'/>"}
function geticonhtmlfromrecord(a){return is_application(a)?geticonhtml("a"+a.fiid):geticonhtml("undefined"!=typeof a.fiid&&""!=a.fiid?a.fiid:a.aid,"http://sn"==a.url)}function getNoteValue(a,b,c){a+=":";if(!b)return null;b="\n"+b;var d=b.indexOf("\n"+a);if("NoteType:"==a){if(0!=d)return null}else if(-1==d)return null;d++;c=c?"-1":b.indexOf("\n",d);-1==c&&(c=b.length);return b.substring(d+a.length,c).replace(/^\s*/,"").replace(/\s*$/,"")}
function geticonurlfromrecord(a){return is_application(a)?geticonurl("a"+a.fiid):geticonurl("undefined"!=typeof a.fiid&&""!=a.fiid?a.fiid:a.aid,"http://sn"==a.url)}
function geticonurl(a,b){var c="data:image/gif;base64,R0lGODlhEAAQAIcAAAAAAExnf1BpgWR0iHZ6hHeBkX+GkYiOmpeaopucoaSlqqWmqrm9w7q+xL+/wry/xcXGyc3Oz9HS1NPU1tnZ2d/h4+Di5OLj5uPl5+Tk5OXm6O7u7+7v8O/w8e/w8vDw8fHx8vLy8/Pz8/Pz9PT09fX19fX29vb29vf39/f3+Pj4+Pj4+fn5+vr6+/v7/Pz8/P39/f7+/v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAAALAAAAAAQABAAAAiQAAEIHEiw4MAFCBEmQCjBIIAFMiLK8CBjA4QIBiFu2Fgh4oYJDgpq5Chxw4KCCiqSlKigIAKVGyowYNDgAYGCB2BWsHABgwYDBQvA/CCiBAoVBQoOUNlBhAkVLV4MKCigIgenK1zAiCGgYICKIEhAhRExgFcZHEKcYEG27NkOI1K0aCvDLMEAePPqteuwr8CAADs=";if("sn"==
a)return"data:image/gif;base64,R0lGODlhEAAQAPfBAFdCGCpgtyxity1kuS5kuS5luS9lujBlujBmujFmuzFnuzNpvIdhK4JmLjZvvzhxvzt2wTt2xKZoJjx4wT98xUB8xEKAxUKAxkWCxUWCxkeExkmFxEmIxkqIxkuIxWCFrUuJxUuJxkyJxr56Gk2LyE+Lx0+MyE+MyU+NyKqJQ8mFQWWU27yJTMKMSMeMSMWYSWWo0siZZLOfcNqYSduZS9CdRk+y99iaVFGy99mbUVW0+NOfZuChUdejY32y4tilWGG8+2K8/GK9/GO9+2C+/Ge9/GS+/GW++2i//W7C/duxhb+2ptW2etG3kNa5dprJ4+e+d+fAi8zGsMzGs+TJVcLLtpPU/8nNr5TV/+3KbefLd5XW//nHlPnJke3QeM3S2tDUvrjW9O7TebrW9fDTecjV4u7UffHUe9XWve7Vgc3W4fLWeu/SrPDStMHb+PbTrvXcXvXcX8Lc+MTd+fXfW/bdbPffY8Xf+ffhWsfg+sjg+ffiW8jg+8ng+/jiXcjh+8nh+8rh+sni+8vi+83j+83j/Onf0s7j+8/j/M/k/NDk+9Hk/PHjr9Xl/tPm/Nfm8tTm/NTm/fzgxPnjstPn/dXn/dbn/dbn/tfn/tbo/tfo/tjo/tzq9t7q9t7r9t/r9d/s9+Pt9+bw9+jx+Orx+Ory+uvy+Ozy9+zy+Ovz+uzz+e3z+O30+O30+e70+O/0+f/y4PD0+f32wv32xPH1+f/z5f33x/L2+vL3+/P3/PT3+/T4/PX5/Pf6/fj7/fj7//3+/v///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////yH5BAEKAP8ALAAAAAAQABAAAAj+AP/9I2GioAkUJ0qAiCCw4YZTrlitmojq1CMfKxr+83ArDyBBfO64CfOryg8lNQSKoFXoEKFBeuSMYQSlTS02Lv6FoIVIUaJCgeZcSTMpyhtJO3TGcgSJ0iJCYMzMqpOlRwyBHV5hslQpEhoxtuLsWcPjg0AOrTZt0iRFiy04eM7QMJRBoAZVmTRNcSLLjh8yM8qUuiAQg6lLS5g0oULHSw41gHBREGhhVKMUsG6MeNHiS58/vSAIrCBKRwMuXVRIgIHDhg1eDgROCJUEAAMWMp5swWLliC4FAh98QlLkiBEjQoYAIRLE1wCBC0iB8tSJE6dUqUrl2gUsQMMDCRAMiD9goEABAgQECAwIADs=";
if(null!=a)if("undefined"!=typeof g_icons[a+".gif"])c="data:image/gif;base64,"+g_icons[a+".gif"];else if("undefined"!=typeof g_icons[a+".ico"])c="data:image/ico;base64,"+g_icons[a+".ico"];else if(b||"undefined"!=typeof getBG().g_securenotes[a])c=geticonsntemplate(a),null==c&&(c="data:image/gif;base64,R0lGODlhEAAQAPfBAFdCGCpgtyxity1kuS5kuS5luS9lujBlujBmujFmuzFnuzNpvIdhK4JmLjZvvzhxvzt2wTt2xKZoJjx4wT98xUB8xEKAxUKAxkWCxUWCxkeExkmFxEmIxkqIxkuIxWCFrUuJxUuJxkyJxr56Gk2LyE+Lx0+MyE+MyU+NyKqJQ8mFQWWU27yJTMKMSMeMSMWYSWWo0siZZLOfcNqYSduZS9CdRk+y99iaVFGy99mbUVW0+NOfZuChUdejY32y4tilWGG8+2K8/GK9/GO9+2C+/Ge9/GS+/GW++2i//W7C/duxhb+2ptW2etG3kNa5dprJ4+e+d+fAi8zGsMzGs+TJVcLLtpPU/8nNr5TV/+3KbefLd5XW//nHlPnJke3QeM3S2tDUvrjW9O7TebrW9fDTecjV4u7UffHUe9XWve7Vgc3W4fLWeu/SrPDStMHb+PbTrvXcXvXcX8Lc+MTd+fXfW/bdbPffY8Xf+ffhWsfg+sjg+ffiW8jg+8ng+/jiXcjh+8nh+8rh+sni+8vi+83j+83j/Onf0s7j+8/j/M/k/NDk+9Hk/PHjr9Xl/tPm/Nfm8tTm/NTm/fzgxPnjstPn/dXn/dbn/dbn/tfn/tbo/tfo/tjo/tzq9t7q9t7r9t/r9d/s9+Pt9+bw9+jx+Orx+Ory+uvy+Ozy9+zy+Ovz+uzz+e3z+O30+O30+e70+O/0+f/y4PD0+f32wv32xPH1+f/z5f33x/L2+vL3+/P3/PT3+/T4/PX5/Pf6/fj7/fj7//3+/v///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////yH5BAEKAP8ALAAAAAAQABAAAAj+AP/9I2GioAkUJ0qAiCCw4YZTrlitmojq1CMfKxr+83ArDyBBfO64CfOryg8lNQSKoFXoEKFBeuSMYQSlTS02Lv6FoIVIUaJCgeZcSTMpyhtJO3TGcgSJ0iJCYMzMqpOlRwyBHV5hslQpEhoxtuLsWcPjg0AOrTZt0iRFiy04eM7QMJRBoAZVmTRNcSLLjh8yM8qUuiAQg6lLS5g0oULHSw41gHBREGhhVKMUsG6MeNHiS58/vSAIrCBKRwMuXVRIgIHDhg1eDgROCJUEAAMWMp5swWLliC4FAh98QlLkiBEjQoYAIRLE1wCBC0iB8tSJE6dUqUrl2gUsQMMDCRAMiD9goEABAgQECAwIADs=");
return c}function geticonsntemplate(a){var b=getBG();return"undefined"!=typeof b.g_securenotes[a]&&512>b.g_securenotes[a].extra.length&&(a=getNoteValue("NoteType",lpmdec_acct(b.g_securenotes[a].extra,!0,b.g_securenotes[a],b.g_shares)))&&"undefined"!=typeof sntemplateicons[a]?sntemplateicons[a]:null}function getcount(a){var b=0,c;for(c in a)b++;return b}
function getusernamefromacct(a){var b=getBG();if(is_application(a)){for(var c in a.fields){var d=a.fields[c];if(""==d.type&&""!=d.value)return b.lpmdec_acct(d.value,!0,a,b.g_shares)}return""}if(a.save_all)for(d in a.fields){if(("text"==a.fields[d].type||"email"==a.fields[d].type||"tel"==a.fields[d].type)&&""!=a.fields[d].value)return b.lpmdec_acct(a.fields[d].value,!0,a,b.g_shares)}else{if("undefined"!=typeof a.url&&"http://sn"==a.url){c=b.lpmdec_acct(a.extra,!0,a,b.g_shares);var e=getNoteValue("NoteType",
c);if("undefined"!=typeof sntemplates[e]&&"undefined"!=typeof sntemplates[e].Username)return getNoteValue("Username",c)}c="undefined"!=typeof a.unencryptedUsername?a.unencryptedUsername:"";if(""!=c)return c;if("object"==typeof a.fields)try{for(d=0;d<a.fields.length;d++)if("text"==a.fields[d].type||"email"==a.fields[d].type)return c=a.fields[d].value,b.lpmdec_acct(c,!0,a,b.g_shares)}catch(f){}}return""}
function getpasswordfromacct(a){if("undefined"===typeof a)return"";var b=getBG();if(is_application(a)){for(var c in a.fields){var d=a.fields[c];if("password"==d.type&&""!=d.value)return b.lpmdec_acct(d.value,!0,a,b.g_shares)}return""}if(a.save_all){for(d in a.fields)if("password"==a.fields[d].type&&""!=a.fields[d].value)return b.lpmdec_acct(a.fields[d].value,!0,a,b.g_shares);return""}if("undefined"!=typeof a.url&&"http://sn"==a.url){c=b.lpmdec_acct(a.extra,!0,a,b.g_shares);var e=getNoteValue("NoteType",
c);if("undefined"!=typeof sntemplates[e]&&"undefined"!=typeof sntemplates[e].Password)return getNoteValue("Password",c)}c="undefined"!=typeof a.password?a.password:"";if(""==c&&"object"==typeof a.fields)try{for(d=0;d<a.fields.length;d++)if("password"==a.fields[d].type){c=a.fields[d].value;break}}catch(f){}return b.lpmdec_acct(c,!0,a,b.g_shares)}function geturlfromacct(a){return is_application(a)||"undefined"==typeof a.url||"http://sn"==a.url?"":a.url}
function createNewAcct(){var a=[];a.aid="";a.name="";a.group="";a.url="";a.tld="";a.extra="";a.fav="0";a.sharedfromuid="";a.username="";a.unencryptedUsername="";a.password="";a.pwprotect=0;a.genpw=0;a.sn=0;a.last_touch=lp_get_gmt_timestamp();a.autologin=0;a.never_autofill=0;a.realm_data="";a.fiid="";a.custom_js="";a.submit_id="";a.captcha_id="";a.urid="0";a.basic_auth="0";a.method="";a.action="";a.individualshare=!1;a.fields=[];return a}
function fix_fields(a){if("undefined"!=typeof a.fields&&"undefined"==typeof a.fields.length){var b=[],c;for(c in a.fields)b[b.length]=a.fields[c];a.fields=b}return a}var g_console_log="";function truncatelog(){2E4<g_console_log.length&&(g_console_log=g_console_log.substring(g_console_log.length-2E4))}function console_log(a){g_isopera?window.opera.postError(a):(console.log(a),g_issafari&&(truncatelog(),g_console_log+=a+"\n"))}
function console_warn(a){g_isopera?window.opera.postError(a):console.warn(a)}function console_error(a){g_isopera?window.opera.postError(a):(console.error(a),g_issafari&&(truncatelog(),g_console_log+=a+"\n"))}
function dispatch_message(a,b){g_issafari?"undefined"!=typeof safari.self&&"undefined"!=typeof safari.self.tab&&"undefined"!=typeof safari.self.tab.dispatchMessage&&safari.self.tab.dispatchMessage(a,b):g_isopera?(b.messagetype=a,opera.extension.postMessage(b)):g_ismaxthon&&(b.messagetype=a,b.pageid=g_pageid,window.external.mxGetRuntime().post("lpbackground",b))}
function get_key_iterations(a){a=SHA256(a);var b=a+"_key_iter";return"undefined"!=typeof localStorage&&null!=localStorage.getItem(b)?localStorage.getItem(b):"undefined"!=typeof localStorage&&(null!=localStorage.getItem(a+"_lt.cac")||null!=localStorage.getItem(a+".savedtree"))?(localStorage.setItem(a+"_key_iter",1),1):DEFAULT_KEY_ITERATIONS}function is_application(a){return"string"==typeof a?0==a.indexOf("app"):a&&"undefined"!=typeof a.appaid}
function get_appaid(a){return 0==a.indexOf("app")?a.substring(3):a}function get_record_id(a){return is_application(a)?"app"+a.appaid:a.aid}
function get_record(a){var b=getBG();return is_application(a)?get_application(a):"undefined"!==typeof g_sites&&"undefined"!==typeof g_sites[a]?g_sites[a]:"undefined"!==typeof g_securenotes&&"undefined"!==typeof g_securenotes[a]?g_securenotes[a]:"undefined"!==typeof b.g_sites[a]?b.g_sites[a]:"undefined"!==typeof b.g_securenotes[a]?b.g_securenotes[a]:"undefined"!==typeof b.g_deletedsites&&"undefined"!==typeof b.g_deletedsites[a]?b.g_deletedsites[a]:null}
function get_application(a){is_application(a)&&(a=get_appaid(a));return"undefined"!=typeof g_applications&&"undefined"!=typeof g_applications[a]?g_applications[a]:getBG().g_applications[a]}
function search_results(a,b){var c=[],d=getBG();a=a.toLowerCase();for(var e in d.g_sites)if(d.check_ident_aid(e)){var f=d.g_sites[e];if("http://group"!=f.url)if(-1!=f.url.toLowerCase().indexOf(a)||-1!=f.name.toLowerCase().indexOf(a)||-1!=f.group.toLowerCase().indexOf(a)||-1!=f.unencryptedUsername.toLowerCase().indexOf(a))c[c.length]=f;else if(b&&0<f.extra.length&&"http://group"!=f.url){var g=d.lpmdec_acct(f.extra,!0,f,d.g_shares);-1!=g.toLowerCase().indexOf(a)&&(c[c.length]=f)}}for(e in d.g_securenotes)d.check_ident_aid(e)&&
(f=d.g_securenotes[e],-1!=f.name.toLowerCase().indexOf(a)||-1!=f.group.toLowerCase().indexOf(a)?c[c.length]=f:b&&(0<f.extra.length&&"http://group"!=f.url&&!f.pwprotect)&&(g=getBG().lpmdec_acct(f.extra,!0,f,d.g_shares),-1!=g.toLowerCase().indexOf(a)&&(c[c.length]=f)));for(e in d.g_applications)if(d.check_ident_appaid(e))if(f=d.g_applications[e],-1!=f.appname.toLowerCase().indexOf(a)||-1!=f.name.toLowerCase().indexOf(a)||-1!=f.group.toLowerCase().indexOf(a)||-1!=getusernamefromacct(f).toLowerCase().indexOf(a))c[c.length]=
f;else if(b&&0<f.extra.length&&("undefined"==typeof f.url||"http://group"!=f.url))g=d.lpmdec_acct(f.extra,!0,f,d.g_shares),-1!=g.toLowerCase().indexOf(a)&&(c[c.length]=f);return c}function mostRecent(){return window}function currentWindow(){return window}function en(a){return encodeURIComponent(a)}function lpprefsHasUserValue(a,b){return b}function lpprefsGetBoolPref(a,b){return b}function lpprefsGetIntPref(a,b){return b}function lpGetAccounts(){get_accts()}
function elapsedTime(a){if("undefined"==typeof a||31536E3>a)return gs("Never");a=lp_get_gmt_timestamp()-a;if(0>a)return gs("just now");if(60>a)return a+" "+(1==a?gs("second"):gs("seconds"))+" "+gs("ago");if(3600>a)return a=Math.floor(a/60),a+" "+(1==a?gs("minute"):gs("minutes"))+" "+gs("ago");if(86400>a)return a=Math.floor(a/60/60),a+" "+(1==a?gs("hour"):gs("hours"))+" "+gs("ago");if(604800>a)return a=Math.floor(a/60/60/24),a+" "+(1==a?gs("day"):gs("days"))+" "+gs("ago");if(2678400>a)return a=Math.floor(a/
60/60/24/7),a+" "+(1==a?gs("week"):gs("weeks"))+" "+gs("ago");if(31536E3>a)return a=Math.floor(a/60/60/24/31),a+" "+(1==a?gs("month"):gs("months"))+" "+gs("ago");a=Math.floor(a/60/60/24/365);return a+" "+(1==a?gs("year"):gs("years"))+" "+gs("ago")}function is_opera_12(){try{if(g_isopera){var a=navigator.userAgent.match(/ Version\/([0-9.]+)/);if(a&&12<=parseFloat(a[1]))return!0}}catch(b){}return!1}
function is_opera_chromium(){"undefined"==typeof g_isoperachromium&&(g_isoperachromium=g_ischrome&&-1!=navigator.userAgent.indexOf(" OPR/"));return g_isoperachromium}function supports_native_messaging(){if(is_opera_chromium()){var a=navigator.userAgent.match(/ OPR\/(\d+)/);if(a&&20<=parseInt(a[1]))return!0}else if(g_ischrome)return!0;return!1}function window_close(a){is_opera_12()?getBG().closecurrenttab(a):window.close()}var dbgts=(new Date).getTime();
function lpdbg(a,b){"object"==typeof dbgall&&!dbgall[a]&&!dbgall.all||"undefined"!=typeof g_isdebug&&g_isdebug&&console_log(Math.floor(((new Date).getTime()-dbgts)/1E3)+" : "+a+" : "+b)}function lplog(a){console_log(a)}function convert_object_to_array(a){var b=[],c;for(c in a)b[b.length]=a[c];return b}
function getQueryVariable(a,b){var c;b?(c=b.indexOf("?"),c=-1!=c?b.substring(c+1):""):c=window.location.search.substring(1);c=c.split("&");for(var d=0;d<c.length;d++){var e=c[d].split("=");if(e[0]==a)return decodeURIComponent(e[1])}return""}
function addattachcb(a){var b=getBG(),c=a?g_attachname:b.g_attachname,d=a?g_attachbytes:b.g_attachbytes;a?g_attachname=g_attachbytes="":b.g_attachname=b.g_attachbytes="";if(!(null==d||0==d.length)){var b=get_mimetype_from_filename(c),e=check_filename_badchars(c);e==FILENAME_FRAGMENT_BAD_SHELL_CHARS?alert(gs("Suspicious characters found in selected filename, will not process it")):e==FILENAME_FRAGMENT_BAD_CONTROL_CHARS?alert(gs("Control characters found in selected filename, will not process it")):
a?(a.mimetype=b,a.bytes=d):(a=createAttachId(),attaches[attachnum]={id:a,mimetype:b,bytes:d},addThumbnail(attachnum,b,d,c))}}
function checkMoveIntoSharedFolder(a,b,c,d,e,f,g){d="object"==typeof a&&"object"==typeof b&&a.id==b.id;if(!g&&!d&&(d=gs("You are moving sites to a shared folder. This will potentially make them available to others.\n\nAre you sure you would like to continue?"),"undefined"==typeof a||!a?d=gs("You are moving sites from a shared folder into your general vault. This will potentially make them unavailable to others.\n\n Do you want to continue?"):"undefined"!=typeof b&&b&&(d=gs("You are moving sites to a different shared folder. This may change who has access to the sites.\n\n Do you want to continue?")),
!confirm(d)))return!1;for(var k in c)if(c.hasOwnProperty(k)){a=get_record(c[k]);if(null==a)return alert(gs("Error: This folder has already been moved?")),!1;if("undefined"!=typeof a.individualshare&&a.individualshare){if(null!=a.sharedfromaid&&""!=a.sharedfromaid&&"0"!=a.sharedfromaid)return alert(gs("You cannot move individually shared sites into a shared folder.")),!1;if(!e&&!g&&(d=gs("A site that has been previously shared cannot be moved to a shared folder.\n\nWould you like to make a copy?"),
!confirm(d)))return!1}}return!0}
function get_saved_logins(a){var b=getBG();b.g_db_transaction_tested=b.g_db_transaction_worked=!1;var c=opendb();c||(c=opendb());createSavedLoginsTable(c);c&&c.transaction(function(c){b.g_db_transaction_tested=b.g_db_transaction_worked=!0;c.executeSql("SELECT * FROM LastPassSavedLogins2 order by last_login desc",[],function(b,c){for(var d=[],k=0;k<c.rows.length;k++)d[k]={username:c.rows.item(k).username,password:c.rows.item(k).password},d[k]["protected"]=c.rows.item(k)["protected"];a(d)},function(a,
b){console_log(b)})})}function delete_saved_login(a){var b=opendb();createSavedLoginsTable(b);b&&b.transaction(function(b){b.executeSql("DELETE FROM LastPassSavedLogins2 WHERE username=?",[a])},function(){},function(a,b){console_log(b)})}function redirect_to_url(a){g_ismaxthon?(getBG().openURL(getchromeurl(a)),setTimeout(function(){window.close()},50)):document.location.href=a}
function chrome_runtime_sendMessage(a,b){"undefined"!=typeof chrome.runtime&&"undefined"!=typeof chrome.runtime.sendMessage?chrome.runtime.sendMessage(a,b):chrome.extension.sendRequest(a,b)}function lp_ofa(a){return ofa(a)}function lp_of(a){return of(a)}function lp_ofja(a){return ofja(a)}function lp_es(a){return es(a)}var dounload=!0;function welcome_unload(){dounload&&getBG().open_native_messaging_html_if()}
function get_personal_linked(a){var b=getBG().g_shares;if(b)for(var c in b){var d=b[c];if(!("object"!=typeof d||"undefined"==typeof d.associative)&&"1"==d.associative)return a?d.decsharename:d.id}return""}function is_personal_linked(a){var b=get_personal_linked(!0);return""!=b&&(a==b||0==a.indexOf(b+"\\"))}
this.get_default_group=function(a){var b=getBG();if(""!=a){var c=get_personal_linked();if(""!=c&&"undefined"!=typeof b.g_savesitestopersonal){var d=b.g_savesitestopersonal;if(0<array_length(d)&&!array_contains(lp_gettld_url(punycode.URLToASCII(a)),d)){var b=b.g_shares,e;for(e in b)if(b[e].id==c)return b[e].decsharename}}if("undefined"!=typeof siteCats[lp_gettld_url(a)])return siteCats[lp_gettld_url(a)]}return""};
function es(a){a=a.replace(/\\/g,"\\\\");a=a.replace(/'/g,"\\'");return a=a.replace(/"/g,'\\"')}function of(a){var b=document.createElement("div");a=document.createTextNode(a);b.appendChild(a);return b.innerHTML}function ofa(a){a=a.toString();var b=a.length,c="",d=0,e;for(e=0;e<b;++e)d=a.charCodeAt(e),48>d||57<d&&65>d||90<d&&97>d||122<d&&256>d?(d=d.toString(16),2!=d.length&&(d="0"+d),c+="&#x"+d+";"):c+=a.charAt(e);return c}
function ofj(a){if("string"!=typeof a){if(null==a)return a;a+=""}var b="",c,d=a.length,e,f;for(c=0;c<d;++c)e=a.charCodeAt(c),(48>e||57<e&&65>e||90<e&&97>e||122<e&&256>e)&&32!=e?(e=e.toString(16),f=e.length,0==f?e="0000":1==f?e="000"+e:2==f?e="00"+e:3==f&&(e="0"+e),b+="\\u"+e):b+=a.charAt(c);return b}function ofja(a){return ofa(ofj(es(a)))}function ofx(a){return a.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\'/g,"&apos;").replace(/\"/g,"&quot;")}
function show_password_meter(a){document.writeln('<div id="page_passwordmeterback">');document.writeln('<div id="page_passwordmeterfront">');document.writeln("</div>");document.writeln("</div>");document.getElementById("page_passwordmeterback").style.textAlign="left";document.getElementById("page_passwordmeterback").style.height="10px";document.getElementById("page_passwordmeterback").style.border="1px solid #B5B8C8";document.getElementById("page_passwordmeterback").style.width=a+"px";document.getElementById("page_passwordmeterback").style.backgroundImage=
"url(images/passwordmeter_back.gif)";document.getElementById("page_passwordmeterback").style.marginTop="3px";document.getElementById("page_passwordmeterfront").style.backgroundImage="url(images/passwordmeter_front.gif)";document.getElementById("page_passwordmeterfront").style.height="10px";document.getElementById("page_passwordmeterfront").style.width="50px";document.getElementById("page_passwordmeterfront").style.lineHeight="1px";document.getElementById("page_passwordmeterfront").style.fontSize=
"1px"}function update_password_meter(a,b,c){c||(c=document);a=("function"==typeof getpasswordstrength?getpasswordstrength:LP.getpasswordstrength)(a,b);update_password_meter_manual(a,c)}function update_password_meter_manual(a,b){var c=b.getElementById("page_passwordmeterback").clientWidth,c=Math.round(a*c/100)+"px";b.getElementById("page_passwordmeterfront").style.width=c}
this.getpasswordstrength=function(a,b){var c=0;if(""==a&&""==b)return 0;if(b==a)return 1;""!=a&&-1!=a.indexOf(b)&&(c-=15);""!=a&&-1!=b.indexOf(a)&&(c-=a.length);c+=b.length;0<b.length&&4>=b.length?c+=b.length:5<=b.length&&7>=b.length?c+=6:8<=b.length&&15>=b.length?c+=12:16<=b.length&&(c+=18);b.match(/[a-z]/)&&(c+=1);b.match(/[A-Z]/)&&(c+=5);b.match(/\d/)&&(c+=5);b.match(/.*\d.*\d.*\d/)&&(c+=5);b.match(/[!,@,#,$,%,^,&,*,?,_,~]/)&&(c+=5);b.match(/.*[!,@,#,$,%,^,&,*,?,_,~].*[!,@,#,$,%,^,&,*,?,_,~]/)&&
(c+=5);b.match(/(?=.*[a-z])(?=.*[A-Z])/)&&(c+=2);b.match(/(?=.*\d)(?=.*[a-z])(?=.*[A-Z])/)&&(c+=2);b.match(/(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!,@,#,$,%,^,&,*,?,_,~])/)&&(c+=2);var d=[],e=0,f,g;for(f=0;f<b.length;++f)g=b.charAt(f),"undefined"==typeof d[g]&&(d[g]=1,++e);if(1==e)return 2;c*=2;0>c?c=0:100<c&&(c=100);return c};
var g_port=null,g_foundmanual=!1,LP_last_form=null,g_docnum=null,lpsavedform=null,lpsavedformfields=[],lpsharedpasswordfills=[],g_fillaid=null,g_setup_hotkey_handler=!1,curr_notification_type="",lpgenpassforms=[],lpgenpasscurrentpwfields=[],g_sites=[],g_formfills=[],g_ischrome="undefined"!=typeof chrome&&("undefined"!=typeof chrome.runtime||"undefined"!=typeof chrome.extension),g_issafari="undefined"!=typeof safari&&"undefined"!=typeof safari.self,g_isopera="undefined"!=typeof opera&&"undefined"!=
typeof opera.extension,g_ismaxthon="undefined"!=typeof window&&"undefined"!=typeof window.external&&"undefined"!=typeof window.external.mxGetRuntime,g_isfirefox=!1,g_isie=!1,g_menuopen=!1,experimentaloverlay=g_ischrome||g_issafari,styleprefix=g_ischrome&&experimentaloverlay?"data-lp":"",urlprefix=null,disable_check_form_fill=!experimentaloverlay,g_mouseX=0,g_mouseY=0,g_initiallysetupff=!1,g_notificationmax=200,g_notificationmin=27,g_contextheight=190,g_contextwidth=230,g_iframerand="",g_contextrand=
"",g_last_launch=[],g_closepop=!0,do_experimental_popupfill=!1,g_tutorial_flags,TUTORIAL_FLAG_LPOV=1,TUTORIAL_FLAG_CONTEXT=2,g_context_tip_shown=0,g_in_cpwbot=!1,g_backgroundimagereplace1="R0lGODlhEAAQAMQAAHgAFq9RZp8BJfT09JkCJKUuSO/q6/n//vHh5YYBGvf6+tOyucB0hsuLmpUiOpIAHIgJJtzFy7pneuvT2fP49/Dw8L5/juS+x8Scpn4BHaMDJ3cAHHQAG6YDKHEAGv///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjEgNjQuMTQwOTQ5LCAyMDEwLzEyLzA3LTEwOjU3OjAxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOkZCN0YxMTc0MDcyMDY4MTFCRURDRjg2RUEzOUI0MjBEIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjUyQjY0RUJGQTQ2QzExRTA5MkM2OTcwNjIwMUM1QjhFIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjUyQjY0RUJFQTQ2QzExRTA5MkM2OTcwNjIwMUM1QjhFIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzUgTWFjaW50b3NoIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RkE3RjExNzQwNzIwNjgxMTkyQjA4Nzg0MUEyMjBGMUUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RkI3RjExNzQwNzIwNjgxMUJFRENGODZFQTM5QjQyMEQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PDs6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQAAAAAACwAAAAAEAAQAAAFmGAnjmTZaSgqCCqbautKdMVaOEQsEDkRTAjN44IIyHi8R+DzYRSYjAcy+Ug0PojJZ/HoUh2BgGRwOCga4UK3uiwP3mSmJVFNBBQVQwWuVzASgAkQDmAVFIcShBCAGY0ZAAsHEZEREACOjgABBxQBDhUHFpeNG6UcDhgLHgCpBQClsKUeHBAeGxkctrAcvL2zub2+HsPExcYhADs=",
g_backgroundimagereplace2="R0lGODdhEAAQAPQfAHEAGq9RZp8BJfT09JkCJKUuSO/q6/n//vHh5YYBGvf6+tOyucB0hsuLmpUiOpIAHIgJJtzFy7pneuvT2fP49/Dw8L5/juS+x8Scpn4BHaMDJ3cAHHQAG6YDKP///3gAFiH/C1hNUCBEYXRhWE1QRj94cDI2NkQzRERDQjk3IiB4bXBNTTpJbnN0YW5jZUlEPVJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4ALAAAAAAQABAAAAWYYCeOZNlpKCoIKptq60p0xVo4RCwQORFMCM3jggjIeLxHwONhFJiMBzL5SDQ8iIln8ehSHYGAZHA4KBrhQre6LA/eZKYlUU0EFBVDBa5XMBKACRAOYBUUhxKEEIAZjRkfCwcRkREQH46OHwEHFAEOFQcWl40bpRwOGAsAH6kFH6WwpQAcEAAbGRy2sBy8vbO5vb4Aw8TFxiEAOw==",
g_isloggedin=!1,LPMAGIC="__lpform_",LPMAGICIFRAME="lpformframe",verbose=!1,ELLIPSIS_CODE="&#133;",g_cc_asked=!1,g_cc_ok=!1,g_robots_txt=!1;function message_handler(a){g_issafari?"message"==a.name&&receiveBG(a.message):g_isopera?"message"==a.data.messagetype&&receiveBG(a.data):g_ismaxthon&&receiveBG(a)}
function send_focus(){g_issafari?safari.self.tab.dispatchMessage("focus",{url:punycode.URLToASCII(document.location.href)}):g_isopera?opera.extension.postMessage({messagetype:"focus",url:punycode.URLToASCII(document.location.href)}):g_ismaxthon&&window.external.mxGetRuntime().post("lpbackground",{pageid:g_pageid,messagetype:"focus",url:punycode.URLToASCII(document.location.href),topurl:lpgettopurl()})}
function onLoad(){if(!g_issafari||!("http://chat.major-design.ru/"==document.location.href&&window!=lpgettop()))if(g_content_check&&!should_do_lastpass_here(document))verbose_log("SHORT CIRCUIT onLoad on "+document.location.href);else if(g_ischrome)g_port="undefined"!=typeof chrome.runtime&&"undefined"!=typeof chrome.runtime.connect?chrome.runtime.connect({name:punycode.URLToASCII(document.location.href)}):chrome.extension.connect({name:punycode.URLToASCII(document.location.href)}),g_port.onMessage.addListener(receiveBG),
g_port.onDisconnect.addListener(function(a){receiveBG(null,a,1)});else if(g_issafari){safari.self.addEventListener("message",message_handler,!1);g_docnum=Math.floor(1E8*Math.random());var a="object"==typeof lpgettop().lptranslations?1:0;setTimeout(function(){safari.self.tab.dispatchMessage("connect",{name:punycode.URLToASCII(document.location.href),docnum:g_docnum,top:window==lpgettop(),haslang:a,docstate:get_docstate(document),docflags:assemble_docflags_object(document)})},150);window==lpgettop()&&
(send_focus(),window.addEventListener("focus",function(){send_focus()},!1))}else g_isopera?(opera.extension.onmessage=message_handler,g_docnum=Math.floor(1E8*Math.random()),opera.extension.postMessage({messagetype:"connect",name:punycode.URLToASCII(document.location.href),docnum:g_docnum,topurl:lpgettopurl(),docstate:get_docstate(document)})):g_ismaxthon&&(window.external.mxGetRuntime().listen(g_pageid,message_handler),g_docnum=g_pageid,window.external.mxGetRuntime().post("lpbackground",{pageid:g_pageid,
messagetype:"connect",name:punycode.URLToASCII(document.location.href),docnum:g_docnum,topurl:lpgettopurl(),docstate:get_docstate(document),docflags:assemble_docflags_object(document)}))}var g_lp_hotkeys="generateHk recheckHk searchHk nextHk prevHk homeHk submitHk saveallHk logoffHk defaultffidHk openpopoverHk".split(" "),g_hotkey_data=[];
function handle_hotkey(a){var b=0!=a.keyCode?a.keyCode:a.charCode;if(!(32>b)){var c;c=""+(a.ctrlKey?"control":"");c+=a.metaKey?(""!=c?" ":"")+"meta":"";c+=a.altKey?(""!=c?" ":"")+"alt":"";c+=a.shiftKey?(""!=c?" ":"")+"shift":"";if(!(""==c||"shift"==c))for(a=0;a<g_lp_hotkeys.length;a++){var d=g_lp_hotkeys[a];if(g_hotkey_data[d+"KeyCode"]==b&&g_hotkey_data[d+"Mods"]==c){sendBG({cmd:"runhotkey",hotkey:d});break}}}}function disconnectBG(){g_port&&(g_port.disconnect(),g_port=null)}
function sendBG(a){if(g_content_check&&!should_do_lastpass_here(document))verbose_log("SHORT CIRCUIT sendBG "+document.location.href);else{if(verbose){var b="",c=get_docstate(document);"complete"!=c&&(b=" docstate="+c);L("CS["+g_docnum+"] -> BG : cmd="+a.cmd+b)}a.docnum=g_docnum;a.timestamp=(new Date).getTime();g_ischrome?g_port?g_port.postMessage(a):"rebuildcontext"!=a.cmd&&"closepopuptoplevel"!=a.cmd&&L("CS -> BG : FAILED "+a.cmd):g_issafari?safari.self.tab.dispatchMessage("message",a):g_isopera?
(a.messagetype="message",a.topurl=lpgettopurl(),opera.extension.postMessage(a)):g_ismaxthon&&(a.pageid=g_pageid,a.messagetype="message",a.topurl=lpgettopurl(),window.external.mxGetRuntime().post("lpbackground",a))}}var g_form=null,g_fillreqdocs=[];
function receiveBG(a,b,c){if(!g_issafari&&!g_isopera&&!g_ismaxthon||!("undefined"!=typeof a.docnum&&a.docnum!=g_docnum))if(g_content_check&&!should_do_lastpass_here(document))verbose_log("SHORT CIRCUIT receiveBG on "+document.location.href);else if(c)L("BG -> CS : DISCONNECT"),g_port=null;else if("undefined"==typeof a.cmd)L("BG -> CS : INVALIDMSG");else switch(verbose&&"gotpopupfillinput"!=a.cmd&&"popupfilliconnumber"!=a.cmd&&L("BG -> CS ["+g_docnum+"]: "+a.cmd),urlprefix=a.urlprefix,a.cmd){case "remove_event_listener":g_issafari&&
safari.self.removeEventListener("message",message_handler,!1);break;case "setdocnum":g_docnum=a.docnum;verbose&&L("setdocnum to "+g_docnum+" for "+document.baseURI);if("undefined"!=typeof a.killswitch){a.killswitch&&(document.g_content_check_result=!1,verbose_log("No soup for you."));break}lp_init_tlds();if("undefined"!=typeof a.tld){b=LPJSON.parse(a.tlddata);lp_all_tlds[a.tld]=[];for(var d in b)b.hasOwnProperty(d)&&(lp_all_tlds[a.tld][lp_all_tlds[a.tld].length]=b[d])}"undefined"!=typeof a.ff&&(setupffoverrides(a),
g_initiallysetupff=!0);"undefined"!=typeof a.language_data&&(g_issafari||g_isopera?eval(a.language_data):g_ismaxthon&&include_language(a.g_language,!0));sendBG({cmd:"rebuildcontextonload",url:punycode.URLToASCII(document.location.href)});d={cmd:"getprefs",url:punycode.URLToASCII(document.location.href),username_val:get_username_val(document),docstate:get_docstate(document),docflags:assemble_docflags_object(document)};sendBG(d);evalScriptsInFrame(window,document);break;case "rsadecrypt":g_form.eventtype.value=
a.rc;g_form.eventdata4.value=a.sharekeyhex;break;case "rsaencryptmultiple":g_form.eventtype.value=a.rc;g_form.eventdata4.value=a.dataout;break;case "ipcgotdata":g_ipctarget&&(g_ipctarget.setAttribute("msg","gotdata"),g_ipctarget.setAttribute("g_username",a.username),g_ipctarget.setAttribute("g_local_key",atob(a.key)),g_ipctarget.setAttribute("g_key_iterations",a.iterations),d=g_ipctarget.ownerDocument.createEvent("HTMLEvents"),d.initEvent("message",!0,!1),g_ipctarget.dispatchEvent(d));break;case "plug2web":g_form.eventdata1.value=
a.username;g_form.eventdata2.value=a.key;g_form.eventdata3.value=a.version;g_form.eventdata4.value=a.identity;g_form.eventdata5.value=a.hash;setTimeout(function(){evaluntilfindmanual()},500);break;case "getversion":g_form.eventdata1.value=a.version;g_form.eventdata2.value=a.builddate;g_form.eventdata3.value=a.versionpre;g_form.eventdata4.value="cr";g_form.eventdata5.value=a.isloggedin;break;case "openlogindialog":g_form.eventdata1.value="";g_form.eventdata2.value="";g_form.eventdata3.value="";g_form.eventdata4.value=
"";break;case "getdebuginfo":g_form.eventdata1.value=a.info;break;case "savesiteicon":dosavesiteicon();break;case "savesiteiframe":dosavesiteicon(1);break;case "savesiteinfo":break;case "fillfield":if(g_cpwbot&&g_in_cpwbot){verbose_log("Change in Progress, skipping "+a.cmd);break}fillfield(a);break;case "fillbest":if(g_cpwbot&&g_in_cpwbot){verbose_log("Change in Progress, skipping "+a.cmd);break}fillbest(a);break;case "conditionalforcefill":if(g_cpwbot&&g_in_cpwbot){verbose_log("Change in Progress, skipping "+
a.cmd);break}do_conditional_forcefill_without_fillbest(a);break;case "run_custom_js":""!=a.custom_js&&(d=a.docid?g_fillreqdocs[a.docid]:document,run_custom_js(d,lpPrepareCustomJS(a.custom_js,a.username,a.password,a.loc+"",a.onlyfill,d)));break;case "submit":if(g_cpwbot&&g_in_cpwbot){verbose_log("Change in Progress, skipping "+a.cmd);break}submit(a);break;case "submitpwchange":submitpwchange(a);break;case "fillform":fillform(a);break;case "clearforms":lpClearForms(null,document,1,window);break;case "saveall":saveall();
break;case "setprefs":lpdisableHighlightField=0==a.highlightFields;lpwarninsecureforms=a.warninsecureforms;lpdontfillautocompleteoff=a.dontfillautocompleteoff;lpdonotoverwritefilledfields=a.donotoverwritefilledfields;lpOfferGeneratePasswd=a.showGenerateNotifications;lpShowFormFillNotifications=a.showFormFillNotifications;lpNotificationsAfterClick=g_initiallysetupff?a.showNotificationsAfterClick:1;alwayschooseprofilecc=a.alwayschooseprofilecc;b=!1;for(d=0;d<g_lp_hotkeys.length;d++)c=g_lp_hotkeys[d],
0!=a[c+"KeyCode"]&&(b=!0),g_hotkey_data[c+"KeyCode"]=a[c+"KeyCode"],g_hotkey_data[c+"Mods"]=a[c+"Mods"];b&&!g_setup_hotkey_handler&&(g_setup_hotkey_handler=!0,window.addEventListener("keydown",function(a){handle_hotkey(a)},!1));(g_is_specialsite="undefined"!=typeof a.specialsite)&&verbose_log("specialsite TRUE");g_cpwbot&&a.in_cpwbot&&(verbose_log("Executing PW Change - perhaps skip some processing in this context?"),g_in_cpwbot=!0,a.msg&&do_cpw_overlay_handler(a));do_experimental_popupfill=a.do_experimental_popupfill;
g_isloggedin=a.lploggedin;"undefined"!=typeof a.nevers&&""!=a.nevers&&(g_nevers=LPJSON.parse(a.nevers));if(do_experimental_popupfill){"undefined"!=typeof a.sitescount&&(g_icon_numbers.sites=a.sitescount);reset_forcefill_without_fillbest();try{"undefined"==typeof translations&&(translations={}),"undefined"==typeof translations["en-US"]&&(translations["en-US"]={}),translations["en-US"].ff_currpass_regexp=a.ff_currpass_regexp,translations["en-US"].ff_username_regexp=a.ff_username_regexp,translations["en-US"].ff_loginform_regexp=
a.ff_loginform_regexp,translations["en-US"].ff_email_regexp=a.ff_email_regexp,translations["en-US"].ff_company_regexp=a.ff_company_regexp,translations["en-US"].ff_firstname_regexp=a.ff_firstname_regexp,translations["en-US"].ff_bankacctnum_regexp=a.ff_bankacctnum_regexp,translations["en-US"].ff_search_regexp=a.ff_search_regexp,translations["en-US"].ff_captcha_regexp=a.ff_captcha_regexp,translations["en-US"].ff_lastname_regexp=a.ff_lastname_regexp,translations["en-US"].ff_address1_regexp=a.ff_address1_regexp,
translations["en-US"].ff_country_regexp=a.ff_country_regexp,translations["en-US"].ff_city_regexp=a.ff_city_regexp,translations["en-US"].ff_cctype_regexp=a.ff_cctype_regexp,translations["en-US"].ff_forgot_regexp=a.ff_forgot_regexp,translations["en-US"].ff_remember_regexp=a.ff_remember_regexp,translations["en-US"].ff_combineddummy_regexp=a.ff_combineddummy_regexp,translations["en-US"].ff_password_regexp=a.ff_password_regexp,translations["en-US"].ff_question_answer_regexp=a.ff_question_answer_regexp}catch(e){}setupIcons(document,
"undefined"!=typeof a.specialsite)}break;case "setuuid":g_form.eventdata1.value=a.uuid;break;case "recover":g_form.eventdata2.value=a.otp;break;case "recheck":recheck_handler(a);break;case "loadurl":verbose&&(L("current url is "+document.location.href+" and docnum is "+g_docnum),L("LP_inIframe returns "+LP_inIframe(window)),L("loadurl called for "+a.url));g_issafari?null!=typeof parent&&null!=typeof parent.document?parent.document.location.href=a.url:document.location.href=a.url:document.location.href=
a.url;break;case "clearfilledfields":clear_filled_fields(document,window);break;case "setupmultifactor":g_form.eventdata3.value=a.result;break;case "setupsinglefactor":g_form.eventdata4.value=a.result;break;case "checkmultifactorsupport":g_form.eventdata4.value=a.type;g_form.eventdata3.value=a.result;break;case "verifymultifactor":g_form.eventdata3.value=a.eventdata3;g_form.eventdata2.value=a.eventdata2;break;case "multifactorauth":g_form.eventdata5.value=a.multifactorresponse;g_form.eventdata3.value=
a.result;break;case "multifactorreprompt":g_form.eventdata3.value=a.result;break;case "showfillnotification":do_experimental_popupfill?setTimeout(function(){lpshownotification("fill",a)},0):lpshownotification("fill",a);break;case "showaddnotification":do_experimental_popupfill?setTimeout(function(){lpshownotification("add",a)},0):lpshownotification("add",a);break;case "showchangenotification":do_experimental_popupfill?setTimeout(function(){lpshownotification("change",a)},0):lpshownotification("change",
a);break;case "showerrornotification":do_experimental_popupfill?setTimeout(function(){lpshownotification("error",a)},0):lpshownotification("error",a);break;case "showbasicauthnotification":do_experimental_popupfill?setTimeout(function(){lpshownotification("basicauth",a)},0):lpshownotification("basicauth",a);break;case "closenotification":lpclosenotification(a.includeerror,a.excludeother);break;case "checkgenpwfillforms":if(g_cpwbot&&g_in_cpwbot){verbose_log("Change in Progress, skipping "+a.cmd);
break}checkgenpwfillforms(a);break;case "fillcurrent":fillcurrent(a);break;case "showoverlay":showoverlay(a);break;case "slidedownoverlay":slidedownoverlay(a);break;case "slideupoverlay":slideupoverlay(a);break;case "hideoverlay":hideoverlay(a);break;case "hidecontext":hidecontext();break;case "checkgeneratepassword":lpCheckGeneratePassword(null,document,!0,window)&&sendBG({cmd:"generatepasswordfound"});break;case "populategeneratedpassword":if(g_cpwbot&&g_in_cpwbot){verbose_log("Change in Progress, skipping "+
a.cmd);break}try{"undefined"==typeof translations&&(translations={}),"undefined"==typeof translations["en-US"]&&(translations["en-US"]={}),translations["en-US"].ff_currpass_regexp=a.ff_currpass_regexp}catch(f){}(a.url==punycode.URLToASCII(document.location.href)||has_same_tld(a.url,document.location.href))&&populategeneratedpassword(a.url,a.password,a.nofill);break;case "gotnotificationdata":break;case "gotimportdata":document.getElementById("source").value=a.source;document.getElementById("t").value=
a.data;document.getElementById("b64").value="1";document.getElementById("utf8").value="1";document.getElementById("encryptandstore").click();break;case "tutorial_flags":"undefined"===typeof a.flags&&(a.flags=0);g_tutorial_flags=a.flags;break;case "showcontext":window==lpgettop()&&lpshownotification("context",a);break;case "canattach":g_form.eventdata2.value="canopensaveattach";g_form.eventdata1.value="canattach";break;case "gotattach":g_form.eventdata2.value=a.mimetype;g_form.eventdata3.value=a.bytes;
g_form.eventdata4.value=a.encbytes;g_form.eventdata1.value="gotattach";break;case "lpshownotification":window==lpgettop()&&lpshownotification(a.type,a.data);case "gotpopupfilldata":break;case "gotpopupfillsites":do_experimental_popupfill&&("undefined"!=typeof a.sites||"undefined"!=typeof a.formfills?(d=createPopupFill(document,a),b=getAutoFillArray(document,LPJSON.parse(a.sites),!0),null!=g_formfills&&0<getcount(g_formfills)?c=g_formfills:"undefined"!=typeof a.formfills&&""!=a.formfills&&(g_formfills=
c=LPJSON.parse(a.formfills)),g_autofillsites=b,g_popupfill_rows=getcount(b),g_popupfill_rows_FF=getcount(g_formfills),verbose&&L("["+g_docnum+"]g_popupfill_rows = "+g_popupfill_rows+" g_popupfill_rows_FF = "+g_popupfill_rows_FF)):(g_popupfill_rows=0,verbose&&L("["+g_docnum+"]g_popupfill_rows = "+g_popupfill_rows),d=""),sendBG({cmd:"savepopupfillhtml",text:d,url:punycode.URLToASCII(document.location.href),rowtype:"sites"}));break;case "closepopupfills":do_experimental_popupfill&&closepopupfills(document);
break;case "gotpopupfillforms":break;case "gotisadmin":g_isadmin=a.isadmin;break;case "gotloggedin":a.lploggedin!=g_isloggedin&&(a.lploggedin?evalScriptsInFrame(window,document,!0):(g_isloggedin=a.lploggedin,g_dologin_clickable?closepopupfills(document):destroy_clickables(document)));g_isloggedin=a.lploggedin;break;case "popupfillscreateack":g_popupfill_parent&&g_popupfill_parent.focus();break;case "gotpopupfillinput":break;case "gotnevers":do_experimental_popupfill&&(g_nevers=LPJSON.parse(a.g_nevers));
break;case "closeclickables":do_experimental_popupfill&&(d="true"===a.force?!0:!1,"undefined"!=typeof a.loggedin&&(g_isloggedin=a.lploggedin),g_dologin_clickable&&d||!g_dologin_clickable?destroy_clickables(document):closepopupfills(document),sendBG({cmd:"getloggedin"}));break;case "popupfillresize":popupfillresize_handler(a);break;case "popupfilliconnumber":g_do_icon_number_hint&&do_icon_number_hint(parseInt(a.sitenumber),parseInt(a.formfillsnumber));break;case "popupfillsaveok":g_show_save_success_msg&&
do_save_site_success_msg(document);break;case "gotpopupfillsave":case "gotpopupfillgenerateprefs":break;case "iframescrollenable":g_iframe_scroll_hack&&"undefined"!=typeof a.href&&enableScrollOnIframe(a.href);break;case "iframebodyscrollenable":g_iframe_scroll_hack&&"undefined"!=typeof a.href&&enableScrollWithinIframe();break;case "toplevelpopupsetstate":g_create_iframe_in_top&&toplevelpopupsetstate_handler(a.toplevel_exists);break;case "createpopuptoplevel":g_create_iframe_in_top&&createpopuptoplevel_handler(a);
break;case "run_cpwbot_js":L("run_cpwbot_js");g_cpwbot&&CPWbot_cs&&CPWbot_cs.execute_script(document,a);break;case "cpwbot_fill_field":L("cpwbot_fill_field");g_cpwbot&&CPWbot_cs&&("complete"!=get_docstate(document)?(L("waiting 1.2 sec before filling field"),setTimeout(function(){CPWbot_cs.fill_field(document,a)},1200)):CPWbot_cs.fill_field(document,a));break;case "cpwbot_click_field":L("cpwbot_click_field");if(g_cpwbot&&CPWbot_cs){d=250;if("undefined"==typeof a.delay||!a.delay)d=a.delay;setTimeout(function(){CPWbot_cs.click_field(document,
a)},d)}break;case "cpwbot_finish":L("ask for cpwbot_finish_ack");g_cpwbot&&sendBG({cmd:"cpwbot_finish_ack"});break;case "cpwbot_finish_ack":L("clear cpwbot flag");g_in_cpwbot=!1;recheck_handler();break;case "cpwbot_validate_state":L("["+g_docnum+"] cpwbot validate state");g_cpwbot&&CPWbot_cs?CPWbot_cs.interrogate(document,a):verbose_log("No soup for you.");break;case "do_cpwbot_overlay":do_cpw_overlay_handler(a);break;case "setmsg_cpwbot_overlay":break;case "hide_cpwbot_overlay":cpw_hide_overlay(document,
a);break;case "ping_req":ping_req_handler(document,a);break;case "get_inner_text":get_inner_text_handler(document);break;case "get_inner_html":d="";document.body&&(d=document.body.innerHTML);sendBG({cmd:"got_inner_html",buf:d,url:punycode.URLToASCII(document.location.href)});break;default:L("BG -> CS : INVALIDMSG")}}
function hidecontext(){""!=g_contextrand&&document.getElementById("lpiframeoverlay"+g_contextrand)&&document.body.removeChild(document.getElementById("lpiframeoverlay"+g_contextrand))}
function showChangePasswordOverlay(a,b){var c=(LP_getWindowWidth(window)-450)/2+"px",d=document.createElement("div");d.id="lpchangepw_1";d.style.cssText="background-color:rgba(0, 0, 0, 0.75);font-size:16px;z-index:10000001;position:absolute;top:30px;left:"+c+";width:450px;height:300px;color:white;padding:30px;";d.innerHTML="<img onclick='document.getElementById(\"lpchangepw_1\").style.display=\"none\";' src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABYklEQVR42qXTvWrCUBQHcKe+QqfundPFxT0OnTJ0MtChmw/g4NgH6FtkEwoBv8BEA8EYFGswBIIEhFCrU4V26cfp+Qe5RLlKwcAPknty/7mHe1NoNBoy9+yZJWzBcN3J3j0cuGJJt9ul0WhEYRjSfD4nz/Oo0+kQ10J2eSygyL4xcb1eyyAUIV/sWhawHY/HtFqtTvJ9HyGbw4B6r9ejNE3/ZdfOQz4gnkwmtFwuM7VajRRFIcMwyLIs3GNM1HetePmA9yAIKEkSoVqtUrlcBtzv1abTKQJe9wIwGMexgGd8GQ5rvFoEvOUDFtiqKIoEXddJVdWMpml7Ndd1EfCSD3jC3mPPoVKpUKlUItM0AavAmKi3220E1PMBF+zTcRyazWYn9ft9Qsuyc3DLfm3bRs8y2BFM/mFFWQDcsE2r1SKsZjgcZgaDATWbTUxOxSmUBwiPLGEfOzGrH/uZzlIgorP8ASYfyJK1fcokAAAAAElFTkSuQmCC' style='float:right; padding-right:20px;'><div style='clear:both'></div><br/><center><img src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKQAAAAUCAYAAAADf5Y0AAALaklEQVR42u2ZC3SNVxbHr1dLVWu84pUgRCIvIok8JE2QlAyDVuvZmpYupmgZlqoytMb7GaXtdDpTswxjvNrOMix0UUXpVOuRkJsbechTEiGSiCQ3kT3/fXLEcdyXrsWkw7fWb9185/vvk3vX+t+9z97XQESPeUydweJiWKBnHiBQBJoDQx2gORgHgkNx3w8c93E3mLzdDRe83b1ADii3QgE4DF4AhsfUGRw2ZAYgkF9HDPkEOAEIzOG1ILClp4chxUt8sJcAOcgHwFAH8QBLwMr/c6aCRvdryHRAIK+OGPJZUAoITOG1QPBb/x4GIz5UQk3mI8kpsBgska/rwWnNlBF10JCbAT0iRD4MQ9YDbmAomAbmgXfACNDGRlw4mA7mS7NFg5bKc459BVQBArEgBIQG4L1tRpZM9rrLkGuAQeMJsEPRfKo9bwCcgT+IBH2Bix0DtQBBUu8HWtnQOoMw8BzwAs0saP4J6B68ulO8qzOdd+tMF3w8eE3ed9K0Gp5u0HWk8+6uIk7s0wX33bvYj2OdR1c1jvexGQc96zie49R9LOlnPQxDrgTlgCyQDYZr+nZgvxV9rjRqACgBZAm/Pp6jlvr1MKTdbcgNVkwRomiOKutTwDlwA5BCCdgD3LR9GoPlIEfTXwH7gKeidQHbQJGiqwbpYBN4VtH+w5IZ2UAZ096ktNdepfhunWCMLpQ5+/eUMmoE31s2R49uwhBZc2ZR8rDBtbrshfMoaVAUm9tKHMzj24Oy3ptDSQP7Uzx0Cb28KOf9P5Cpfzjei5U4mNUY1Juy588lY7A/v2e+53341ZKZ//4wDLlEOXfGgR+UsyhTCrop2XSP8swEDoOzSmnuDoLBJZCjaAtAMkiBIQcud9yQPqBaag4p65uUWDMoBaSQBJor+o+UZ1XgmowjSZDUNQE/KOs3QaFyz3HNrBrSy00Y69ruXcRXeWoKG0kYo7qqiqorKynnj++LbKmbMcHfl258f0LEFR85TOfatqTUcaPEfVVJMaVPnkjxXV3uyXDGvn3oZnyc0BV+uZvOtnqG0qdMEveVV69S6tiR+pdAmPTikBgyZ2UJXe6qFXSm+VN0ecVScV+RfomSoiP5i6TGnQH1H7QhO4AwWW7rybVm4DNAklmK9qZcOwkaK0Z1BTHKfSPwvLZHo1A0OuF4vs/Xw5DkbbdkM6sVzTpl3R/MBP1Ad9BZluzvFP14qW0LSuRaPPAFTjKLjgLvggZSG6XEbwFdZLyPzMpjWWcjQ8I0zpS7djXdvjJnvEVX/vpnwiUMeWnCeNUgalYVhhK66mqYcTQVHz5UY8jCQroYE80avVQzUoe4igpKefkFKj39k7g3X75MpohQke30L4Ax0I/Kk0w1uvw8Shn5Iplzc8V9mTGBEvy8WafGXQdO/6umJhCQZINccwEVcu00eNrOHpHKHm/zmj+Yjewou2zVkAfAaDBG8jr4GyCFUGCwQ7iiXy7X3JUsu89O/FglfoZNrW5IHw8YzYXinNvSufatqeTY0RozXb9O1eXlxNeVTz+hM79qSvGd2nP2Uc+XHCPKb/nFJKGtLLhCdOsWI8qoiOvcXphExonz3rl2LUV2NWdn1cTl5982PzLlZDrb4mkRd0HGwcC470BnWzdHlhyE7FsiTX+NX8R98tAYfs46/rKoxxb/h2HIEeBzcBAckfwESPKR1NUHu5T1RLAQdLeyb39FO6Mv1pi9vu6Gi96aIe0z24IZuoHJMotukOxUYlYr58ezSrneAfrfLj8aXZXyXwRiga8jhuQslDlzOuV9uI5yFi2kwi92kXpVm83CkLkrl1H+xxtrSqk8F+Z8sIDy1q/FuW8+yvU3apgwdO6alWAV5X+ykS4Oiqo9J15etpjyYtdQzsL5dOM/J0m9KpH1Li9fSnnrVnMcHxtEnDEkgGNEFs/GObPMeIHUq8yUyMcK/hzQraWEgJ50HiaWn3PsgzRkE7AVkB02KjEtwFfa81KwBbjbMiQPxvuDY3IwrhmyAhRp5INvwDDdCNKgxXZMvEor8Ze056fAG+BJbe/XtWbJLDNrjC1DIlshK35Ljl65q1dwNhWx5swMh+PSJ02kOJd2MEovqiq67nBc6uiXENdWND73cyWGBald96oHach5gCRnwAQwGMSAd3RDaoTJrFqg6K6BvrYM2Q+cgCGT7jXkX4CzRksrWekNJe4q+FyW56VsEN2QCq2lkRM0Y34PnCwMvGP1rlz+rwYWDYmGo/CrLzijibJZmZdH6sVNjTkrkyqv5HN5FFktDqWbY0t/PCXOiea8XDQiBaRet8rKqCIzk0u40KSNH0dxKKUJ/j2pLNFYE5d7mfe8O660VMYViGfJLw5FXHtKiorg/yPWzDnZuqnx/gu52eH3geYmnRJDA1VDfv1zfqnJBc0cMORRqb8OOutnSN2QVnAGa5Wz5SFQ31rJDgKre/EMUhpSL6/2qQdOKh1wuPY8SDekBRrL/31M/UJY0bYC00CSop2oGlJtTBLR8Zoi+vI9yvPH95TsjKm/w4jGg0zPhZARpVCez/ieEeOb63v33FOyU0YMQ5PhQ4nQcLMh4nw8uGFBBgsW5bv42yNqGDcoPC7ikstxQiPienqSKTKMEkMChdnKEu4u2TfPx2Ps4w96U2J4sHhPymfPAE0dNWQyIHBDMZgt4qT+koVnfTRDOmruHNBUrg0ApP5SEypNuQdd9kWYQu+gHeBJkCxjTBaeR+iGtIVytryklW4dN1AutV+qhtS7V2QvHpkII/FVdHC/6FpxYTwTzxo+y3FzoY5vuHxjbvmKaEb4Kty9s7ZBKTqwX2RT0S2zqdS4jk6UMX0at+ZCe237NjEmEn/v2I59ndQ4fhX3cR3aiHOrbOtFhy8vPmPyvpYG5FXAy1FD/huQ5BRYBBZYoaOirwJzQXvwDGgnDaQ3NV3BERkfBTpJ7TCQJ7XnQEOpj1D22Av8gK8/1qf27sHnyOE/w5ANQJyMKQXR2vOhFgzZGqwAMfy3onUFqVJrBA1Bb7AIBGvzxiGgUmq3aobUxjedeY5YO4Yx9QujjBnT+FbO/JaL86Yahw5YZLCKtLTaThkZEI1F7J2z45uT5PxSm0MGB4iyjAvxqWI0dHXLZpIXxkcW5pBumEP+ZlCtpuT4UXHkKDnxXW02Nw2IUOeQKiMdNWSENBc5QDQYqq0VgSz5Sgp/kgabr62XgWJt7S3WSlyAGZBKMBgS4Ol0xtv918Y7HzIWGBxkidYMHQX/AsdBgfLsQ6mfp6zly2bmhDbwXiy1B5S1dHCS9doQfahNQyLz8S80ZRfO07Wd27kBgbl6iPNe0dcHKCkmWs88Mnt5cJfOpuQBNcY5rbjUitJ7ddtW/puzqz6HFCU4e967VJGRQVlzZ/NAHaV6AM8WMf/8jA0r47RBfGAv0WlX4LyYOuZlxLWgtFfHUEV2Ng/KxdFAZnGdZY4akokGB0E2uGqFAjBA6seAHy0Yp1rusQ34Sa0/2ATSwS1NnwpmggZaKZ8KrqjaEBwpBgV4ep/ycR+YeOdDrr8PQz4l9TcBWcEEBiuzxQQrultgC2iqmD3HirYYvGdvMC7nimI2aOzjxwYVBhDnMfyt/L6twb8/dxA/4yX09mGTAjecLUM5hk1sOQ46zAvFeTAB5pSlmeM46+lm1H//5ji5Js6lfA7mddWMOvscNaTKM6CNDRoq2vrAQzYhMSASeNvo1JsBT9BP6gPtNFHt5J6DQFgwSv3wAM/6Z/GbsLGm5D4PugDDfeIOXgMLpZHmy4ajL2hioZEJARPAAql/GwRY2LcliAJTwSJG7utqQbsNWP1tmlHLqzSLTTAc186XrrbitP21ODsx+vvCK9/bi0l01JC/CIIBDGmAIQ1GcOGXzU5Ajxjljw1Zd4kGO8DuR4hFuvf+CwK4l+FTL5R4AAAAAElFTkSuQmCC'><br/><br/><br/><br/>"+
(b?"Congratulations! Your password has been automatically changed. Wasn't that easy?":a?"Performing Automated LastPass Password Change....<br/><br/><br/><p style='font-size:22px;'>Please Wait</p>":"Something went wrong this time and we weren't able to change your password.")+"</center>";document.body.appendChild(d)}
function checkPasswordChangeCriteria(a,b){var c=LPJSON.parse(a),d=!1,e;for(e in c){var f=c[e].type,g=c[e].value;console.error("Checking "+f+" with value "+g+" in "+document.location.href);if("element"==f){if(d=!0,null==document.getElementById(g))return console.error("DIDNT FIND "+g),showChangePasswordOverlay(!1,!1),"abort"}else if("negativeelement"==f){if(document.getElementById(g))return console.error("FOUND "+g+" -- wasn't supposed to"),showChangePasswordOverlay(!1,!1),"abort"}else if("text"==f&&
(d=!0,-1==document.body.innerHTML.indexOf(g)))return console.error("DIDNT FIND "+g),showChangePasswordOverlay(!1,!1),"abort"}d&&showChangePasswordOverlay(!0,b);console.error("Passed Criteria");return"ok"}
document.addEventListener("click",function(a){(g_isopera||g_ismaxthon)&&!experimentaloverlay&&!chk_should_close_exttable(a)||do_bgiconinput&&!g_in_cpwbot&&icon_click_handler(a)||(g_menuopen&&slideupoverlay(),is_your_popup_showing(document)?do_experimental_popupfill&&g_popupfill_parent!=a.target&&closepopupfills(document):setTimeout(function(){checkShouldRecheck()},500),hidecontext())},!1);var g_scrollthread=null,g_scrolloffset=0,g_animatethread=null;
function smoothScroll(){document.getElementById("lpiframeoverlay"+g_iframerand).style.visibility="hidden";g_scrolloffset=30;g_scrollthread&&(clearTimeout(g_scrollthread),clearTimeout(g_animatethread));g_scrollthread=setTimeout(function(){30!=g_scrolloffset?smoothScroll():(document.getElementById("lpiframeoverlay"+g_iframerand).style.visibility="visible",g_animatethread=setInterval(function(){document.getElementById("lpiframeoverlay"+g_iframerand).style.top=document.body.scrollTop-g_scrolloffset+"px";
g_scrolloffset--;0>=g_scrolloffset&&clearTimeout(g_animatethread)},1))},400)}g_ischrome&&window.addEventListener("focus",function(){sendBG({cmd:"rebuildcontext",url:punycode.URLToASCII(document.location.href)})});g_issafari&&(document.addEventListener("mousemove",function(a){g_mouseX=a.pageX;g_mouseY=a.pageY},!1),document.addEventListener("contextmenu",function(){hidecontext()},!1));
function overlayresize(){if(document.getElementById("lpiframeoverlay"+g_iframerand)){var a=LP_getWindowWidth(window);document.getElementById("lpiframeoverlay"+g_iframerand).style.width=a+"px";document.getElementById("lpiframe"+g_iframerand).style.width=a+"px"}}
function showoverlay(a,b){var c=document.body;if(c){var d="",e=h=t=l=0,f=!1;if(0<=b.indexOf("&cpwbot")){if(e=LP_getWindowWidth(window),h=window.innerHeight,d="cpwmsg",document.getElementById("lpiframeoverlay"+d))return}else if(0!=b.indexOf("&context")){d=g_iframerand=Math.floor(1E8*Math.random());e=LP_getWindowWidth(window);h=g_notificationmin;l=0;t=document.body.scrollTop;var g=document.createElement("div");g.id="lptopspacer"+g_iframerand;g.style.height=g_notificationmin+"px";c.insertBefore(g,c.firstChild);
window.addEventListener("resize",overlayresize,!1)}else{f=!0;hidecontext();d=g_contextrand=Math.floor(1E8*Math.random());e=g_contextwidth;h=g_contextheight;t=g_mouseY;l=g_mouseX;var g=window.innerWidth,k=window.innerHeight+document.body.scrollTop;t+g_contextheight>k&&(t-=t+g_contextheight-k+10);l+g_contextwidth>g&&(l-=l+g_contextwidth-g+20)}g=document.createElement("style");g.type="text/css";g.styleSheet?g.styleSheet.cssText="@media print{.lpiframeoverlay{display:none}}":g.appendChild(document.createTextNode("@media print{.lpiframeoverlay{display:none}}"));
document.getElementsByTagName("head")[0].appendChild(g);g=document.createElement("div");g.id="lpiframeoverlay"+d;g.style.top="0px";g.style.left="0px";g.style.height="1px";g.style.width="100%";g.style.position="fixed";g.style.backgroundColor="black";g.style.zIndex="1000000099";g.style.visibility="visible";g.className="lpiframeoverlay";var k=window.getComputedStyle(c,null),m=parseInt(k.width)+parseInt(k.marginLeft)+parseInt(k.marginRight),j=lp_gettld_url(punycode.URLToASCII(document.location.href));
"ing.nl"==j&&(!f&&m>e)&&(e=m);if("relative"==k.position){var f=document.body.getBoundingClientRect(),p=0;"ing.nl"!=j&&m<e&&f.left>parseInt(k["margin-left"])+parseInt(k["padding-left"])+parseInt(k["border-left-width"])?p=(e-m)/2:0<parseInt(k["margin-left"])&&(p=parseInt(k["margin-left"]));g.style.marginLeft=-1*p+"px"}c.appendChild(g);c=document.createElement("iframe");c.id="lpiframe"+d;c.src=urlprefix+"overlay.html?"+b;c.style.height=h+"px";c.style.width=e+"px";c.style.border="0px";c.scrolling="no";
g.appendChild(c)}}function slidedownoverlay(a){var b=document.getElementById("lpiframe"+g_iframerand);if(b){var c=parseInt(b.style.height);g_menuopen=!0;c<g_notificationmax&&(b.style.height=c+(10<g_notificationmax-c?10:g_notificationmax-c)+"px",setTimeout(function(){slidedownoverlay(a)},5))}}
function slideupoverlay(a){var b=document.getElementById("lpiframe"+g_iframerand);if(b){var c=parseInt(b.style.height);g_menuopen=!1;c>g_notificationmin&&(b.style.height=c-(10<c-g_notificationmin?10:c-g_notificationmin)+"px",setTimeout(function(){slideupoverlay(a)},5))}}
function hideoverlay(){document.getElementById("lpiframeoverlay"+g_iframerand)&&(document.body.removeChild(document.getElementById("lpiframeoverlay"+g_iframerand)),document.body.removeChild(document.getElementById("lptopspacer"+g_iframerand)),window.removeEventListener("resize",overlayresize,!1))}
function fillcurrent(a){"undefined"!=typeof lpgenpasscurrentpwfields[punycode.URLToASCII(document.location.href)]&&lpgenpasscurrentpwfields[punycode.URLToASCII(document.location.href)]&&(lpgenpasscurrentpwfields[punycode.URLToASCII(document.location.href)].value=a.password)}
function setupffoverrides(a){if("undefined"==typeof g_ff||null==g_ff){try{g_ff=window.top.g_ff}catch(b){g_ff=null}if("undefined"==typeof g_ff||null==g_ff)if(g_ff=a.ff,"undefined"==typeof g_ff||null==g_ff)return;a=LPJSON.parse(g_ff);for(var c in a)if(a.hasOwnProperty(c))for(var d in a[c])a[c].hasOwnProperty(d)&&0==d.indexOf("ff_")&&(lpgscache[c+d]=a[c][d])}}
function checkgenpwfillforms(a){setupffoverrides(a);var b=null;0==g_sites.length&&(g_sites=LPJSON.parse(a.sites));0==g_formfills.length&&(g_formfills=LPJSON.parse(a.formfills));a.nevergenerate||(b=lpCheckGeneratePassword(null,document,!1,window));experimentaloverlay&&(!b&&!a.neverformfill)&&lpCheckFormFill(null,document,!1,!1,null,1,window)}
function evalScriptsInFrame(a,b,c){try{for(var d=0;b.frames&&d<b.frames.length;d++)evalScriptsInFrame(b.frames[d],b.frames[d].document,c)}catch(e){}punycode.URLToASCII(b.location.href);var f=b.readyState;if(c||"loaded"==f||"complete"==f){d=!0;b.body&&"undefined"!=typeof b.body._lpcrdone&&b.forms.length==b.body._lpcrdone.formslength&&b.location.href==b.body._lpcrdone.doclocationhref&&(d=!1);if(b.body&&d)b.body._lpcrdone={formslength:b.forms.length,doclocationhref:b.location.href},hookAllFormSubmits(b);
else if(!c)return;mpw_monitor_init();get_tutorial_flags();reset_forcefill_without_fillbest();for(var g=b.getElementsByTagName("input"),k=0,d=0;d<g.length;d++)"password"==g[d].type&&(k++,!g_lp_page&&"lastpass"===build_id&&g[d].addEventListener("keyup",mpw_monitor,!1));c=c?1:0;verbose_log("send CS->BG from evalScriptsInFrame");sendBG({cmd:"fill",url:punycode.URLToASCII(b.location.href),docid:g_fillreqdocs.length,force:c,numpass:k,docstate:get_docstate(b),docflags:assemble_docflags_object(b)});setupIcons(b,
g_is_specialsite);g_fillreqdocs[g_fillreqdocs.length]=b;"complete"!=f&&window.addEventListener("load",function(){sendBG({cmd:"fill",url:punycode.URLToASCII(b.location.href),docid:g_fillreqdocs.length-1,force:c,numpass:k})},!1)}else setTimeout(function(){evalScriptsInFrame(a,b,0)},100)}var g_lp_page=!1;function mpw_monitor_init(){(g_lp_page=lp_url_is_lastpass())||sendBG({cmd:"initmpw"})}function get_tutorial_flags(){sendBG({cmd:"get_tutorial_flags"})}
function save_tutorial_flags(){sendBG({cmd:"set_tutorial_flags",flags:g_tutorial_flags})}function get_eventTarget(a){var b;a.target&&(b=a.target);a.srcElement&&(b=a.srcElement);3==b.nodeType&&(b=b.parentNode);return b}function mpw_monitor(a){g_lp_page||(a=get_eventTarget(a))&&8<=a.value.length&&sendBG({cmd:"chkmpw",pw:a.value,url:punycode.URLToASCII(document.location.href)})}
function hookAllFormSubmits(a){try{var b=lp_gettld_url(punycode.URLToASCII(a.location.href));"pandora.com"==b&&"function"==typeof WebKitMutationObserver&&(new WebKitMutationObserver(function(b){b.forEach(function(b){for(var c=0;c<b.addedNodes.length;c++)if("SCRIPT"==b.addedNodes[c].tagName)for(var d=a.getElementsByTagName("input"),e=0;e<d.length;e++)"submit"==d[e].type&&"undefined"==typeof d[e].lpsubmitorig&&(d[e].lpsubmitorig=!0,d[e].addEventListener("click",function(){handle_form_submit(this.ownerDocument,
this.form)}),d[e].addEventListener("keyup",function(a){handle_form_text_change(this.ownerDocument,this,this.form,a)}))})})).observe(a.documentElement,{childList:!0,subtree:!0});if("acidtests.org"!=b&&null==a.getElementById("hiddenlpsubmitdiv")&&0<a.forms.length){var c=a.createElement("script");c.style.display="none";c.id="hiddenlpsubmitdiv";a.body&&a.body.appendChild(c);b="for(var lastpass_iter=0; lastpass_iter < document.forms.length; lastpass_iter++){ var lastpass_f = document.forms[lastpass_iter]; ";
g_isopera&&(b+="if (typeof(lastpass_f.id) != 'undefined' && lastpass_f.id == 'dl-form') { continue; } ");run_custom_js(a,b+'if(typeof(lastpass_f.lpsubmitorig2)=="undefined"){ lastpass_f.lpsubmitorig2 = lastpass_f.submit; lastpass_f.submit = function(){ var form=this; var customEvent = document.createEvent("Event"); customEvent.initEvent("lpCustomEvent", true, true); var d = document.getElementById("hiddenlpsubmitdiv"); if (d) {for(var i = 0; i < document.forms.length; i++){ if(document.forms[i]==form){ d.innerText=i; } } d.dispatchEvent(customEvent); }form.lpsubmitorig2(); } } }');
c.addEventListener("lpCustomEvent",function(){handle_form_submit(a,a.forms[parseInt(c.innerText)])})}for(b=0;b<a.forms.length;b++){var d=a.forms[b];if("undefined"==typeof d.lpsubmitorig){"lpmanualform"==d.name&&(g_foundmanual=!0);d.lpsubmitorig=!0;d.addEventListener("submit",function(b){handle_form_submit(a,b.target)},!1);d.addEventListener("keyup",function(b){handle_form_text_change(a,b.target,b.target.form,b)});try{if("function"!=typeof d.elements||g_issafari)for(var e=0;e<d.elements.length;e++){var f=
d.elements[e];if("text"==f.type||"email"==f.type||"tel"==f.type||"password"==f.type)f.addEventListener("change",lpfieldchange,!1),g_initiallysetupff||f.addEventListener("focus",lpfieldfocus,!1)}}catch(g){}}}}catch(k){}}
function handle_form_submit(a,b){try{if("lpwebsiteeventform"==b.name)lpwebsiteevent(a,b);else if("lpmanualform"==b.name)lpmanuallogin(a,b);else{var c=LP_get_form_save(b);if(null==c)return!1;var d=lpCheckCurrentPWField(b),e=d?LP_getname(d):"";"undefined"!=typeof a.LPlpsaveforminfo&&"undefined"==typeof SAVEALLFORMSUBMITS?lpupdatefields(a,c):"undefined"!=typeof a.LPlpsaveforminfoaddurid?lpaddurid(a,c):lpformsubmit(a,c,e)}}catch(f){}}
function lpupdatefields(a,b){sendBG({cmd:"updatefields",url:punycode.URLToASCII(a.location.href),formdata:b,aid:a.LPlpsaveforminfo})}function lpaddurid(a,b){sendBG({cmd:"addurid",url:punycode.URLToASCII(a.location.href),formdata:b,aid:a.LPlpsaveforminfoaddurid})}function lpformsubmit(a,b,c){"undefined"==typeof c&&(c="");sendBG({cmd:"save",url:punycode.URLToASCII(a.location.href),formdata:b,current_pw_field_name:c})}
function lpmanuallogin(a,b){sendBG({cmd:"launchautologin",url:punycode.URLToASCII(a.location.href),aid:b.aid.value})}
function lpwebsiteevent(a,b){sendBG({cmd:"log",msg:"Event: "+b.eventtype.value});"keyplug2web"==b.eventtype.value?(g_form=b,sendBG({cmd:"plug2web",url:punycode.URLToASCII(a.location.href),username:b.eventdata1.value})):"getversion"==b.eventtype.value?(g_form=b,sendBG({cmd:"getversion"})):"setdefaultloginusername"==b.eventtype.value?(g_form=b,sendBG({cmd:"setdefaultloginusername",username:b.eventdata1.value})):"openlogindialog"==b.eventtype.value?(g_form=b,sendBG({cmd:"openlogindialog"})):"getdebuginfo"==
b.eventtype.value?(g_form=b,sendBG({cmd:"getdebuginfo"})):"keyweb2plug"==b.eventtype.value?sendBG({cmd:"web2plug",url:punycode.URLToASCII(a.location.href),key:b.eventdata1.value,username:b.eventdata2.value,rsa:b.eventdata3.value}):"logoff"==b.eventtype.value?sendBG({cmd:"logoff",url:punycode.URLToASCII(a.location.href)}):"login"==b.eventtype.value?(setTimeout(function(){evaluntilfindmanual(!0)},1E3),sendBG({cmd:"login",url:punycode.URLToASCII(a.location.href),wxusername:b.eventdata1.value,keyhex:b.eventdata2.value,
wxhash:b.eventdata3.value,wxsessid:b.eventdata5.value})):"rsadecrypt"==b.eventtype.value?(g_form=b,sendBG({cmd:"rsadecrypt",url:punycode.URLToASCII(a.location.href),sharerpublickeyhex:b.eventdata1.value,sharekeyenchexsig:b.eventdata2.value,sharekeyenchex:b.eventdata3.value})):"rsaencryptmultiple"==b.eventtype.value?(g_form=b,sendBG({cmd:"rsaencryptmultiple",url:punycode.URLToASCII(a.location.href),data:b.eventdata1.value})):"clearcache"==b.eventtype.value?sendBG({cmd:"clearcache",url:punycode.URLToASCII(a.location.href)}):
"getimportdata"==b.eventtype.value?sendBG({cmd:"getimportdata",url:punycode.URLToASCII(a.location.href)}):"recover"==b.eventtype.value?(g_form=b,sendBG({cmd:"recover",url:punycode.URLToASCII(a.location.href),username:b.eventdata1.value})):"recheck"==b.eventtype.value?(evalScriptsInFrame(window,document,!0),sendBG({cmd:"getloggedin"})):"refresh"==b.eventtype.value?(sendBG({cmd:"refresh",url:punycode.URLToASCII(a.location.href),from:b.eventdata1.value,type:b.eventdata2.value}),sendBG({cmd:"getloggedin"})):
"switchidentity"==b.eventtype.value?sendBG({cmd:"switchidentity",url:punycode.URLToASCII(a.location.href),iid:b.eventdata1.value}):"getuuid"==b.eventtype.value?(g_form=b,sendBG({cmd:"getuuid"})):"setupmultifactor"==b.eventtype.value?(b.eventdata3.value="working",g_form=b,sendBG({cmd:"setupmultifactor",type:b.eventdata1.value,username:b.eventdata2.value})):"setupsinglefactor"==b.eventtype.value?("1"!=b.eventdata5.value&&(b.eventdata4.value="working"),g_form=b,sendBG({cmd:"setupsinglefactor",type:b.eventdata1.value,
username:b.eventdata2.value,password:b.eventdata3.value,silent:b.eventdata5.value})):"checkmultifactorsupport"==b.eventtype.value?(g_form=b,sendBG({cmd:"checkmultifactorsupport",type:b.eventdata1.value})):"verifymultifactor"==b.eventtype.value?(b.eventdata2.value="working",g_form=b,sendBG({cmd:"verifymultifactor",eventdata1:b.eventdata1.value})):"multifactorauth"==b.eventtype.value?(b.eventdata3.value="working",g_form=b,sendBG({cmd:"multifactorauth",type:b.eventdata1.value,username:b.eventdata2.value,
challenge:b.eventdata4.value})):"multifactorreprompt"==b.eventtype.value?(b.eventdata3.value="working",g_form=b,sendBG({cmd:"multifactorreprompt",type:b.eventdata1.value,username:b.eventdata2.value,challenge:b.eventdata4.value})):"gohome"==b.eventtype.value?sendBG({cmd:"gohome",email:b.eventdata1.value,sesameotp:b.eventdata2.value,cmd2:b.eventdata3.value}):"lpgologin"==b.eventtype.value?sendBG({cmd:"lpgologin",url:punycode.URLToASCII(a.location.href),data:b.eventdata1.value,session_key:b.eventdata2.value}):
"checkattach"==b.eventtype.value?(g_form=b,sendBG({cmd:"checkattach"})):"getattach"==b.eventtype.value?(g_form=b,sendBG({cmd:"getattach",attachkey:b.eventdata1.value})):"openattach"==b.eventtype.value?sendBG({cmd:"openattach",attachkey:b.eventdata1.value,data:b.eventdata2.value,mimetype:b.eventdata3.value}):"saveattach"==b.eventtype.value?sendBG({cmd:"saveattach",attachkey:b.eventdata1.value,data:b.eventdata2.value,mimetype:b.eventdata3.value}):"setboolpref"==b.eventtype.value?sendBG({cmd:"setboolpref",
name:b.eventdata1.value,value:parseInt(b.eventdata2.value),includeuser:"1"==b.eventdata3.value}):"request_native_messaging"==b.eventtype.value?sendBG({cmd:"request_native_messaging"}):"checkduo"==b.eventtype.value&&sendBG({cmd:"checkduo",code:b.eventdata1.value})}function checkdomain(a,b){for(var c=lp_gettld_url(punycode.URLToASCII(a.location.href)),d=b.split(","),e=0;e<d.length;e++)if(d[e]==c)return!0;return!1}var firstfill=!0,g_passedequivdomains=null;
function fillfield(a){"undefined"==typeof a.allowforce&&console_error("ERROR. Allow force not set, this could lead to security problems");if(0==a.allowforce)try{if(window.location.origin!==window.top.location.origin)return}catch(b){document.hasFocus();return}if("undefined"!=typeof a.domains&&""!=a.domains){g_passedequivdomains={};var c=a.domains.split(","),d;for(d in c)g_passedequivdomains[c[d]]=1}else g_passedequivdomains=null;c=a.docid?g_fillreqdocs[a.docid]:document;null==g_fillreqdocs[a.docid]&&
(c=document);d="undefined"!=typeof a.reqinfo?a.reqinfo:null;var e="undefined"!=typeof a.doconfirm?a.doconfirm:!1,f="undefined"!=typeof a.allowforce?a.allowforce:0,g="undefined"!=typeof a.aid?a.aid:0,k="undefined"!=typeof a.tabid?a.tabid:0,m="undefined"!=typeof a.custom_js?a.custom_js:"",j="undefined"!=typeof a.manualfill?a.manualfill:!1,p="undefined"!=typeof a.username?a.username:"",r="undefined"!=typeof a.password?a.password:"",q="undefined"!=typeof a.onlyfill?a.onlyfill:!1,n="undefined"!=typeof a.automaticallyFill?
parseInt(a.automaticallyFill):1;a.is_launch&&(g_last_launch[g]=(new Date).getTime());g_clearfilledfieldsonlogoff=a.clearfilledfieldsonlogoff;var s="undefined"!=typeof a.from_iframe?a.from_iframe:!1;"undefined"!=typeof c&&"undefined"!=typeof c.LPlpsaveforminfo&&delete c.LPlpsaveforminfo;"undefined"!=typeof c&&"undefined"!=typeof c.LPlpsaveforminfoaddurid&&delete c.LPlpsaveforminfoaddurid;"undefined"==typeof c&&verbose_log("DEBUG: no doc obj defined for docid = "+(null!=a.docid)?a.docid:"null");firstfill&&
(""!=m&&(run_custom_js(c,lpPrepareCustomJS(m,p,r,"1",q,c)),run_custom_js(c,lpPrepareCustomJS(m,p,r,"2",q,c))),is_random_hashstr(a.name)&&("password"==a.type&&!f)&&(f=1));if(do_experimental_popupfill&&"password"==a.type&&(m=LP_getElementByIdOrName(c,a.name),p=LP_getElementByIdOrName(c,a.formname,"FORM"),null==p&&m&&(p=m.form),p&&"FORM"!=p.tagName&&(p=null),p&&(chk_form_ask_generate(c,p)&&ContigPWHack(c,p,m))&&(m=!1,e))){sendBG({cmd:"fillfieldconfirm",manualfill:j,url:punycode.URLToASCII(c.location.href),
result:m,aid:g,docid:a.docid,tabid:k,allowforce:f,automaticallyFill:n,doconfirm:e,from_iframe:s});return}0==a.highlight&&(lpdisableHighlightField=1);verbose_log("filling "+a.name+" with "+("password"==a.type?"<hidden>":a.value));m=a.otherfield;do_experimental_popupfill&&(m=!0);m=LP_setval(c,a.name,a.value,a.checked,a.aid,a.formname,a.type,a.sharedsite,m,n,d,f);verbose_log("filling result = "+m);m&&(g_fillaid=g);firstfill&&(firstfill=!1);e&&sendBG({cmd:"fillfieldconfirm",manualfill:j,url:punycode.URLToASCII(c.location.href),
result:m,aid:g,docid:a.docid,tabid:k,allowforce:f,automaticallyFill:n,doconfirm:e,from_iframe:s})}
function fillbest(a){if("undefined"!=typeof a.domains&&""!=a.domains){g_passedequivdomains={};var b=a.domains.split(","),c;for(c in b)g_passedequivdomains[b[c]]=1}else g_passedequivdomains=null;b=a.docid?g_fillreqdocs[a.docid]:document;c="undefined"!=typeof a.reqinfo?a.reqinfo:null;delete b.LPlpsaveforminfo;delete b.LPlpsaveforminfoaddurid;var d="undefined"!=typeof a.automaticallyFill?parseInt(a.automaticallyFill):1;a.is_launch&&(g_last_launch[a.aid]=(new Date).getTime());g_clearfilledfieldsonlogoff=
a.clearfilledfieldsonlogoff;if(checkdomain(b,a.domains)){0==a.highlight&&(lpdisableHighlightField=1);var e="undefined"!=typeof a.custom_js?a.custom_js:"";""!=e&&run_custom_js(b,lpPrepareCustomJS(e,a.username,a.password,"3",!0,b));LP_setval_bestmatch(b,a.username,a.password,a.aid,a.updatefields,a.sharedsite,a.addurid,d,c)}else console_error("Not filling because tld mismatch between "+punycode.URLToASCII(b.location.href)+" and "+a.domains)}
function submitpwchange(a){var b=document.getElementById(a.fieldid);b&&(LP_getform_for_input(document,b),"undefined"==typeof a.submit_id&&(a.submit_id=""),submit(a))}
function submit(a,b){var c=!1;"undefined"==typeof b||null==b||!b?b=1:3<=b&&(c=!0);var d=a.docid?g_fillreqdocs[a.docid]:document;if(null==LP_last_form||lpIsVisible(LP_last_form))c||null!=LP_last_form?(LP_doSubmit(d,LP_last_form,a.submit_id),d.body&&("undefined"!=typeof a.submit_html&&""!=a.submit_html)&&(d.body.innerHTML+=a.submit_html),"undefined"!=typeof a.submit_js&&""!=a.submit_js&&window.eval(a.submit_js)):(verbose_log("NO ACTIVE FORM, defer submit"),setTimeout(function(){submit(a,b+1);return!1},
1E3))}function fillform(a){LP_to_formfill=LPJSON.parse(a.toformfill);translations=LPJSON.parse(a.translations);LP_form_fill()}function saveall(){var a="";"undefined"!=typeof document.location&&(a=punycode.URLToASCII(document.location.href));sendBG({cmd:"saveall",addsite:1,url:a,formdata:LP_get_form_save_all()})}function LP_truncate_text_if(a){"string"==typeof a&&45E3<a.length&&(a=a.substring(0,45E3));return a}function LP_en(a){return encodeURIComponent(a)}
function LP_getform_for_input(a,b){for(var c=a.getElementsByTagName("form"),d=0;d<c.length;d++)for(var e=c[d].elements,f=0;f<e.length;f++){var g=e[f];if(b==g){if(LP_last_form!=c[d]&&(!LP_last_form||lpIsVisible(g)))LP_last_form=c[d];return c[d]}}}function LP_getactiontld(a){return"undefined"==typeof a||(null==a||"undefined"==typeof a.action||"function"!=typeof a.action.indexOf)||0==a.action.indexOf("javascript:")?"":lp_gettld_url(punycode.URLToASCII(a.action))}
function LP_compare_tlds(a,b){if("string"!=typeof a||"string"!=typeof b)return!1;lpdbg("autofill","LP_compare_tlds : comparing tlds: tld1="+a+" tld2="+b);a=a.toLowerCase();b=b.toLowerCase();if(a==b)return lpdbg("autofill","LP_compare_tlds : tlds are equal"),!0;if(null!=g_passedequivdomains&&"undefined"!=typeof g_passedequivdomains[a]&&"undefined"!=typeof g_passedequivdomains[b])return lpdbg("autofill","LP_compare_tlds : tlds are equal because of equivdomains"),!0;lpdbg("autofill","LP_compare_tlds : tlds are different");
return!1}
function LP_iscrossdomainok(a,b,c,d,e,f){if("undefined"!=typeof c.form&&"undefined"!=typeof b&&""!=b){var g=LP_getactiontld(c.form);if(""!=g&&0<g.indexOf(".")&&-1==g.indexOf("(")&&-1==g.indexOf(")")&&"0.0.0.0"!=g&&!LP_compare_tlds(b,g)){var k=e,k="REDACTED";if(null!=f){var m=f.uniqid;lpdbg("autofill","XDOMAIN:uniqid="+m+" index="+f.index+" time="+f.time+" from="+f.from+" : valset:DIFFERENT TLD : tld="+b+" actiontld="+g+" v.length="+e.length+" type="+d);if(lpIsVisible(c)){if("undefined"==typeof g_allowcrossorigin[b])lpdbg("autofill",
"XDOMAIN:uniqid="+m+" : creating cuz tld didn't exist"),g_allowcrossorigin[b]=[];else if("undefined"==typeof g_allowcrossorigin[b][g])return lpdbg("autofill","XDOMAIN:uniqid="+m+" : tld already created but actiontld not created yet, so sleeping and retrying later"),"calldelayed";"undefined"==typeof g_allowcrossorigin[b][g]?(lpdbg("autofill","XDOMAIN:uniqid="+m+" : showing security prompt cuz we never did it before for actiontld"),lpConfirmYesNo("LASTPASS SECURITY WARNING\n\nDo you allow your credentials for "+
b+" to be sent to "+g+"?\n\nClicking 'OK' will automatically fill your credentials on this page.\nClicking 'Cancel' will prevent your credentials from being automatically filled.")?(lpdbg("autofill","XDOMAIN:uniqid="+m+" : valset:Allowing autofilling because user accepted security prompt to allow fill. Removing neverurl for url="+a.location.href),g_allowcrossorigin[b][g]=!0,sendBG({cmd:"deletenevercrossdomain",url:a.location.href})):(lpdbg("autofill","XDOMAIN:uniqid="+m+" : valset:Skipping autofilling because user refused security prompt to allow fill. Adding neverurl for url="+
a.location.href),g_allowcrossorigin[b][g]=!1,sendBG({cmd:"addnevercrossdomain",url:a.location.href}))):lpdbg("autofill","XDOMAIN:uniqid="+m+" : valset:Using cached value on whether to allow autofill for "+c.name+" val: "+k);if(g_allowcrossorigin[b][g])lpdbg("autofill","XDOMAIN:uniqid="+m+" : valset:Allowing field autofilling because user accepted to allow fill on: "+c.name+" val: "+k);else return lpdbg("autofill","XDOMAIN:uniqid="+m+" : valset:Skipping field autofilling because user refused to allow fill on: "+
c.name+" val: "+k),!1}else return lpdbg("autofill","XDOMAIN:uniqid="+m+" : valset:Skipping field autofilling because field is not visible on: "+c.name+" val: "+k),!1}else lpdbg("autofill","XDOMAIN:valset:NOT DOING ANYTHING CUZ reqinfo IS NULL tld="+b+" actiontld="+g)}else lpdbg("autofill","XDOMAIN:valset:SAME TLD : tld="+b+" actiontld="+g)}else lpdbg("autofill","XDOMAIN:valset:NOT COMPARING TLD : tld="+b);return!0}var fillcache=[],g_allowcrossorigin=[];
function LP_setval(a,b,c,d,e,f,g,k,m,j,p,r){function q(a,b){if(!a||!b)return!1;try{if(lp_gettld_url(a.location.href),document.title&&0==document.title.indexOf("WHMCS")||b.form&&b.form.action&&0<=b.form.action.indexOf("/admin/clientsservices.php"))return False}catch(c){return False}return True}for(var n=lp_gettld_url(punycode.URLToASCII(a.location.href)),s="undefined"==typeof p?null:p,v=a.getElementsByTagName("select-one"==g?"select":"textarea"==g?"textarea":"input"),w=!1,u=!1,C=1;2>=C;C++){var F=
0,A=v.length-1;if(2==C&&(A=-1,m&&!w)){var G=b.match(/^(input|select|textarea)(\d+)$/);G&&(G=parseInt(G[2]),v.length>G&&(F=A=G))}for(;F<=A;F++){var D=v[F];if(!skip_filling_field(D,n)&&(2==C||LP_getname(D)==b))if(!(1==C&&""!=f&&("undefined"==typeof D.form||!D.form||LP_getname(D.form)!=f)))if(w=!0,D.value==c&&"undefined"!=typeof fillcache[b+g]&&("radio"!=D.type||D.checked==d))u=!0;else if(b&&(fillcache[b+g]=1),"password"==D.type||LP_has_textlike_type(D)||"select-one"==D.type){if(D.form&&!lpCheckWarnInsecure(D.form,
D.form.ownerDocument,!1,r))return!1;if("password"==g&&"password"!=D.type)if(!is_watermark(D.className)&&!is_watermark_password(D)&&"imo.im"!=lp_gettld_url(a.location.href))if(ASP_treat_text_as_password(D)){if(q(a,elt))try{D.type="password"}catch(P){}D.focus()}else return!1;else D.type="password",lpdbg("onload","switching field from text to password from LP_setval");k&&"password"==g&&(lpsharedpasswordfills[lpsharedpasswordfills.length]=D);if(j){do_experimental_popupfill&&("password"==D.type&&fieldIsDoublePassword(document,
D)==DOUBLE_TEXT_VISIBLE?0<F&&(u=v[F-1],(G=v[F+1])&&"text"==G.type&&(-1!=G.value.toLowerCase().indexOf("password")||-1!=G.className.toLowerCase().indexOf("password")||-1!=G.id.toLowerCase().indexOf("password")||-1!=G.name.toLowerCase().indexOf("password"))?(G.focus(),g_double_password_hack=!0,verbose_log("executing NEXT double-password hack to get website to activate "+b)):u&&"text"==u.type&&(u.focus(),g_double_password_hack=!0,verbose_log("executing PREV double-password hack to get website to activate "+
b))):"password"==D.type&&fieldIsDoublePassword(document,D)==DOUBLE_SECRET_TEXT_VISIBLE&&F<v.length-2&&(G=v[F+1],"text"==G.type&&(G.focus(),g_double_secret_password_hack=!0,verbose_log("executing double-secret password hack to get website to activate "+b))));"undefined"!=typeof e&&(e&&"undefined"!=typeof g_last_launch&&"undefined"!=typeof g_last_launch[e]&&25E3>=(new Date).getTime()-g_last_launch[e])&&D.focus();u=D.value!=c;if((G=document.getElementsByName("actiontec_lt_top_corner"))&&G.length)D.value=
"",fire_onchange(D,!0,!0);if(D.form&&D.form.id&&("form-login"==D.form.id||"form-nav-login"==D.form.id)&&0<=D.className.indexOf("default-text"))try{D.className=D.className.replace("default-text","")}catch(E){}G=LP_iscrossdomainok(a,n,D,g,c,s);if("calldelayed"==G)return setTimeout(function(){LP_setval(a,b,c,d,e,f,g,k,m,j,p)},300),!0;if(!G)return!1;D.value=c;"undefined"!=typeof g_clearfilledfieldsonlogoff&&0!=g_clearfilledfieldsonlogoff&&("object"!=typeof a.lp_filled_fields&&(a.lp_filled_fields=[]),
a.lp_filled_fields[a.lp_filled_fields.length]=D);u&&("select-one"!=D.type||D.value==c)&&fire_onchange(D)}lphighlightField(D);LP_getform_for_input(a,D);u=!0}else"radio"==D.type?j&&D.value==c&&(u=D.checked!=d,D.checked=d,u&&fire_onchange(D),u=!0):"checkbox"==D.type&&j&&(u=D.checked!=d,D.checked=d,u&&fire_onchange(D),u=!0)}}D&&u&&touch_field_for_conditional_force(D);return u}
function LP_setvaloffset(a,b,c,d,e,f,g,k,m,j){m=!1;var p=lp_gettld_url(punycode.URLToASCII(a.location.href));if(!b)return!1;b=b.elements[c];if(skip_filling_field(b,p))return!1;if("password"==b.type||LP_has_textlike_type(b)||"select-one"==b.type){if(b.form&&!lpCheckWarnInsecure(b.form,b.form.ownerDocument,!1,j)||"password"==e&&"password"!=b.type)return!1;g&&"password"==e&&(lpsharedpasswordfills[lpsharedpasswordfills.length]=b);f&&("undefined"!=typeof k&&(k&&"undefined"!=typeof g_last_launch&&"undefined"!=
typeof g_last_launch[k]&&25E3>=(new Date).getTime()-g_last_launch[k])&&b.focus(),e=b.value!=d,b.value=d,"undefined"!=typeof g_clearfilledfieldsonlogoff&&0!=g_clearfilledfieldsonlogoff&&("object"!=typeof a.lp_filled_fields&&(a.lp_filled_fields=[]),a.lp_filled_fields[a.lp_filled_fields.length]=b),e&&("select-one"!=b.type||b.value==d)&&fire_onchange(b),m=!0);lphighlightField(b);LP_getform_for_input(a,b)}return m}
function LP_force(a,b,c){for(var d=lp_gettld_url(punycode.URLToASCII(document.location.href)),e=document.getElementsByTagName("form"),f=0;f<e.length;f++)for(var g=e[f].elements,k=0;k<g.length;k++){var m=g[k];if(!skip_filling_field(m,d)&&("password"==m.type&&"password"==a||"text"==m.type&&"text"==a||"email"==m.type&&"email"==a||"tel"==m.type&&"tel"==a))return"undefined"!=typeof c&&(c&&"undefined"!=typeof g_last_launch&&"undefined"!=typeof g_last_launch[c]&&25E3>=(new Date).getTime()-g_last_launch[c])&&
m.focus(),a=m.value!=b,m.value=b,"undefined"!=typeof g_clearfilledfieldsonlogoff&&0!=g_clearfilledfieldsonlogoff&&("object"!=typeof doc.lp_filled_fields&&(doc.lp_filled_fields=[]),doc.lp_filled_fields[doc.lp_filled_fields.length]=m),a&&fire_onchange(m),LP_last_form=e[f],e[f]}}
function LP_setval_bestmatch(a,b,c,d,e,f,g,k,m){var j=null,p=0,r=0,q=0,n=null,s=null,v=a.getElementsByTagName("form"),w=!1;if(0==v.length){for(var u=document.getElementsByTagName("input"),w=0;w<u.length;w++){var C=u[w].type;if(("text"==C||"email"==C||"tel"==C)&&(null==n||null==s))n=LP_getname(u[w]);"password"==C&&null==s&&(s=LP_getname(u[w]))}null!=s&&(""===s?verbose_log("no form, no id/name, no joy"):j="")}var F,A=1;do_experimental_popupfill&&A++;C=null;u=[];for(F=0;F<A;F++){do_experimental_popupfill&&
1==F&&verbose_log("retrying setval_bestmatch INPUT field detection; not ignoring hidden fields");for(w=0;w<v.length;w++){for(var G=v[w].elements,D=0,P=0,E=0,J=0,B=0,Z=null,N=null,T=null,ba=0;ba<G.length;ba++){var I=G[ba];if(do_experimental_popupfill&&0==F){if("FIELDSET"==I.tagName)continue;if(!checkIsDisplayed(document,I,0))continue}"text"==I.type&&is_watermark(I.className)&&(I.type="password",lpdbg("onload","switching field from text to password from LP_setval_bestmatch"));if("text"==I.type||"email"==
I.type||"tel"==I.type){if(is_search_field(a,I,!0))continue;T=LP_getname(I);if(0==D||0==P)Z=LP_getname(I),J=ba;D++;do_experimental_popupfill&&g_is_specialsite&&looksLikeUsername(I)&&E++}"password"==I.type&&(g_aspx_hack&&(isASPpage()&&do_experimental_popupfill)&&(0==P&&null==C&&(C=T),u.push(I)),0==P&&(N=LP_getname(I),B=ba),P++)}if(1==P||do_experimental_popupfill&&g_is_specialsite){if(!j||1==D&&1!=p||do_experimental_popupfill&&g_is_specialsite&&1==E)p=D,j=v[w],n=Z,s=N,r=J,q=B,n==s&&(n=s="")}else if(g_aspx_hack&&
isASPpage()&&1<P&&2<=D){null==C&&(C=T);j=v[w];F=2;break}}}p=!0;F=v=!1;j="";(A=g_popupfill_parent)||(A=g_popupfill_parent_last);if(g_aspx_hack&&isASPpage()&&do_experimental_popupfill){C&&(v=w=LP_setval(a,C,b,0,d,LP_getname(j),"",f,null,k,m),do_experimental_popupfill&&A&&A==LP_getElementByIdOrName(a,C)&&w&&(p=!1));for(C=0;C<u.length;C++)F=w=LP_setval(a,LP_getname(u[C]),c,0,d,LP_getname(j),"password",f,null,k,m),do_experimental_popupfill&&A&&A==u[C]&&w&&(p=!1);j=null}null!=j&&(""!=b&&(""!=n?(v=w=LP_setval(a,
n,b,0,d,""==j?"":LP_getname(j),"",f,null,k,m),do_experimental_popupfill&&A&&A==LP_getElementByIdOrName(a,n)&&w&&(p=!1)):(w=LP_setvaloffset(a,j,r,b,"text",k,f,d,m,!0),do_experimental_popupfill&&(A&&A==LP_getElementByIdOrName(a,n))&&w&&(v=!0,p=!1))),""!=s?(F=w=LP_setval(a,s,c,0,d,""==j?"":LP_getname(j),"password",f,null,k,m),do_experimental_popupfill&&A&&A==LP_getElementByIdOrName(a,s)&&w&&(p=!1)):(F=w=LP_setvaloffset(a,j,q,c,"password",k,f,d,m,!0),do_experimental_popupfill&&A&&A==LP_getElementByIdOrName(a,
n)&&w&&(p=!1)),e?a.LPlpsaveforminfo=d:g&&(a.LPlpsaveforminfoaddurid=d));if((!F||!v)&&A&&do_experimental_popupfill)p=!0;p&&do_experimental_popupfill&&ForceFillClicked(document,!0,{u:b,p:c,a:d,sharedsite:f,automaticallyFill:k,reqinfo:m})}var g_lastnofill=0;
function lpCheckWarnInsecure(a,b,c,d){if(a){if(!c&&("undefined"!=typeof lpdontfillautocompleteoff&&lpdontfillautocompleteoff)&&"off"==a.getAttribute("autocomplete"))return d&&(a=(new Date).getTime(),b=g_lastnofill,g_lastnofill=a,a>b+30&&alert(gs("LastPass will not fill some forms because respect autocomplete is enabled in Preferences."))),null;if("undefined"!=typeof lpwarninsecureforms&&lpwarninsecureforms&&(a.method&&"string"==typeof a.method&&"GET"==a.method.toUpperCase()||"string"==typeof a.action&&
0==a.action.indexOf("mailto:"))){if("undefined"==typeof g_warnedUserThisPageLogin)g_warnedUserThisPageLogin=1;else return;if(!confirm(gs("LastPass detected a login form that is insecure.\n\nWould you like to continue?")))return null}}return a}
function lphighlightField(a,b){var c=!1;do_experimental_popupfill&&(c=!0);if(!("undefined"!=typeof lpdisableHighlightField&&lpdisableHighlightField)&&!("text"!=a.type&&"password"!=a.type&&"email"!=a.type&&"tel"!=a.type)){var d=!1;"undefined"==typeof b&&(d=!0,b=do_experimental_popupfill?!1:!0);var e=a.style.width.replace(/px/,"");if(""==e)try{var f=a.ownerDocument.defaultView.getComputedStyle(a,""),e=f.width.replace(/px/,"")}catch(g){}if(!(0<e&&30>e)){e=a.style.backgroundImage;if(""==e)try{f=a.ownerDocument.defaultView.getComputedStyle(a,
""),e=f.backgroundImage}catch(k){}"none"==e&&(e="");""==e?do_experimental_popupfill||(a.style.backgroundImage=b?"url(data:image/gif;base64,"+g_backgroundimagereplace1+")":""):d=!1;f=a.offsetWidth;""==e&&!do_experimental_popupfill&&(a.style.paddingRight=b?"18px":"0px",a.style.backgroundRepeat="no-repeat",a.style.backgroundAttachment="scroll",a.style.backgroundPosition="center right");do_experimental_popupfill||(a.style.border="1px solid #c01f2f",0<f&&(a.style.width=f+"px",a.style.width=2*f-a.offsetWidth+
"px"));c&&do_experimental_popupfill&&create_clickable_icon_on_active_field(document,a);d&&(0<f&&54>f)&&(a.addEventListener("focus",function(){lphighlightField(a,!1)},!1),do_experimental_popupfill?a.addEventListener("blur",function(){lphighlightField(a,!1)},!1):a.addEventListener("blur",function(){lphighlightField(a,!0)},!1));do_experimental_popupfill&&(!1==g_weaseled&&weasel(100),g_weaseled=!0)}}}
function LP_fireEvent(a,b,c){c||(c="HTMLEvents");if(document.createEventObject)return c=document.createEventObject(),a.fireEvent("on"+b,c);c=document.createEvent(c);c.initEvent(b,!0,!0);return!a.dispatchEvent(c)}
function LP_doSubmit(a,b,c){var d=g_is_specialsite,e=0;if(""!=c){var f=a.getElementById(c);f&&verbose_log("picked submit "+f.tagName+" by ID "+c);if(!f){var g=a.getElementsByName(c);g&&0<g.length&&(f=g[0]);f&&verbose_log("picked submit "+f.tagName+" by NAME "+c);1<g.length&&verbose_log("warning: multiple elements with NAME"+c)}if(!f){if(g=a.getElementsByTagName("INPUT"))for(var k=0;k<g.length;k++)g[k].value==c&&(f=g[k]);f&&verbose_log("picked submit INPUT by VALUE "+c)}if(!f){if(g=a.getElementsByTagName("A"))for(k=
0;k<g.length;k++)g[k].href==c&&(f=g[k]);f&&verbose_log("picked submit Anchor by HREF "+c)}f&&(verbose_log("issuing click to "+c),LP_fireEvent(f,"click","MouseEvents"),e=1)}e||(e=LP_InputClickToSubmit(a,b,"submit",d))&&verbose_log("picked an INPUT type=submit after password field and issued clicked to it");e||(e=LP_InputClickToSubmit(a,b,"image",d))&&verbose_log("picked an INPUT type=image after password field and issued clicked to it");e||(e=LP_InputClickToSubmit(a,b,"button",d))&&verbose_log("picked an INPUT type=button after password field and issued clicked to it");
if(!e){verbose_log("fallback submit");if("bankofamerica.com"!=lp_gettld_url(punycode.URLToASCII(a.location.href))&&b&&b.method&&"string"==typeof b.method&&"POST"==b.method.toUpperCase()){try{LP_fireEvent(b,"submit")}catch(m){}try{b.submit()}catch(j){return j.toString()}}b=null;if(g=a.getElementsByTagName("INPUT"))for(k=0;k<g.length;k++)"password"==g[k].type&&(b=g[k]);b&&(b.focus(),a.createEvent("KeyboardEvent").initKeyboardEvent("keypress",!0,!0,lpgettop(),"Enter",0,!1,!1,!1,!1))}}
function LP_get_form_save_all(){for(var a="",b=document.getElementsByTagName("form"),c=[""],d=0;d<b.length;d++)a+=LP_get_form_save(b[d],!0,c);return a+=LP_get_form_save_orphans(c)}
function LP_get_form_save_orphans(a,b,c){null==a&&(a=[]);for(var d="",e="",f=["input","select","textarea"],g=0;g<f.length;g++)for(var k=document.getElementsByTagName(f[g]),m=0;m<k.length;m++)if(null==k[m].form||lp_in_array(LP_getname(k[m]),a)){var j=lp_in_array(LP_getname(k[m]),a)?f[g]+m:null,p="";b&&k[m].form&&(p=LP_getname(k[m].form));e+=LP_get_field_text(p,k[m],{},{},!1,j)}""!=e&&!c&&(e+="0\taction\t\taction\n0\tmethod\t\tmethod\n",d+=e);return d}
function LP_get_form_save(a,b,c,d){var e="",f={value:0},g=a.elements,k={value:!1},m=[],j=[],p=[],r=[];if(b)for(var q=0;q<g.length;q++)"undefined"!=typeof m[g[q].name]&&(p[g[q].name]=!0),m[g[q].name]=!0,"undefined"!=typeof j[g[q].id]&&(r[g[q].id]=!0),j[g[q].id]=!0;for(q=0;q<g.length;q++){if(b||do_experimental_popupfill&&d)if(m=LP_getname(g[q]),""==m||"undefined"!=typeof p[m]&&"undefined"!=typeof r[m]){c[c.length]=m;continue}e+=LP_get_field_text(LP_getname(a),g[q],f,k,b)}if(k.value&&!lpCheckWarnInsecure(a,
a.ownerDocument,!0,!0))return null;e+="0\taction\t"+LP_en(a.action)+"\taction\n";e+="0\tmethod\t"+LP_en(a.method)+"\tmethod\n";return f.value?e:""}
function LP_get_field_text(a,b,c,d,e,f){var g="";f=f?f:LP_getname(b);var k=b.type,m=LP_truncate_text_if(b.value),j=lpIsVisible(b)?"seen":"notseen";if(e&&""==m&&b.name&&""!=b.name)for(var p=document.getElementsByName(b.name),r=0;r<p.length;r++)if(LP_getname(p[r].form)==a&&LP_getname(p[r])==f&&p[r].type==k&&""!=p[r].value)return"";"password"==k&&(d.value=!0);if("password"==k||"text"==k||"email"==k||"tel"==k||"textarea"==k||"hidden"==k){"hidden"!=k&&(c.value=1);if(!e&&lpsavedform==b.form)for(c=0;c<lpsavedformfields.length;c++)if(lpsavedformfields[c].name==
LP_getname(b)){if(lpsavedformfields[c].value!=m)if(""==m||m.match(/^\*+$/))m=lpsavedformfields[c].value;else if(m.length==lpsavedformfields[c].value.length){d=!0;for(r=0;r<m.length;r++)if(m.charAt(r)!=lpsavedformfields[c].value.charAt(r)&&"*"!=m.charAt(r)){d=!1;break}d&&(m=lpsavedformfields[c].value)}break}if("password"==k)for(c=0;c<lpsharedpasswordfills.length;c++)if(lpsharedpasswordfills[c]==b){m="";break}g+=a+"\t"+LP_en(f)+"\t"+LP_en(m)+"\t"+LP_en(k)+"\t"+j+"\n"}else if("checkbox"==k||"radio"==
k)m+=b.checked?"-1":"-0",g+=a+"\t"+LP_en(f)+"\t"+LP_en(m)+"\t"+LP_en(k)+"\t"+j+"\n";else if("select-one"==k||"dropdown"==k||"select-multiple"==k){if("select-multiple"==k){r=m="";for(c=0;c<b.options.length;c++)b.options[c].selected&&(m+=r+LP_en(b.options[c].value),r="|")}else m=0>b.selectedIndex||b.selectedIndex>=b.options.length||"undefined"==typeof b.options[b.selectedIndex]?"":b.options[b.selectedIndex].value;g+=a+"\t"+LP_en(f)+"\t"+LP_en(m)+"\t"+LP_en(k)+"\t"+j+"\n"}else"image"==k&&(m=b.src,g+=
a+"\t"+LP_en(f)+"\t"+LP_en(m)+"\t"+LP_en(k)+"\t"+j+"\n");return g}function evaluntilfindmanual(a){if(!g_foundmanual||"undefined"!=typeof a&&a){a=lpgettop().document;hookAllFormSubmits(a);try{for(var b=0;a.frames&&b<a.frames.length;b++)hookAllFormSubmits(a.frames[b].document)}catch(c){}lpgettop().setTimeout(function(){evaluntilfindmanual()},500)}}
function lpfieldfocus(a){"undefined"!=typeof g_closepop&&g_closepop?(sendBG({cmd:"closepopuptoplevel"}),g_closepop=!1):g_closepop=!0;var b=null;a=a?a.target:this;if(a.form&&null==a.form.getAttribute("_lpchecked")){a.form.setAttribute("_lpchecked","1");try{b="string"==typeof window.top.g_ff?1:0}catch(c){b=0}sendBG({cmd:"checkgenpwfillforms",url:punycode.URLToASCII(document.location.href),hasff:b})}do_experimental_popupfill&&(b=LP_pickFormName(document,a.form),sendBG({cmd:"setpopupfilllastactive",active:b,
activefieldid:LP_getname_or_idx(document,a,LP_GETNAME_FAVOR_ID_OVER_NAME),activefieldtype:a.type}),g_last_field_focused=a)}function formLooksLikeSignup(a){a=a.elements;for(var b=0,c=0,d=0;d<a.length;d++){var e=a[d];"text"==e.type||"email"==e.type?c++:"password"==e.type&&b++}return 2<=b||1==b&&3<=c?!0:!1}
function lpfieldchange(a){a=a?a.target:this;if(a.form&&(lpsavedform=a.form,""!=LP_getname(a)&&("text"==a.type||"email"==a.type||"tel"==a.type||"password"==a.type))){for(var b=!1,c=0;c<lpsavedformfields.length;c++)if(lpsavedformfields[c].formname==LP_getname(lpsavedform)&&lpsavedformfields[c].name==LP_getname(a)){lpsavedformfields[c].value=a.value;b=!0;break}b||(b={},b.name=LP_getname(a),b.type=a.type,b.value=a.value,b.formname=LP_getname(lpsavedform),lpsavedformfields[lpsavedformfields.length]=b)}}
function lpshownotification(a,b){if("undefined"==typeof NONOTIFICATIONS&&!document.getElementById("xml-viewer-style"))try{if(!("context"!=a&&(document.getElementById("lastpass-notification")||document.getElementById("lpiframeoverlay"+g_iframerand)))){var c=lpgettop();if(!("undefined"!=typeof c&&"undefined"!=typeof c.location&&"undefined"!=typeof c.location.href&&c&&window!=c)){var d=document.body;if(d&&!("undefined"!=typeof b.docnum&&g_docnum!=b.docnum)){c=!0;if("fill"==a){if(checkForLoginForm(document)){var e=
getAutoFillArray(document,LPJSON.parse(b.sites));if(1==getcount(e))for(var f in e){c="undefined"==typeof e[f].fields||0==getcount(e[f].fields)||!canFindForm(e[f].fields)||!g_fillaid;break}}else c=!1;null==g_fillaid&&(b.text=gs("Simplify your life: Use LastPass to autofill in this site's login info!"))}if(c){experimentaloverlay||addStyle();(g_isopera||g_ismaxthon)&&!experimentaloverlay&&"fill"==a?run_custom_js(document,showExtTableScript()):run_custom_js(document,showMenuScript());e=null;if(!experimentaloverlay){e=
document.createElement("div");e.id="lastpass-notification";e.style.background=get_notification_bg();e.style.backgroundRepeat="repeat-x";if(g_isopera||g_ismaxthon)e.unselectable="on";var g=window.getComputedStyle(d,null);e.style.marginLeft=-1*(parseInt(g.getPropertyValue("margin-left"))+parseInt(g.getPropertyValue("padding-left"))+parseInt(g.getPropertyValue("border-left-width")))+"px";e.style.marginRight=-1*(parseInt(g.getPropertyValue("margin-right"))+parseInt(g.getPropertyValue("padding-right"))+
parseInt(g.getPropertyValue("border-right-width")))+"px";e.style.marginTop=-1*(parseInt(g.getPropertyValue("margin-top"))+parseInt(g.getPropertyValue("padding-top"))+parseInt(g.getPropertyValue("border-top-width")))+"px"}g="";f=1;var k=g_isopera?"float:left;":"",g='<img width="16" height="16" '+styleprefix+'style="width:16px;height:16px;display:inline;'+k+'" src="data:image/gif;base64,'+g_backgroundimagereplace2+'"/>';"undefined"!=typeof b.icon&&(g="<img "+styleprefix+'style="display:inline;'+k+'" src="'+
b.icon+'"/>');g+='<div id="lastpass-content" '+styleprefix+'style="color:white;'+g_webkit_selectable+'" '+g_opera_selectable+">"+b.text+"</div>";g=experimentaloverlay?g+('<img width="16" height="16" lptype="close" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABYklEQVR42qXTvWrCUBQHcKe+QqfundPFxT0OnTJ0MtChmw/g4NgH6FtkEwoBv8BEA8EYFGswBIIEhFCrU4V26cfp+Qe5RLlKwcAPknty/7mHe1NoNBoy9+yZJWzBcN3J3j0cuGJJt9ul0WhEYRjSfD4nz/Oo0+kQ10J2eSygyL4xcb1eyyAUIV/sWhawHY/HtFqtTvJ9HyGbw4B6r9ejNE3/ZdfOQz4gnkwmtFwuM7VajRRFIcMwyLIs3GNM1HetePmA9yAIKEkSoVqtUrlcBtzv1abTKQJe9wIwGMexgGd8GQ5rvFoEvOUDFtiqKIoEXddJVdWMpml7Ndd1EfCSD3jC3mPPoVKpUKlUItM0AavAmKi3220E1PMBF+zTcRyazWYn9ft9Qsuyc3DLfm3bRs8y2BFM/mFFWQDcsE2r1SKsZjgcZgaDATWbTUxOxSmUBwiPLGEfOzGrH/uZzlIgorP8ASYfyJK1fcokAAAAAElFTkSuQmCC" id="lphideoverlay" '+
styleprefix+'style="width:16px;height:16px;float: right; margin-right: 10px; margin-bottom: -10px;"/> '):g+('<img width="16" height="16" lptype="close" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABYklEQVR42qXTvWrCUBQHcKe+QqfundPFxT0OnTJ0MtChmw/g4NgH6FtkEwoBv8BEA8EYFGswBIIEhFCrU4V26cfp+Qe5RLlKwcAPknty/7mHe1NoNBoy9+yZJWzBcN3J3j0cuGJJt9ul0WhEYRjSfD4nz/Oo0+kQ10J2eSygyL4xcb1eyyAUIV/sWhawHY/HtFqtTvJ9HyGbw4B6r9ejNE3/ZdfOQz4gnkwmtFwuM7VajRRFIcMwyLIs3GNM1HetePmA9yAIKEkSoVqtUrlcBtzv1abTKQJe9wIwGMexgGd8GQ5rvFoEvOUDFtiqKIoEXddJVdWMpml7Ndd1EfCSD3jC3mPPoVKpUKlUItM0AavAmKi3220E1PMBF+zTcRyazWYn9ft9Qsuyc3DLfm3bRs8y2BFM/mFFWQDcsE2r1SKsZjgcZgaDATWbTUxOxSmUBwiPLGEfOzGrH/uZzlIgorP8ASYfyJK1fcokAAAAAElFTkSuQmCC" onmouseover="this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABX0lEQVR42qXTsWrCUBTGcaFroZNTwQfo1KnQN3CQblLIkD2CFIqbaEBQsGAIJBAaCIoQI4JKoeADFDpVmuCsUyE4FJyznJ4vSEjkKgWFH4R7cv/RS8zNZjORO/bMXDZkT+xWdO/hwtV+E02n0wxeg1d2eSxQYD+TyYRc1xXiGSIblhcFPnGT4zgnjUYjRBaHgaLneWSa5r+Mx2NE7tOBvmVZ1O22Y8vlkqIoovl8ToPBANdYS+a2bSPwkg58YNBsNhNBENB2uwVcZ2a9Xg+Bt0yg1WpRrVZLNBoNPBlwnZm1220E3tOBIQKKoiRWqxWFYRhbr9eZWafTQcBIBx4NwyBZlmO+79Nut8OTAd8Ca8kc54WDTwcu2He9XqdyuXySqqqEnyx6D27YLyKlUkkEB4jNISuIAnDNFpqmUaVSIUmSYtVqlXRdx2Z88uJXOeuBuexrr8+Kx/5MZ8kR0Vn+AGczfuZVuZDxAAAAAElFTkSuQmCC\'" onmouseout="this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABYklEQVR42qXTvWrCUBQHcKe+QqfundPFxT0OnTJ0MtChmw/g4NgH6FtkEwoBv8BEA8EYFGswBIIEhFCrU4V26cfp+Qe5RLlKwcAPknty/7mHe1NoNBoy9+yZJWzBcN3J3j0cuGJJt9ul0WhEYRjSfD4nz/Oo0+kQ10J2eSygyL4xcb1eyyAUIV/sWhawHY/HtFqtTvJ9HyGbw4B6r9ejNE3/ZdfOQz4gnkwmtFwuM7VajRRFIcMwyLIs3GNM1HetePmA9yAIKEkSoVqtUrlcBtzv1abTKQJe9wIwGMexgGd8GQ5rvFoEvOUDFtiqKIoEXddJVdWMpml7Ndd1EfCSD3jC3mPPoVKpUKlUItM0AavAmKi3220E1PMBF+zTcRyazWYn9ft9Qsuyc3DLfm3bRs8y2BFM/mFFWQDcsE2r1SKsZjgcZgaDATWbTUxOxSmUBwiPLGEfOzGrH/uZzlIgorP8ASYfyJK1fcokAAAAAElFTkSuQmCC\'" '+
styleprefix+"style=\"width:16px;height:16px;float: right; margin-right: 10px; margin-bottom: -10px;\" onclick=\"this.dispatchEvent(lpcustomEvent); document.getElementById('lastpass-notification').style.display='none'\"/> ");k=0;"fill"==a?g+=createFillMenus(b):"add"==a?(g+=createAddButtons(b),k=1,e&&(e.style.background=get_notification_add_bg())):"generate"==a?(g+=createGenerateButtons(b),k=2):"formfill"==a?(g+=createFormFillButtons(b),k=3):"change"==a?g+=createChangeButtons(b):"error"==a?(g+=createErrorButtons(b),
"undefined"==typeof b.yellow||!b.yellow?e&&(e.style.background="#ff0000"):f=2):"basicauth"==a?g+=createBasicAuthButtons(b):"context"==a&&(g=createContextMenu(b),f="context");e&&(e.innerHTML=g+"</div>");(g_isopera||g_ismaxthon)&&!experimentaloverlay&&"fill"==a?run_custom_js(document,"document.addEventListener('mouseup', function(e){ if(typeof(closelpmenus)=='function') { if (!chk_should_close_exttable(e)) {  return; } closelpmenus(); } }, false)"):run_custom_js(document,"document.addEventListener('mouseup', function(e){ if(typeof(closelpmenus)=='function'){closelpmenus();}}, false)");
e&&d.insertBefore(e,d.firstChild);(g_isopera||g_ismaxthon)&&(!experimentaloverlay&&"fill"==a)&&initialize_sorttable();curr_notification_type=a;if(do_experimental_popupfill&&("fill"==a||"formfill"==a))if(d="","fill"==a||"formfill"==a)if((checkForLoginForm(document)||checkDocumentForLoginOrphans(document))&&"undefined"!=typeof b.sites){var d=d+createPopupFill(document,b),m=getAutoFillArray(document,LPJSON.parse(b.sites));g_autofillsites=m;g_popupfill_rows=getcount(m);verbose&&L("["+g_docnum+"]g_popupfill_rows = "+
g_popupfill_rows);sendBG({cmd:"savepopupfillhtml",text:d,rowtype:"sites"});setTimeout(function(){doc_create_clickable_icons(document,"",SHOULD_DO_ALWAYS)},10)}if(experimentaloverlay){var j={document_location_href:punycode.URLToASCII(document.location.href),g_fillaid:g_fillaid,from:k,type:a};"undefined"!=typeof b.notificationdata&&(j.notificationdata=b.notificationdata);sendBG({cmd:"savenotificationhtml",text:g,extra:LPJSON.stringify(j)});showoverlay(b,"&"+a+"="+f)}}else if("undefined"==typeof lpNotificationsAfterClick||
!lpNotificationsAfterClick)k="string"==typeof window.top.g_ff?1:0,sendBG({cmd:"checkgenpwfillforms",url:punycode.URLToASCII(document.location.href),hasff:k})}}}}catch(p){console_log("lpshownotification: "+p.message)}}
function lpclosenotification(a,b){if((document.getElementById("lastpass-notification")||document.getElementById("lpiframeoverlay"+g_iframerand))&&(a||"error"!=curr_notification_type)&&(!b||"error"==curr_notification_type))document.getElementById("lastpass-notification")?document.body.removeChild(document.getElementById("lastpass-notification")):document.body.removeChild(document.getElementById("lpiframeoverlay"+g_iframerand)),curr_notification_type=""}
function sitesMatchTLD(a){var b=lp_gettld_url(punycode.URLToASCII(document.location.href)),c;for(c in a)if(b==lp_gettld_url(a[c].url))return!0;return!1}
function createFillMenus(a){var b="";a=getAutoFillArray(document,LPJSON.parse(a.sites));var c=getcount(a),d=getAutoLoginArray(a),e=getcount(d),b=experimentaloverlay?b+("<button type='button' id='lpnever' class='lpbutton' value='"+gs("Never...")+"'>"+gs("Never...")+"</button>"):b+("<button type='button' id='lpnever' class='lpbutton' value='"+gs("Never...")+"' onclick='lpshowmenudiv(\"never\");return false;'>"+gs("Never...")+"</button>");if(1==c)for(var f in a)b=experimentaloverlay?b+("<button lptype='autofillsingle' aid=\""+
a[f].aid+"\" type='button' id='lpautofill' class='lpbutton' value='"+gs("AutoFill")+"'>"+gs("AutoFill")+"</button>"):b+("<button lptype='autofillsingle' aid=\""+a[f].aid+"\" type='button' id='lpautofill' class='lpbutton' value='"+gs("AutoFill")+"' onclick='this.dispatchEvent(lpcustomEvent);'>"+gs("AutoFill")+"</button>");else b=experimentaloverlay?b+("<button id='lpautofill' class='lpbutton' value='"+gs("AutoFill")+" ("+c+")'>"+gs("AutoFill")+" ("+c+")</button>"):b+("<button id='lpautofill' class='lpbutton' value='"+
gs("AutoFill")+" ("+c+")' onclick='lpshowmenudiv(\"autofill\")'>"+gs("AutoFill")+" ("+c+")</button>");if(1==e)for(f in d)b=experimentaloverlay?b+("<button lptype='autologinsingle' aid=\""+d[f].aid+"\" type='button' id='lpautologin' class='lpbutton' value='"+gs("AutoLogin")+"'>"+gs("AutoLogin")+"</button>"):b+("<button lptype='autologinsingle' aid=\""+d[f].aid+"\" type='button' id='lpautologin' class='lpbutton' value='"+gs("AutoLogin")+"' onclick='this.dispatchEvent(lpcustomEvent);'>"+gs("AutoLogin")+
"</button>");else 0<e&&(b=experimentaloverlay?b+("<button id='lpautologin' class='lpbutton' value='"+gs("AutoLogin")+" ("+e+")'>"+gs("AutoLogin")+" ("+e+")</button>"):b+("<button id='lpautologin' class='lpbutton' value='"+gs("AutoLogin")+" ("+e+")' onclick='lpshowmenudiv(\"autologin\")'>"+gs("AutoLogin")+" ("+e+")</button>"));0<e&&(b+=createMenu("autologin",d,e));b+=createMenu("autofill",a,c);b+=createNeverMenu(null!=g_fillaid);experimentaloverlay||document.addEventListener("lpCustomEventMenu",function(a){var b=
a.srcElement.getAttribute("lptype");"autologin"==b?(sendBG({cmd:"autologinaid",aid:a.srcElement.getAttribute("aid")}),document.getElementById("lppopupautologin").style.display="none"):"autologinsingle"==b?(sendBG({cmd:"autologinaid",aid:a.srcElement.getAttribute("aid")}),document.getElementById("lastpass-notification").style.display="none"):"autofill"==b?(sendBG({cmd:"autofillaid",aid:a.srcElement.getAttribute("aid")}),document.getElementById("lppopupautofill").style.display="none"):"autofillsingle"==
b?(sendBG({cmd:"autofillaid",aid:a.srcElement.getAttribute("aid")}),document.getElementById("lastpass-notification").style.display="none"):"neverautofill"==b||"neverpage"==b||"neverdomain"==b?(sendBG({cmd:b,url:punycode.URLToASCII(document.location.href),aid:g_fillaid}),document.getElementById("lppopupnever").style.display="none",document.getElementById("lastpass-notification").style.display="none"):"autofilltabsearchboxreset"==b?clear_searchbox("autofill"):"autologintabsearchboxreset"==b?clear_searchbox("autologin"):
"autologintabsearchbox"==b?dofilter("autologin"):"autofilltabsearchbox"==b&&dofilter("autofill")},!1);return b}
function createAddButtons(a){var b="",b=experimentaloverlay?b+("<button type='button' lptype='notnow' id='lpnotnow' class='lpbutton' value='"+gs("Not Now")+"'>"+gs("Not Now")+"</button>"):b+("<button type='button' lptype='notnow' id='lpnotnow' class='lpbutton' value='"+gs("Not Now")+"' onclick='this.dispatchEvent(lpcustomEvent);'>"+gs("Not Now")+"</button>"),b=experimentaloverlay?b+("<button type='button' id='lpnever' class='lpbutton' value='"+gs("Never...")+"'>"+gs("Never...")+"</button>"):b+("<button type='button' id='lpnever' class='lpbutton' value='"+
gs("Never...")+"' onclick='lpshowmenudiv(\"never\");'>"+gs("Never...")+"</button>"),b=experimentaloverlay?b+("<button type='button' lptype='addsite' id='lpaddsite' class='lpbutton' value='"+gs("Save Site")+"'>"+gs("Save Site")+"</button>"):b+("<button type='button' lptype='addsite' id='lpaddsite' class='lpbutton' value='"+gs("Save Site")+"' onclick='this.dispatchEvent(lpcustomEvent);'>"+gs("Save Site")+"</button>"),b=b+createNeverMenu(0,1);experimentaloverlay||document.addEventListener("lpCustomEventMenu",
function(b){b=b.srcElement.getAttribute("lptype");if("addsite"==b)sendBG({cmd:"savethesite",notificationdata:a.notificationdata}),document.getElementById("lastpass-notification").style.display="none";else if("notnow"==b)sendBG({cmd:"notnow",notificationdata:a.notificationdata,tld:lp_gettld_url(punycode.URLToASCII(document.location.href))}),document.getElementById("lastpass-notification").style.display="none";else if("close"==b)sendBG({cmd:"clearnotification"});else if("neverpage"==b||"neverdomain"==
b){var d=LPJSON.parse(a.notificationdata).url;sendBG({cmd:b,url:d,fromsave:"1",notificationdata:a.notificationdata,tld:lp_gettld_url(punycode.URLToASCII(document.location.href))});document.getElementById("lppopupnever").style.display="none";document.getElementById("lastpass-notification").style.display="none"}},!1);return b}
function createChangeButtons(a){var b="",b=experimentaloverlay?b+("<button type='button' lptype='savenewsite' id='lpsavenewsite' class='lpbutton' value='"+gs("Save New Site")+"'>"+gs("Save New Site")+"</button>"):b+("<button type='button' lptype='savenewsite' id='lpsavenewsite' class='lpbutton' value='"+gs("Save New Site")+"' onclick='this.dispatchEvent(lpcustomEvent);'>"+gs("Save New Site")+"</button>"),b=experimentaloverlay?b+("<button type='button' lptype='confirm' id='lpconfirm' class='lpbutton' value='"+
gs("Confirm")+"'>"+gs("Confirm")+"</button>"):b+("<button type='button' lptype='confirm' id='lpconfirm' class='lpbutton' value='"+gs("Confirm")+"' onclick='this.dispatchEvent(lpcustomEvent);'>"+gs("Confirm")+"</button>");experimentaloverlay||document.addEventListener("lpCustomEventMenu",function(b){b=b.srcElement.getAttribute("lptype");"savenewsite"==b?(sendBG({cmd:"savethesite",notificationdata:a.notificationdata}),document.getElementById("lastpass-notification").style.display="none"):"confirm"==
b?(sendBG({cmd:"changepw",notificationdata:a.notificationdata}),document.getElementById("lastpass-notification").style.display="none"):"close"==b&&sendBG({cmd:"clearnotification"})},!1);return b}
function createErrorButtons(a){var b="";a.notificationdata.multifactor_disable_url&&(b=experimentaloverlay?b+("<button type='button' lptype='disablebtn' id='lpdisablebtn' class='lpbutton' value='"+gs("Disable Multifactor Authentication")+"'>"+gs("Disable Multifactor Authentication")+"</button>"):b+("<button type='button' lptype='disablebtn' id='lpdisablebtn' class='lpbutton' value='"+gs("Disable Multifactor Authentication")+"' onclick='this.dispatchEvent(lpcustomEvent);'>"+gs("Disable Multifactor Authentication")+
"</button>"));a.notificationdata.showCreateAccount&&(b=experimentaloverlay?b+("<button type='button' lptype='createaccountbtn' id='lpcreateaccountbtn' class='lpbutton' value='"+gs("Create Account")+"'>"+gs("Create Account")+"</button>"):b+("<button type='button' lptype='createaccountbtn' id='lpcreateaccountbtn' class='lpbutton' value='"+gs("Create Account")+"' onclick='this.dispatchEvent(lpcustomEvent);'>"+gs("Create Account")+"</button>"));a.notificationdata.custombutton&&a.notificationdata.customaction?
b=experimentaloverlay?b+("<button type='button' lptype='custombtn' id='lpcustombtn' class='lpbutton' value='"+gs(a.notificationdata.custombutton)+"'>"+gs(a.notificationdata.custombutton)+"</button>"):b+("<button type='button' lptype='custombtn' id='lpcustombtn' class='lpbutton' value='"+gs(a.notificationdata.custombutton)+"' onclick='this.dispatchEvent(lpcustomEvent);'>"+gs(a.notificationdata.custombutton)+"</button>"):a.notificationdata.showLogin&&(b=experimentaloverlay?b+("<button type='button' lptype='tryagainbtn' id='lptryagainbtn' class='lpbutton' value='"+
gs("Try Again")+"'>"+gs("Try Again")+"</button>"):b+("<button type='button' lptype='tryagainbtn' id='lptryagainbtn' class='lpbutton' value='"+gs("Try Again")+"' onclick='this.dispatchEvent(lpcustomEvent);'>"+gs("Try Again")+"</button>"));a.notificationdata.showFeedback&&(b=experimentaloverlay?b+("<button type='button' lptype='feedbackbtn' id='lpfeedbackbtn' class='lpbutton' value='"+gs("Feedback")+"'>"+gs("Feedback")+"</button>"):b+("<button type='button' lptype='feedbackbtn' id='lpfeedbackbtn' class='lpbutton' value='"+
gs("Feedback")+"' onclick='this.dispatchEvent(lpcustomEvent);'>"+gs("Feedback")+"</button>"));experimentaloverlay||document.addEventListener("lpCustomEventMenu",function(b){b=b.srcElement.getAttribute("lptype");sendBG({cmd:b,notificationdata:a.notificationdata});document.getElementById("lastpass-notification").style.display="none"},!1);return b}
function createBasicAuthButtons(a){var b="",b=experimentaloverlay?b+("<button type='button' lptype='basicauthneverbtn' id='lpbasicauthneverbtn' class='lpbutton' value='"+gs("Never Show Again")+"'>"+gs("Never Show Again")+"</button>"):b+("<button type='button' lptype='basicauthneverbtn' id='lpbasicauthneverbtn' class='lpbutton' value='"+gs("Never Show Again")+"' onclick='this.dispatchEvent(lpcustomEvent);'>"+gs("Never Show Again")+"</button>"),c=1==a.needbinary?gs("Install"):gs("More Information"),
b=experimentaloverlay?b+("<button type='button' lptype='basicauthmoreinfobtn' id='lpbasicauthmoreinfobtn' class='lpbutton' value='"+c+"'>"+c+"</button>"):b+("<button type='button' lptype='basicauthmoreinfobtn' id='lpbasicauthmoreinfobtn' class='lpbutton' value='"+c+"' onclick='this.dispatchEvent(lpcustomEvent);'>"+c+"</button>");experimentaloverlay||document.addEventListener("lpCustomEventMenu",function(b){b=b.srcElement.getAttribute("lptype");sendBG({cmd:b,notificationdata:a.notificationdata});document.getElementById("lastpass-notification").style.display=
"none"},!1);return b}
function createGenerateButtons(a){var b="",b=experimentaloverlay?b+("<button type='button' id='lpnever' class='lpbutton' value='"+gs("Never...")+"'>"+gs("Never...")+"</button>"):b+("<button type='button' id='lpnever' class='lpbutton' value='"+gs("Never...")+"' onclick='lpshowmenudiv(\"never\");'>"+gs("Never...")+"</button>"),b=b+createNeverMenu(0,2),b=experimentaloverlay?b+("<button type='button' lptype='generate' id='lpgenerate' class='lpbutton' value='"+gs("Generate")+"'>"+gs("Generate")+"</button>"):
b+("<button type='button' lptype='generate' id='lpgenerate' class='lpbutton' value='"+gs("Generate")+"' onclick='this.dispatchEvent(lpcustomEvent);'>"+gs("Generate")+"</button>");if(a.extra3){var c=getcount(g_sites);0<c&&(b=experimentaloverlay?b+("<button type='button' id='lpfillcurrent' class='lpbutton' value='"+gs("Fill Current")+" ("+c+")'>"+gs("Fill Current")+" ("+c+")</button>"):b+("<button type='button' id='lpfillcurrent' class='lpbutton' value='"+gs("Fill Current")+" ("+c+")' onclick='lpshowmenudiv(\"fillcurrent\");'>"+
gs("Fill Current")+" ("+c+")</button>"),b+=createMenu("fillcurrent",g_sites,c))}experimentaloverlay&&a.extra2&&(c=getcount(g_formfills),0<c&&(alwayschooseprofilecc?b=experimentaloverlay?b+("<button type='button' lptype='chooseprofilecc' id='lpchooseprofilecc' class='lpbutton' value='"+gs("Fill Form")+" ("+c+")'>"+gs("Fill Form")+" ("+c+")</button>"):b+("<button type='button' lptype='chooseprofilecc' id='lpchooseprofilecc' class='lpbutton' value='"+gs("Fill Form")+" ("+c+")' onclick='this.dispatchEvent(lpcustomEvent);'>"+
gs("Fill Form")+" ("+c+")</button>"):(b=experimentaloverlay?b+("<button type='button' id='lpfillform' class='lpbutton' value='"+gs("Fill Form")+" ("+c+")'>"+gs("Fill Form")+" ("+c+")</button>"):b+("<button type='button' id='lpfillform' class='lpbutton' value='"+gs("Fill Form")+" ("+c+")' onclick='lpshowmenudiv(\"fillform\");'>"+gs("Fill Form")+" ("+c+")</button>"),b+=createMenu("fillform",g_formfills,getcount(g_formfills)))));createGenerateFormFillListener();return b}
function createFormFillButtons(){var a="",a=experimentaloverlay?a+("<button type='button' id='lpnever' class='lpbutton' value='"+gs("Never...")+"'>"+gs("Never...")+"</button>"):a+("<button type='button' id='lpnever' class='lpbutton' value='"+gs("Never...")+"' onclick='lpshowmenudiv(\"never\");'>"+gs("Never...")+"</button>"),a=a+createNeverMenu(0,3);alwayschooseprofilecc?a=experimentaloverlay?a+("<button type='button' lptype='chooseprofilecc' id='lpchooseprofilecc' class='lpbutton' value='"+gs("Fill Form")+
" ("+getcount(g_formfills)+")'>"+gs("Fill Form")+" ("+getcount(g_formfills)+")</button>"):a+("<button type='button' lptype='chooseprofilecc' id='lpchooseprofilecc' class='lpbutton' value='"+gs("Fill Form")+" ("+getcount(g_formfills)+")' onclick='this.dispatchEvent(lpcustomEvent);'>"+gs("Fill Form")+" ("+getcount(g_formfills)+")</button>"):(a=experimentaloverlay?a+("<button type='button' id='lpfillform' class='lpbutton' value='"+gs("Fill Form")+" ("+getcount(g_formfills)+")'>"+gs("Fill Form")+" ("+
getcount(g_formfills)+")</button>"):a+("<button type='button' id='lpfillform' class='lpbutton' value='"+gs("Fill Form")+" ("+getcount(g_formfills)+")' onclick='lpshowmenudiv(\"fillform\");'>"+gs("Fill Form")+" ("+getcount(g_formfills)+")</button>"),a+=createMenu("fillform",g_formfills,getcount(g_formfills)));createGenerateFormFillListener();return a}
function createGenerateFormFillListener(){experimentaloverlay||document.addEventListener("lpCustomEventMenu",function(a){var b=a.srcElement.getAttribute("lptype");if("fillform"!=b&&"addprofile"!=b)if("addcreditcard"==b)sendBG({cmd:"addcreditcard"}),document.getElementById("lppopupfillform").style.display="none";else if("clearforms"==b)sendBG({cmd:"clearforms"}),document.getElementById("lppopupfillform").style.display="none";else if("chooseprofilecc"!=b)if("fillcurrent"==b)sendBG({cmd:"fillcurrentaid",
aid:a.srcElement.getAttribute("aid")}),document.getElementById("lppopupfillcurrent").style.display="none";else if("generate"==b)sendBG({cmd:"generate"}),!document.getElementById("lppopupfillform")&&!document.getElementById("lppopupfillcurrent")&&(document.getElementById("lastpass-notification").style.display="none");else if("neverpage"==b||"neverdomain"==b)a={cmd:b,url:punycode.URLToASCII(document.location.href)},document.getElementById("lpgenerate")?a.fromgenerate=1:a.fromformfill=1,sendBG(a),document.getElementById("lppopupnever").style.display=
"none",document.getElementById("lastpass-notification").style.display="none"},!1)}function getAutoLoginArray(a){var b=[],c;for(c in a)"undefined"==typeof a[c].fields||(0==getcount(a[c].fields)||!canFindForm(a[c].fields))||(b[c]=a[c]);return b}
function canFindForm(a){for(var b=document.getElementsByTagName("form"),c=0;c<b.length;c++){var d=[],e;for(e in a)if("text"==a[e].type||"password"==a[e].type||"email"==a[e].type||"tel"==a[e].type)d[a[e].type+a[e].name]=0;var f=!1,g=b[c].elements,k=[];for(e=0;e<g.length;e++){var m=g[e];if("text"==m.type||"email"==m.type||"tel"==m.type||"password"==m.type)"undefined"!=typeof d[m.type+m.name]&&(d[m.type+m.name]=1),"password"==m.type&&(f=!0),k[m.type+m.name]=0}for(e in a)if("text"==a[e].type||"password"==
a[e].type||"email"==a[e].type||"tel"==a[e].type)"undefined"!=typeof k[a[e].type+a[e].name]&&(k[a[e].type+a[e].name]=1);if(f){f=!0;for(e in d)if(0==d[e]){f=!1;break}d=!0;for(e in k)if(0==k[e]){d=!1;break}if(f||d)return!0}}return!1}
function createMenu(a,b,c){var d="",e="",f=0,g=0,k=!1,m=!1,j=c;if("fillform"==a){0<c&&j++;var j=j+3,p;for(p in g_formfills)0==g_formfills[p].profiletype&&(k=!0),""!=g_formfills[p].ccnum&&(m=!0);k&&m&&j++}"undefined"==typeof g_doexttable&&(g_doexttable=1);if(g_doexttable&&("autofill"==a||"autologin"==a))f=1,j++;var r="",q="";if(f){var e="font-size: 11px;font-family: Helvetica Neue,Helvetica,Arial,sans-serif;",n=LP_measureText(document,"0123ABCDEFGHIJKLMNOPQRSTUVWXYZ",null,e,document.getElementById("lpiframeoverlay"+
g_iframerand));315<n.width?(r=2*n.width,q="px",g=r,r>document.width&&(r="100",q="%",g=document.width)):(e=LP_measureText(document,gs("Last Touch").toUpperCase(),null,e,document.getElementById("lpiframeoverlay"+g_iframerand)),120<e.width&&(r=410+parseInt(e.width/2),q="px",g=r,r>document.width&&(r="100",q="%",g=document.width)))}experimentaloverlay?e=7>j?" "+styleprefix+"style='height:"+24*j+"px; width:"+r+q+";'":" "+styleprefix+"style='height: 170px; overflow:auto; width:"+r+q+";'":(e=12>j?" "+styleprefix+
"style='height:"+24*j+"px;":" "+styleprefix+"style='",""!=r&&(e=e+" width:"+r+q+";"),e+="'");if(1==f){d+="<div "+g_opera_selectable+"id='lppopup"+a+"' class='lppopupextended' "+e+">";8<j&&(d=d+"<TABLE WIDTH='100%' ><TR CLASS='lppopupsearchbox' WIDTH='100%' ID='"+(a+"tabfooter'> <TD ID='"),d+=a+"tabsearchlabel'>",d+=gs(a)+" "+gs("Filter")+": <INPUT ID='",experimentaloverlay?(d+=a+"tabsearchbox' TYPE=\"TEXT\"><IMG ID='",d+=a+"tabsearchboxreset' ALT='reset'></TD>"):(d+=a+'tabsearchbox\' TYPE="TEXT" lptype="'+
a+'tabsearchbox" ONKEYUP="this.dispatchEvent(lpcustomEvent);"><IMG ID=\'',d+=a+"tabsearchboxreset' ALT='reset' SRC='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABX0lEQVR42qXTsWrCUBTGcaFroZNTwQfo1KnQN3CQblLIkD2CFIqbaEBQsGAIJBAaCIoQI4JKoeADFDpVmuCsUyE4FJyznJ4vSEjkKgWFH4R7cv/RS8zNZjORO/bMXDZkT+xWdO/hwtV+E02n0wxeg1d2eSxQYD+TyYRc1xXiGSIblhcFPnGT4zgnjUYjRBaHgaLneWSa5r+Mx2NE7tOBvmVZ1O12Y8vlkqIoovl8ToPBANdYS+a2bSPwkg58YNBsNhNBENB2uwVcZ2a9Xg+Bt0yg1WpRrVZLNBoNPBlwnZm1220E3tOBIQKKoiRWqxWFYRhbr9eZWafTQcBIBx4NwyBZlmO+79Nut8OTAd8Ca8kc54WDTwcu2He9XqdyuXySqqqEnyx6D27YLyKlUkkEB4jNISuIAnDNFpqmUaVSIUmSYtVqlXRdx2Z88uJXOeuBuexrr8+Kx/5MZ8kR0Vn+AGczfuZVuZDxAAAAAElFTkSuQmCC' lptype=\""+
a+'tabsearchboxreset" ONCLICK="this.dispatchEvent(lpcustomEvent);"></TD>'));var s=0,v=0,r=j=null;for(p in b)"fillform"==a?"undefined"!=typeof b[p].decprofilename&&b[p].decprofilename.length>s&&(s=b[p].decprofilename.length,j=p):"undefined"!=typeof b[p].name&&b[p].name.length>s&&(s=b[p].name.length,j=p),"undefined"!=typeof b[p].useusername&&b[p].useusername.length>v&&(v=b[p].useusername.length+2,r=p);gs("USERNAME").length+2>v&&(gs("USERNAME"),r=-1);var w=v=s=0;if(document.body){var e="font-size: 11px;font-family: Helvetica Neue,Helvetica,Arial,sans-serif;",
u;"fillform"==a?null!=j&&"undefined"!=typeof b[j].decprofilename&&(u=LP_measureText(document,ofa_pretty_print_tabular_formfill(b[p].decprofilename),null,e,document.getElementById("lpiframeoverlay"+g_iframerand))):null!=j&&"undefined"!=typeof b[j].name&&(u=LP_measureText(document,ofa_pretty_print_tabular_sitename(b[p].name),null,e,document.getElementById("lpiframeoverlay"+g_iframerand)));v=0<=r?LP_measureText(document,ofa_pretty_print_tabular_username(b[r].useusername),null,e,document.getElementById("lpiframeoverlay"+
g_iframerand)):LP_measureText(document,ofa_pretty_print_tabular_username(gs("USERNAME")+"   "),null,e,document.getElementById("lpiframeoverlay"+g_iframerand));w=LP_measureText(document,gs("Last Touch").toUpperCase()+"  ",null,e,document.getElementById("lpiframeoverlay"+g_iframerand));u.width+=5;v.width+=5;w.width+=5;e=400;g&&(e=g);g=20;g_isopera&&(g=40);u.width+v.width+w.width+g<e||(s=e-v.width-w.width-g);v=v.width;w=w.width;g_isopera&&(v+=10,w+=10)}d+="</TR>\n";d+="</TABLE>\n";d+="<TABLE id='"+a+
"tab' class='sortable' width='100%'>\n";d+="<THEAD><TR ID='";d=0<s?d+(a+"tabheader'><TH "+styleprefix+'style="width:'+s+"px; min-width:"+s+"px; max-width:"+s+'px;">'):d+(a+"tabheader'><TH "+styleprefix+'style="min-width:6em;">');d="fillform"==a?d+gs("Form Fill Profiles").toUpperCase():d+gs("SITE").toUpperCase();d=0<v?d+("</TH><TH "+styleprefix+'style="width:'+v+"px; min-width:6em; max-width:"+v+'px;">'):d+("</TH><TH "+styleprefix+'style="min-width:6em;">');d=0<w?d+(gs("Username").toUpperCase()+"</TH><TH "+
styleprefix+'style="width:'+w+"px; min-width:6em; max-width:"+w+'px;">'):d+(gs("Username").toUpperCase()+"</TH><TH "+styleprefix+'style="min-width:6em;">');d+=gs("Last Touch").toUpperCase()+"</TH></TR></THEAD>\n";d+="<TBODY>\n"}else d+="<div "+g_opera_selectable+"id='lppopup"+a+"' class='lppopup' "+e+"><table width='100%'>";for(p in b)g="","fillform"!=a&&""!=b[p].useusername&&(g=" ("+ofa(b[p].useusername)+")"),u="fillform"==a?"ffid":"aid",1==f?(g="","undefined"!=typeof b[p].last_touch&&(g=ofa_pretty_print_tabular_last_touch(b[p].last_touch)),
e="","undefined"!=typeof b[p].useusername&&(e=ofa_pretty_print_tabular_username(b[p].useusername)),j="","fillform"==a?"undefined"!=typeof b[p].decprofilename&&(j=ofa_pretty_print_tabular_formfill(b[p].decprofilename)):"undefined"!=typeof b[p].name&&(j=ofa_pretty_print_tabular_sitename(b[p].name,s)),experimentaloverlay?(d+="<tr id='lp"+a+b[p][u]+"'><td "+g_opera_selectable,d=s?d+(" "+styleprefix+'style="width:'+s+"px; max-width:"+s+'px;" >&nbsp;'+j+"</TD>"):d+(" "+styleprefix+'style="min-width:6em; " >&nbsp;'+
j+"</TD>"),d+="<TD "+styleprefix+'style="width:'+v+"px; min-width:6em; max-width:"+v+'px;">'+e+"</TD>"):(d+="<tr lptype='"+a+"' id='lp"+a+b[p][u]+"' ONCLICK='this.dispatchEvent(lpcustomEvent);' ",d+=u+'="'+b[p][u]+'"',d=s?d+("><td "+g_opera_selectable+" "+styleprefix+'style="width:'+s+"px; min-width:6em; max-width:"+s+'px; " >&nbsp;'+j):d+("><td "+g_opera_selectable+" "+styleprefix+'style="min-width:6em; " >&nbsp;'+j),d+="</TD><TD  "+styleprefix+'style="width:'+v+"px; min-width:6em; max-width:"+v+
'px;">'+e+"</TD>"),d+="<TD sorttable_customkey='"+ofa(b[p].last_touch)+"' "+styleprefix+'style="width:'+w+'px; min-width:6em; ">'+g+"</td></tr>"):d=experimentaloverlay?d+("<tr id='lp"+a+b[p][u]+"'><td "+g_opera_selectable+">&nbsp;"+ofa(b[p]["fillform"==a?"decprofilename":"name"])+g+"</td></tr>"):d+("<tr lptype='"+a+"' "+u+'="'+b[p][u]+"\" onclick='this.dispatchEvent(lpcustomEvent);'><td "+g_opera_selectable+">&nbsp;"+ofa(b[p]["fillform"==a?"decprofilename":"name"])+g+"</td></tr>");1==f&&(d+="</TBODY>\n");
"fillform"==a&&(0<c&&(d+="<tr "+styleprefix+"style='background-color: #fff;'><td><hr></td></tr>"),d=experimentaloverlay?d+("<tr lptype='addprofile' id='lpaddprofile'><td "+g_opera_selectable+">&nbsp;"+gs("Add Profile")+"</td></tr>"):d+("<tr lptype='addprofile' onclick='this.dispatchEvent(lpcustomEvent)'><td "+g_opera_selectable+">&nbsp;"+gs("Add Profile")+"</td></tr>"),d=experimentaloverlay?d+("<tr lptype='addcreditcard' id='lpaddcreditcard'><td "+g_opera_selectable+">&nbsp;"+gs("Add Credit Card")+
"</td></tr>"):d+("<tr lptype='addcreditcard' onclick='this.dispatchEvent(lpcustomEvent)'><td "+g_opera_selectable+">&nbsp;"+gs("Add Credit Card")+"</td></tr>"),d=experimentaloverlay?d+("<tr lptype='clearforms' id='lpclearforms'><td "+g_opera_selectable+">&nbsp;"+gs("Clear Forms")+"</td></tr>"):d+("<tr lptype='clearforms' onclick='this.dispatchEvent(lpcustomEvent)'><td "+g_opera_selectable+">&nbsp;"+gs("Clear Forms")+"</td></tr>"),k&&(m&&!g_ismaxthon)&&(d=experimentaloverlay?d+("<tr lptype='chooseprofilecc' id='lpchooseprofilecc'><td "+
g_opera_selectable+">&nbsp;"+gs("Choose Profile and Credit Card")+"</td></tr>"):d+("<tr lptype='chooseprofilecc' onclick='this.dispatchEvent(lpcustomEvent);'><td "+g_opera_selectable+">&nbsp;"+gs("Choose Profile and Credit Card")+"</td></tr>")));d+="</table></div>";addMenuIdToPage(a);return d}
function createNeverMenu(a){var b;b=""+("<div id='lppopupnever' class='lppopup' "+(" "+styleprefix+"style='height:"+(a?"72":"48")+"px'")+"><table width='100%'>");a&&(b=experimentaloverlay?b+("<tr lptype='neverautofill' id='lpneverautofill'><td>&nbsp;"+gs("Never AutoFill")+"</td></tr>"):b+("<tr lptype='neverautofill' onclick='this.dispatchEvent(lpcustomEvent);'><td>&nbsp;"+gs("Never AutoFill")+"</td></tr>"));b=experimentaloverlay?b+("<tr lptype='neverpage' id='lpneverpage'><td>&nbsp;"+gs("Never For This Page")+
"</td></tr>"):b+("<tr lptype='neverpage' onclick='this.dispatchEvent(lpcustomEvent);'><td>&nbsp;"+gs("Never For This Page")+"</td></tr>");b=experimentaloverlay?b+("<tr lptype='neverdomain' id='lpneverdomain'><td>&nbsp;"+gs("Never For This Domain")+"</td></tr>"):b+("<tr lptype='neverdomain' onclick='this.dispatchEvent(lpcustomEvent);'><td>&nbsp;"+gs("Never For This Domain")+"</td></tr>");b+="</table></div>";addMenuIdToPage("never");return b}
function addMenuIdToPage(a){run_custom_js(document,"if(typeof(lpgblmenus)=='undefined'){ lpgblmenus = new Array(); }   lpgblmenus[lpgblmenus.length] = 'lppopup"+a+"';   ")}function lp_notification_exists(a,b){return b==curr_notification_type||"autologin"==b&&"fill"==curr_notification_type}function never_gen(){return!1}function never_ff(){return!1}
function lp_showNotification(a,b,c,d,e,f,g,k){a={text:gs(a),aid:c,extra:e,extra2:g,extra3:k};window!=lpgettop()?(a.extra=null,sendBG({cmd:"lpshownotificationtop",type:d,data:a})):lpshownotification(d,a)}"undefined"==typeof g_is_formfill&&(g_isopera||g_ismaxthon?window.addEventListener("DOMContentLoaded",function(){onLoad()},!1):g_ischrome?(window.addEventListener("DOMContentLoaded",function(){onLoad()},!1),window.addEventListener("unload",function(){onunload()},!1)):onLoad());
function lpgettop(){return g_isopera?window.top:top}function lpgettopurl(){try{return punycode.URLToASCII(lpgettop().document.location.href)}catch(a){return punycode.URLToASCII(document.location.href)}}
function createContextMenu(a){var b="<div id='contextmain' class='lppopup' style='display:block'><table width='"+g_contextwidth+"px' style='border:1px inset;'>",b=b+("<tr><td onclick='showcontext(0)'>"+gs("AutoFill")+" <img style='float:right' src='arrow.png'/></td>");"undefined"!=typeof a.can_copy&&a.can_copy&&(b+="<tr><td onclick='showcontext(1)'>"+gs("Copy Username")+" <img style='float:right' src='arrow.png'/></td>",b+="<tr><td onclick='showcontext(2)'>"+gs("Copy Password")+" <img style='float:right' src='arrow.png'/></td>",
b+="<tr><td onclick='showcontext(5)'>"+gs("Copy URL")+" <img style='float:right' src='arrow.png'/></td>");var b=b+("<tr><td onclick='recheckpage()'>"+gs("Recheck Page")+"</td>"),b=b+("<tr><td onclick='generate()'>"+gs("Generate Secure Password")+"</td>"),b=b+("<tr><td onclick='showcontext(3)'>"+gs("Fill Forms")+" <img style='float:right' src='arrow.png'/></td>"),b=b+"</tr></table></div>"+("<div id='contextsub' class='lppopup' style='display:none;height:"+g_contextheight+"px;width:"+g_contextwidth+
"px;overflow-x: hidden;'><table width='"+g_contextwidth+"px' style='border:1px inset;'>"),c=getAutoFillArray(document,LPJSON.parse(a.sites));0==getcount(c)&&(b+="<tr><td onclick='hidecontext()'>No Matching Sites!</td></tr>");for(var d in c)var e=c[d].useusername,b=b+("<tr><td onclick='docontextaction(\""+ofa(c[d].aid)+"\")'>"+trunc2(c[d].name,e,g_contextwidth-40)+"</td></tr>");b+="</tr></table></div>";b+="<div id='contextff' class='lppopup' style='display:none;height:"+g_contextheight+"px;width:"+
g_contextwidth+"px;overflow-x: hidden;'><table width='"+(g_contextwidth-10)+"px' style='border:1px inset;'>";a=LPJSON.parse(a.formfills);getcount(g_formfills);for(d in a)b+="<tr><td onclick='showcontext(4, \""+ofa(a[d].ffid)+"\")'>"+trunc2(a[d].decprofilename,"",g_contextwidth-60)+" <img style='float:right' src='arrow.png'/></td></tr>";b+="<tr><td onclick='addprofile();'>"+gs("Add Profile")+"</td>";b+="<tr><td onclick='addcc();'>"+gs("Add Credit Card")+"</td>";b+="<tr><td onclick='clearforms();'>"+
gs("Clear Forms")+"</td>";b+="<tr><td onclick='chooseprofilecc();'>"+gs("Choose Profile and Credit Card")+"</td>";b+="</tr></table></div>";b+="<div id='contextffsub' class='lppopup' style='display:none;height:"+g_contextheight+"px;'><table width='"+g_contextwidth+"px' style='border:1px inset;'>";b+="<tr><td onclick='ffsub(0)'>"+gs("Fill Form")+"</td>";b+="<tr><td onclick='ffsub(1)'>"+gs("Edit")+"</td>";return b+="</tr></table></div>"}
function trunc2(a,b,c){var d=document.getElementById("gettextextent");d||(d=document.createElement("span"),d.id="gettextextent",d.style.cssText="display:block;position:absolute;top:-100px;left:1000px;font-size:11px;font-family:Helvetica Neue,Helvetica,Arial, sans-serif;",document.body&&document.body.appendChild(d));var e=ofa(a)+(b.length?" ("+ofa(b)+")":"");for(d.innerHTML=e;d.offsetWidth>c;)a=a.length?a.substr(0,a.length-1):"",b=3<b.length?b.substr(0,b.length-3):"",e=ofa(a)+".."+(b.length?" ("+ofa(b)+
"..)":""),d.innerHTML=e;return e}var g_searchfillbox=null,g_searchloginbox=null,g_searchformfillbox=null;
function clear_searchbox(a){var b;if("autofill"==a)b=g_searchfillbox;else if("autologin"==a)b=g_searchloginbox;else return;if(null!=b){b.value="";for(var c=document.getElementsByTagName("tr"),d=0;d<c.length;d++){var e=c[d].id;0==e.indexOf("lp"+a)&&(e=document.getElementById(e),"table-row"!=e.style.display&&(e.style.display="table-row"))}a=document.getElementById(a+"footer");null!=a&&(a.className="lppopupsearchbox");b.focus()}}
function dofilter(a){var b;if("autofill"==a)b=g_searchfillbox;else if("autologin"==a)b=g_searchloginbox;else if("fillform"==a)b=g_searchfillformbox;else return;null!=b&&(a=document.getElementById(a+"tab"),b=b.value.toLowerCase(),sorttable.filter(a,b))}
function initialize_sorttable(){sorttable.init();var a=document.getElementById("autofilltab");null!=a&&sorttable.initial_sort(a.tHead.rows[0].cells[2]);a=document.getElementById("autologintab");null!=a&&sorttable.initial_sort(a.tHead.rows[0].cells[2]);a=document.getElementById("fillformtab");null!=a&&sorttable.initial_sort(a.tHead.rows[0].cells[2]);g_searchfillbox=document.getElementById("autofilltabsearchbox");g_searchloginbox=document.getElementById("autologintabsearchbox");g_searchfillformbox=
document.getElementById("fillformtabsearchbox")}
function chk_should_close_exttable(a){var b="autologintab autologintabfooter autologintabheader autologintabsearchlabel autofilltab autofilltabfooter autofilltabheader autofilltabsearchlabel fillformtab fillformtabfooter fillformtabheader fillformtabsearchlabel sorttable_sortrevind sorttable_sortfwdind".split(" "),c=null,d=null;"undefined"!=typeof a.target&&(c=a.target.id,"undefined"!=typeof a.target.parentElement&&null!=a.target.parentElement&&(d=a.target.parentElement.id));a=!1;for(var e in b){if(null!=
c&&c==b[e]){a=!0;break}if(null!=d&&d==b[e]){a=!0;break}}return!a}function ofa_pretty_print_tabular_last_touch(a){if(""==a||null==a)a=0;return ofa(elapsedTime(a))}function ofa_pretty_print_tabular_username(a){var b="";""!=a&&null!=a&&(b=25<a.length?ofa(a.substring(0,24))+ELLIPSIS_CODE:ofa(a));return b}function ofa_pretty_print_tabular_formfill(a){null==a&&(a="");return ofa(a)}
function ofa_pretty_print_tabular_sitename(a){null==a&&(a="");var b=a.indexOf(" ");a=ofa(a);0>b&&0<a.indexOf("&#x2e;")&&(a=a.replace(/&#x2e;/g,"<wbr/>&#x2e;"));return a}
function is_hotkey_event(a){var b=0!=a.keyCode?a.keyCode:a.charCode;if(32>b)return!1;var c;c=""+(a.ctrlKey?"control":"");c+=a.metaKey?(""!=c?" ":"")+"meta":"";c+=a.altKey?(""!=c?" ":"")+"alt":"";c+=a.shiftKey?(""!=c?" ":"")+"shift":"";if(""==c||"shift"==c)return!1;for(a=0;a<g_lp_hotkeys.length;a++){var d=g_lp_hotkeys[a];if(g_hotkey_data[d+"KeyCode"]==b&&g_hotkey_data[d+"Mods"]==c)return!0}return!1}
function has_same_tld(a,b){if(a&&b){var c=lp_gettld_url(punycode.URLToASCII(a)),d=lp_gettld_url(punycode.URLToASCII(b));if(LP_compare_tlds(c,d))return!0}return!1}function lp_init_tlds(){if("undefined"==typeof lp_all_tlds||null==lp_all_tlds)lp_all_tlds=[]}var g_fields_touched=null;function touch_field_for_conditional_force(a){a&&(null==g_fields_touched&&(g_fields_touched={}),g_fields_touched[a]=!0)}
function do_conditional_forcefill_without_fillbest(a){var b=LP_derive_doc();if(!b||null==g_fields_touched)return!1;var c=g_popupfill_parent;g_popupfill_parent||(c=g_popupfill_parent_last);return!c?!1:!g_fields_touched[g_popupfill_parent]?(ForceFillClicked(b,!0,{u:a.username,p:a.password,a:a.aid,sharedsite:a.sharedsite,automaticallyFill:a.automaticallyFill,reqinfo:a.reqinfo}),!0):!1}function reset_forcefill_without_fillbest(){g_fields_touched=null}
function get_docstate(a){return!a?null:"undefined"!=typeof a.readyState&&a.readyState?a.readyState:"undef"}function ping_req_handler(a,b){var c=(new Date).getTime(),d=0;"undefined"!=typeof b.timestamp&&b.timestamp&&(d=c-b.timestamp);var e="";try{e=punycode.URLToASCII(a.location.href)}catch(f){}sendBG({cmd:"ping_ack",timestamp:c,delta:d,id:b.id,url:e,docstate:get_docstate(a),flags:assemble_docflags_object(a)})}
function assemble_docflags_object(a){return!a?null:{is_special_site:g_is_specialsite,in_cpwbot:g_in_cpwbot,tutorial_flags:g_tutorial_flags}}function recheck_handler(){g_ctr_recheck++;evalScriptsInFrame(window,document,!0)}function get_inner_text_handler(a){if(a){var b=LP_elt_get_text(a.body);sendBG({cmd:"got_inner_text",buf:b,url:punycode.URLToASCII(a.location.href)})}}function wait_for_document_complete(){}
function onunload(){var a=document;sendBG({cmd:"CS_unload",docstate:get_docstate(a),url:punycode.URLToASCII(a.location.href)})}var do_bgiconinput=!0;
function popupfill_create_iframe(a,b,c,d,e,f,g,k){if(do_experimental_popupfill&&a){b=parseInt(b)+"px";c=parseInt(c)+"px";var m=a.body;if(m){a=a.createElement("iframe");a.id=LPMAGICIFRAME+d;a.name=LPMAGICIFRAME+d;g_fixed_iframe_position?k=!0:"undefined"==typeof k&&(k=!1);k&&(g_fixed_shuffled_once=!1);a.src=g_isie?"https://lastpass.com/fake/fake.php#framesrc=LPMAGIC":urlprefix+"popupfilltab.html";0>parseInt(b)&&(b="0px");0>parseInt(c)&&(c="0px");dotrans?(g_frame_css_str=k?"display:block; position:fixed !important; visibility:visible !important; z-index:"+
CLICKABLE_ICON_ZINDEX+" !important; border-style:none !important;":"display:block; position:absolute !important; visibility:visible !important; z-index:"+CLICKABLE_ICON_ZINDEX+" !important; border-style:none !important;","undefined"!=typeof g_isie&&g_isie&&(g_frame_css_str+="background-color:transparent !important;background-image:none !important;")):g_frame_css_str=k?"display:block; position:fixed !important; visibility:visible !important; z-index:"+CLICKABLE_ICON_ZINDEX+" !important; border-style:solid !important; border-color: #4c4c4c !important; border-width:1px !important; border-radius: 4px 4px; -moz-border-radius: 4px; -webkit-border-radius: 4px; box-shadow: 1px rgba(200, 200, 200, 0.5); -webkit-box-shadow: 1px 1px rgba(200, 200, 200, 0.5); -moz-box-shadow: 1px 1px rgba(200, 200, 200, 0.5);":
"display:block; position:absolute !important; visibility:visible !important; z-index:"+CLICKABLE_ICON_ZINDEX+" !important; border-style:solid !important; border-color: #4c4c4c !important; border-width:1px !important; border-radius: 4px 4px; -moz-border-radius: 4px; -webkit-border-radius: 4px; box-shadow: 1px rgba(200, 200, 200, 0.5); -webkit-box-shadow: 1px 1px rgba(200, 200, 200, 0.5); -moz-box-shadow: 1px 1px rgba(200, 200, 200, 0.5);";a.style.cssText=g_frame_css_str;try{if(framesetarr=document.getElementsByTagName("frameset"),
0==framesetarr.length)m.appendChild(a);else{k=!1;for(m=0;m<framesetarr.length;m++){for(var j=0;j<framesetarr[m].children.length;j++)"FRAME"==framesetarr[m].children[j].tagName&&(cf=framesetarr[m].children[j].contentWindow.document,null!=cf.getElementById(d)?(k=!0,toappendTo=cf.getElementById(d)):null!=cf.getElementsByName(d)&&0!=cf.getElementsByName(d).length&&(k=!0,toappendTo=cf.getElementsByName(d)[0]));if(k){try{toappendTo.parentNode.appendChild(a)}catch(p){framesetarr[m].children[j].contentWindow.document.body.appendChild(a)}break}}}}catch(r){verbose_log("append failed! "+
r);return}a.width=parseInt(f)+"px";a.height=g_isie?"38px":"26px";"undefined"!=typeof e&&0<e&&(a.height=24*e+23+"px");a.height=0<parseInt(g)?parseInt(g)+"px":parseInt(a.height)+"px";d=parseInt(a.width)+"px";e=parseInt(a.height)+"px";a.style.cssText=g_frame_css_str+("width: "+d+" !important; height: "+e+" !important; top:"+c+" !important; left:"+b+" !important; ")}}}
function weasel(a){g_ctr_weasel++;if(do_experimental_popupfill){if("undefined"==typeof a||!1==a||!0==a||5>a)a=200;g_weaseled=!0;popupfill_resize();g_weasel_id=setTimeout(function(){weasel(a)},a)}}function issaveall(a){a=a.elements;for(var b=0,c=0,d=0,e=0;e<a.length;e++){var f=a[e].type;"password"==f?c++:"text"==f||"tel"==f||"email"==f?b++:"textarea"==f&&d++}return 1==b&&1==c&&0==d?!1:!0}var POPUP_FIELD_OFFSET=-4;
function calculate_iframe_pos(a,b,c,d){if(!do_experimental_popupfill)return null;"undefined"==typeof d&&(d=!1);if(!a||null==b)return null;var e=b.style.left,f=b.style.top;if(g_double_password_hack||g_double_secret_password_hack||0>parseInt(e)||0>parseInt(f)){var g=a.getElementById(LPMAGICIFRAME+LP_pickFieldName(a,b));if(null!=g&&(g=LP_getAbsolutePos(a,g)))return f=parseInt(g.top),e=parseInt(g.left),isNaN(f)||isNaN(e)?null:{posx:e+"px",posy:f+"px"}}LP_pickFieldName(a,b);if(null!=b){g=LP_getAbsolutePos(a,
b);null!=g&&(e=parseInt(g.left)+POPUP_FIELD_OFFSET+"px",f=parseInt(g.top)+parseInt(g.height)+"px",g_do_icon_number_hint&&(f=parseInt(g.top)+parseInt(g.height)+4+"px"));if(null==c||0==c||""==c)g=LP_getElementByIdOrName(a,LPMAGICIFRAME+LP_pickFieldName(a,b)),c=null!=g?(c=LP_getAbsolutePos(a,g))?c.width:0:0;if(!d){d=LP_getWindowWidth(window);if(!d)return{posx:0,posy:0};parseInt(c)+parseInt(e)>d&&(e=d-parseInt(c)-20+"px")}}if(""==e||"auto"==e||""==f||"auto"==f)return null;e=parseInt(e);f=parseInt(f);
return"NaN"==e||"NaN"==f?null:{posx:e+"px",posy:f+"px"}}function verbose_log(a){verbose&&console_log(a)}function is_watermark(){return!1}function checkAskGenerate(){}function sendKey(a,b){try{return keyName="DOM_VK_"+a.toUpperCase(),send_simulated_key(b,0,KeyEvent[keyName],!1)}catch(c){lpdbg("error",c)}return null}
function send_simulated_key(a,b,c,d){if(void 0===a||void 0===a.ownerDocument)return lpdbg("error","No key target!"),!1;b=a.ownerDocument.createEvent("KeyboardEvent");b.initKeyboardEvent("keydown",!0,!0,document.defaultView,!1,!1,d,!1,c,c);var e=a.dispatchEvent(b);b=a.ownerDocument.createEvent("KeyboardEvent");b.initKeyboardEvent("keyup",!0,!0,null,!1,!1,d,!1,c,c);a.dispatchEvent(b);return e}
if("undefined"==typeof KeyEvent)var KeyEvent={DOM_VK_CANCEL:3,DOM_VK_HELP:6,DOM_VK_BACK_SPACE:8,DOM_VK_TAB:9,DOM_VK_CLEAR:12,DOM_VK_RETURN:13,DOM_VK_ENTER:14,DOM_VK_SHIFT:16,DOM_VK_CONTROL:17,DOM_VK_ALT:18,DOM_VK_PAUSE:19,DOM_VK_CAPS_LOCK:20,DOM_VK_ESCAPE:27,DOM_VK_SPACE:32,DOM_VK_PAGE_UP:33,DOM_VK_PAGE_DOWN:34,DOM_VK_END:35,DOM_VK_HOME:36,DOM_VK_LEFT:37,DOM_VK_UP:38,DOM_VK_RIGHT:39,DOM_VK_DOWN:40,DOM_VK_PRINTSCREEN:44,DOM_VK_INSERT:45,DOM_VK_DELETE:46,DOM_VK_0:48,DOM_VK_1:49,DOM_VK_2:50,DOM_VK_3:51,
DOM_VK_4:52,DOM_VK_5:53,DOM_VK_6:54,DOM_VK_7:55,DOM_VK_8:56,DOM_VK_9:57,DOM_VK_SEMICOLON:59,DOM_VK_EQUALS:61,DOM_VK_A:65,DOM_VK_B:66,DOM_VK_C:67,DOM_VK_D:68,DOM_VK_E:69,DOM_VK_F:70,DOM_VK_G:71,DOM_VK_H:72,DOM_VK_I:73,DOM_VK_J:74,DOM_VK_K:75,DOM_VK_L:76,DOM_VK_M:77,DOM_VK_N:78,DOM_VK_O:79,DOM_VK_P:80,DOM_VK_Q:81,DOM_VK_R:82,DOM_VK_S:83,DOM_VK_T:84,DOM_VK_U:85,DOM_VK_V:86,DOM_VK_W:87,DOM_VK_X:88,DOM_VK_Y:89,DOM_VK_Z:90,DOM_VK_WIN:91,DOM_VK_CONTEXT_MENU:93,DOM_VK_NUMPAD0:96,DOM_VK_NUMPAD1:97,DOM_VK_NUMPAD2:98,
DOM_VK_NUMPAD3:99,DOM_VK_NUMPAD4:100,DOM_VK_NUMPAD5:101,DOM_VK_NUMPAD6:102,DOM_VK_NUMPAD7:103,DOM_VK_NUMPAD8:104,DOM_VK_NUMPAD9:105,DOM_VK_MULTIPLY:106,DOM_VK_ADD:107,DOM_VK_SEPARATOR:108,DOM_VK_SUBTRACT:109,DOM_VK_DECIMAL:110,DOM_VK_DIVIDE:111,DOM_VK_F1:112,DOM_VK_F2:113,DOM_VK_F3:114,DOM_VK_F4:115,DOM_VK_F5:116,DOM_VK_F6:117,DOM_VK_F7:118,DOM_VK_F8:119,DOM_VK_F9:120,DOM_VK_F10:121,DOM_VK_F11:122,DOM_VK_F12:123,DOM_VK_F13:124,DOM_VK_F14:125,DOM_VK_F15:126,DOM_VK_F16:127,DOM_VK_F17:128,DOM_VK_F18:129,
DOM_VK_F19:130,DOM_VK_F20:131,DOM_VK_F21:132,DOM_VK_F22:133,DOM_VK_F23:134,DOM_VK_F24:135,DOM_VK_NUM_LOCK:144,DOM_VK_SCROLL_LOCK:145,DOM_VK_COMMA:188,DOM_VK_PERIOD:190,DOM_VK_SLASH:191,DOM_VK_BACK_QUOTE:192,DOM_VK_OPEN_BRACKET:219,DOM_VK_BACK_SLASH:220,DOM_VK_CLOSE_BRACKET:221,DOM_VK_QUOTE:222,DOM_VK_META:224};var g_formmutations=0;
function checkShouldRecheck(){if(!(20<g_formmutations)&&do_experimental_popupfill&&(verbose_log("entered checkShouldRecheck()"),0<=g_input_cnt&&0<=g_form_cnt)){var a=countInputs(document),b=countFormEquivalents(document),c=computeFingerprint(document);verbose_log("checkShouldRecheck() : # inputs was "+g_input_cnt+", now "+a+" #forms was "+g_form_cnt+" now "+b+", fingerprint was "+g_input_fingerprint+" now "+c);if(g_input_cnt!=a||g_form_cnt!=b||g_input_fingerprint!=c)g_formmutations++,formcachereset(document),
fieldcachereset(document),g_isie?(setTimeout(function(){ie_recheck_page(document,g_is_specialsite)},200),setTimeout(function(){ie_recheck_page(document,g_is_specialsite)},1E3)):setTimeout(function(){g_ctr_recheck++;evalScriptsInFrame(window,document,!0)},200),g_input_cnt=a,g_form_cnt=b,g_input_fingerprint=c}}function is_watermark_password(){return!1}
function LP_addEventHandler(a,b,c){try{return null==a||null==b||null==c||0>=b.length?null:"undefined"!=typeof a.addEventListener?a.addEventListener(b,c,!1):"undefined"!=typeof a.attachEvent?a.attachEvent("on"+b,c):null}catch(d){return verbose_log("LP_addEventHandler failed, "+d.message),null}}
function LP_stopEventPropagation(a){try{"undefined"!=typeof a.preventDefault?a.preventDefault():typeof window.event&&(window.event.returnValue=!1),"undefined"!=typeof a.stopPropagation?a.stopPropagation():typeof window.event&&(window.event.cancelBubble=!0)}catch(b){verbose_log("LP_stopEventPropagation failed, "+b.message)}}
function LP_getEventTarget(a){a=a?a:window.event;if((a="undefined"!=typeof a.target?a.target:a.srcElement)&&"undefined"!=typeof a.nodeType&&3==a.nodeType)a=a.parentNode;return a}
function createpopuptoplevel_handler(a){var b=LP_derive_doc(),c=parseInt(a.from_iframe.posx),d=parseInt(a.from_iframe.posy),e=a.from_iframe.id,f=a.from_iframe.rows,g=a.from_iframe.width,k=a.from_iframe.framename;a=a.from_iframe.framesrc;if(!is_your_popup_showing(b)){var k=find_iframe_pos(b,k,a),m=a=0;k?(a=parseInt(k.left)+c+"px",m=parseInt(k.top)+d+"px",g_toplevel_initial_abs_x=a,g_toplevel_initial_abs_y=m):m=a="10px";popupfill_create_iframe(b,a,m,e,f,g,"90px",!0);g_popupfill_iframe_width_save=g}}
var g_toplevel_initial_abs_x=null,g_toplevel_initial_abs_y=null;function popupfillresize_handler(a){g_minwidth_override=parseInt(a.width);g_minheight_override=parseInt(a.height);g_create_iframe_in_top&&!g_isie&&!g_isfirefox&&!LP_inIframe(window)&&toplevel_iframe_state_get()&&relocate_popupfill_iframes(document)}
function find_iframe_pos(a,b,c){if(!a)return null;var d;try{var e=a.getElementsByTagName("IFRAME");if(!b&&1==e.length)return LP_getAbsolutePos(a,e[0],!0);var f=[];for(d=0;d<e.length&&50>d;d++)f[d]=e[d];for(d=0;d<f.length;d++)if(f[d].name&&""!=b&&f[d].name==b||f[d].src&&""!=c&&f[d].src==c)return LP_getAbsolutePos(a,f[d],!0)}catch(g){}return null}
function LP_getComputedStyle(a,b){return!b?null:"undefined"!=typeof a.getComputedStyle?g_isfirefox?a.getComputedStyle(b,null):a.getComputedStyle(b):b.currentStyle}var lpParseUriCache=[],lpParseUriNumber=0;
function lpParseUri(a){if("string"!=typeof a)return"";if(null!=lpParseUriCache[a])return lpParseUriCache[a];var b=null,c=null,d=a;-1!=a.indexOf("#")&&(c=a.substring(a.indexOf("#")+1),a=a.substring(0,a.indexOf("#")));-1!=a.indexOf("?")&&(b=a.substring(a.indexOf("?")+1),a=a.substring(0,a.indexOf("?")));var e=a.match(/^(.*:\/\/[^\/]+\/.*)@/);e&&(a=a.substring(0,e[1].length)+a.substring(e[1].length).replace(/@/g,"%40"));if(2047<a.length)return"";var f=lpParseUri.options,e=null;try{e=f.parser[f.strictMode?
"strict":"loose"].exec(a)}catch(g){try{e=500<a.length?f.parser[f.strictMode?"strict":"loose"].exec(a.substr(0,500)):f.parser[f.strictMode?"strict":"loose"].exec(a.substr(0,floor(a.length/2)))}catch(k){lpReportError("parseuri : failing "+a),e=f.parser[f.strictMode?"strict":"loose"].exec("http://")}}a=e;for(var m={},e=14;e--;)m[f.key[e]]=a[e]||"";m[f.q.name]={};m[f.key[12]].replace(f.q.parser,function(a,b,c){b&&(m[f.q.name][b]=c)});null!=b&&(m.query=b,null!=c&&(m.anchor=c));m.host&&(m.host=fix_url_host(m.host));
if(500<lpParseUriNumber){for(var j in lpParseUriCache){delete lpParseUriCache[j];break}lpParseUriNumber=0}lpParseUriCache[d]=m;lpParseUriNumber++;return m}
lpParseUri.options={strictMode:!1,key:"source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};
var lpCanUrlCache=[],lpCanUrlExNumber=0;
function lpcanonizeUrl(a,b){if("about:blank"==a)return"";if(null!=lpCanUrlCache[a])return lpCanUrlCache[a];null==b&&(b=lpParseUri(a));var c="";""!=b.port&&b.port!=get_default_port(b.protocol)&&(c=":"+b.port);if(b.host)c=b.host.toLowerCase()+c+b.path;else{if(!a)return"";c=a}-1!=c.indexOf(";")&&(c=c.substring(0,c.indexOf(";")));if(500<lpCanUrlExNumber){for(var d in lpCanUrlCache){delete lpCanUrlCache[d];break}lpCanUrlExNumber=0}lpCanUrlCache[a]=c;lpCanUrlExNumber++;return c}
function lp_gettld(a,b){("undefined"==typeof lp_all_tlds||null==lp_all_tlds)&&lp_init_tlds();if("string"!=typeof a)return"";if(""==a&&"string"==typeof b&&0==b.indexOf("file://"))return"file:";a=a.toLowerCase();a=a.replace(/\.$/,"");var c=a.split("."),d;if(a.match(/^\d+\.\d+\.\d+\.\d+$/))d=4;else if(d=2,2<=c.length){var e=c[c.length-1];"undefined"!=typeof lp_all_tlds[e]&&lp_in_array(c[c.length-2],lp_all_tlds[e])&&(d=3)}for(;c.length>d;)c.shift();return c.join(".")}
function lp_gettld_url(a){var b=lpParseUri(a);return lp_gettld(b.host,a)}function getname_url(a){a=lpParseUri(punycode.URLToUnicode(a));return("string"==typeof a.host?a.host:"").replace(/^www\./,"")}function lptrim(a){return"string"!=typeof a?a:a.replace(/^\s+|\s+$/g,"")}function lp_regexp_quote(a){return(a+"").replace(/([\\\.\+\*\?\[\^\]\$\(\)\{\}\=\!<>\|\:])/g,"\\$1")}
function getactiontld(a){return"undefined"==typeof a||(null==a||"undefined"==typeof a.action)||0==a.action.indexOf("javascript:")?"":lp_gettld_url(punycode.URLToASCII(a.action))}function getname(a,b){if(b&&"undefined"!=typeof a.id&&""!=a.id)return a.id;if("undefined"!=typeof a&&null!=a){if("undefined"!=typeof a.name&&""!=a.name)return a.name;if("undefined"!=typeof a.id)return a.id}return""}
function lpIsVisible(a,b){if(a&&"INPUT"==a.tagName&&"hidden"==a.type)return!1;for(;a&&"BODY"!=a.tagName;a=a.parentNode){if("undefined"!=typeof a.style&&("hidden"==a.style.visibility||"none"==a.style.display))return!1;try{var c=a.ownerDocument.defaultView.getComputedStyle(a,"");if("hidden"==c.visibility||"none"==c.display)return!1}catch(d){}if(b)break}return!0}function lp_in_array(a,b){for(var c=b.length,d=0;d<=c;d++)if("undefined"!=typeof b[d]&&b[d]==a)return lpArrayOffset=d,!0;return!1}
function strip(a){if(!a.length)return a;a=a.replace(/\s+/g," ");a=a.replace(/^\s+|\s+$/g,"");a=a.replace(/[\|]+$/g,"");var b=a.match(/\|([^\|]+)$/);b&&(a=b[1],a=a.replace(/^\s+|\s+$/g,""));return a}function lpxmlescape(a){"number"==typeof a&&(a=""+a);a=a.replace(/&/g,"&amp;");a=a.replace(/</g,"&lt;");a=a.replace(/>/g,"&gt;");return a=a.replace(/"/g,"&quot;")}
function lpxmlunescape(a){"number"==typeof a&&(a=""+a);a=a.replace(/&lt;/g,"<");a=a.replace(/&gt;/g,">");a=a.replace(/&quot;/g,'"');return a=a.replace(/&amp;/g,"&")}var lpRegExCache=[],lpRegExNumber=0;
function regexp_match_c(a,b){var c=a.toString()+"_"+b;80<c.length&&("function"==typeof fasthash?c=fasthash(c):"function"==typeof SHA256&&(c=SHA256(c)));if(null!=lpRegExCache[c])return"1"==lpRegExCache[c];var d=a.exec(b);if(2500<lpRegExNumber){for(var e in lpRegExCache){delete lpRegExCache[e];break}lpRegExNumber=0}lpRegExCache[c]=d?"1":"0";lpRegExNumber++;return d}
function fire_onchange(a,b,c){try{if(a){if(a.ownerDocument&&"function"==typeof a.ownerDocument.createEvent){var d=a.ownerDocument.createEvent("Events");d.initEvent("change",!0,!0);a.dispatchEvent(d);d=a.ownerDocument.createEvent("Events");d.initEvent("input",!0,!0);a.dispatchEvent(d);if("undefined"!=typeof ischrome&&ischrome&&("function"==typeof a.onkeyup||a.hasAttribute("onkeyup")))if(c&&(d.keyCode=8),a.hasAttribute("onkeyup"))eval(a.getAttribute("onkeyup"));else a.onkeyup(d)}else"undefined"!=typeof a.fireEvent&&
(a.fireEvent("onchange"),a.fireEvent("oninput"));("undefined"==typeof b||null==b||b)&&"function"==typeof sendKey&&sendKey("SHIFT",a);if("function"==typeof lpGetBrowserForDocument){var e=lpGetBrowserForDocument(a.ownerDocument);e&&(e.lpfieldchanged=!0)}}}catch(f){}}function get_default_port(a){switch(a){case "http":return 80;case "https":return 443;case "ftp":return 21;default:return 0}}
function get_port(a){var b=0;"undefined"!=typeof a.port&&a.port?b=a.port:"undefined"!=typeof a.protocol&&a.protocol&&(b=get_default_port(a.protocol));return b}function compare_ports(a,b){var c=""!=a.port?a.port:get_default_port(a.protocol),d=""!=b.port?b.port:get_default_port(b.protocol);return c==d}function array_size(a){var b=a.length?--a.length:-1,c;for(c in a)b++;return b}function lpgetlocalts(){return(new Date).getTime()}
function lp_get_gmt_timestamp(){var a=(new Date).getTime();return parseInt(a/1E3)}function lp_get_local_timestamp(){return lp_get_gmt_timestamp()}
function checkurlrules(a,b,c,d,e,f,g){if(0==b.length)return b;for(var k=[],m=[],j=0;j<a.length;j++)"undefined"==typeof a[j].tld&&(a[j].tld=lp_gettld_url(a[j].url),a[j].parts=lpParseUri(a[j].url),a[j].path="string"==typeof a[j].parts.path?a[j].parts.path:""),c==a[j].tld&&(""!=a[j].path&&0!=d.indexOf(a[j].path)?m[m.length]=a[j]:e==a[j].parts.host||1==a[j].exacthost&&-1!=e.indexOf("."+a[j].parts.host)||0==a[j].exacthost?k[k.length]=a[j]:m[m.length]=a[j]);if(0==k.length&&0==m.length)return b;if(0<k.length){a=
b;for(j=0;j<k.length;j++)c=applyurlrule(b,k[j],d,e,g),c.length<a.length&&(a=c);return a}for(j=0;j<m.length;j++)removeurlrule(b,m[j],f,e,g);return b}
function applyurlrule(a,b,c,d,e){var f=b.path;if(""!=f&&0!=c.indexOf(f))return a;for(var g=f.split("/").length,k=[],m=!1,j=0;j<a.length;j++){var p=a[j],r=p.pathlevelmatch,q=p.servermatch,n=p.portmatch;if("undefined"==typeof r){r=c.split("/");p=lpParseUri(p.url);p.path="undefined"!=typeof p.path?p.path:"";q=p.path.split("/");for(n=0;n<r.length&&n<q.length&&q[n]==r[n];n++);r=n;q=d==p.host;n=e==get_port(p)}if(!(""!=f&&r<g)&&(m=m||1==b.exacthost||1==b.exactport?!0:!1,(q||0==b.exacthost)&&(n||0==b.exactport)))m=
!0,k[k.length]=a[j]}return!m?a:k}function removeurlrule(a,b,c){for(var d=b.path,e=0;e<a.length;e++){var f="undefined"!=typeof a[e].id?a[e].id:a[e].aid;if("undefined"!=typeof c[f]&&(f=lpParseUri(c[f].url),f.path="undefined"!=typeof f.path?f.path:"",!(""!=d&&0!=f.path.indexOf(d))&&("0"==b.exacthost||b.parts.host==f.host)&&("0"==b.exactport||get_port(b.parts)==get_port(f))))a.splice(e,1),e-=1}}function lpsubstring(a,b,c){var d="",e=c-b;for(c=0;c<e;++c)d+=a[c+b];return d}
function lpcreaterandomhexstring(a){for(var b="",c=0;c<a;c++)var d=get_random(0,15),b=b+"0123456789ABCDEF".substring(d,d+1);return b}
function iso2to3(a){return{AD:"AND",AE:"ARE",AF:"AFG",AF:"AFG",AG:"ATG",AL:"ALB",AM:"ARM",AO:"AGO",AQ:"ATA",AR:"ARG",AT:"AUT",AU:"AUS",AW:"ABW",AZ:"AZE",BA:"BIH",BB:"BRB",BD:"BGD",BE:"BEL",BF:"BFA",BG:"BGR",BH:"BHR",BI:"BDI",BJ:"BEN",BM:"BMU",BN:"BRN",BO:"BOL",BR:"BRA",BS:"BHS",BT:"BTN",BW:"BWA",BY:"BLR",BZ:"BLZ",CA:"CAN",CD:"COD",CF:"CAF",CG:"COG",CH:"CHE",CI:"CIV",CL:"CHL",CM:"CMR",CN:"CHN",CO:"COL",CR:"CRI",CU:"CUB",CV:"CPV",CY:"CYP",CZ:"CZE",DE:"DEU",DJ:"DJI",DK:"DNK",DM:"DMA",DO:"DOM",DZ:"DZA",
EC:"ECU",EE:"EST",EG:"EGY",EH:"ESH",ER:"ERI",ES:"ESP",ET:"ETH",FI:"FIN",FJ:"FJI",FM:"FSM",FO:"FRO",FR:"FRA",GA:"GAB",GB:"GBR",GD:"GRD",GE:"GEO",GF:"GUF",GH:"GHA",GM:"GMB",GN:"GIN",GP:"GLP",GQ:"GNQ",GR:"GRC",GT:"GTM",GW:"GNB",GY:"GUY",HN:"HND",HR:"HRV",HT:"HTI",HU:"HUN",IC:"ESC",ID:"IDN",IE:"IRL",IL:"ISR",IN:"IND",IO:"IOT",IQ:"IRQ",IR:"IRN",IS:"ISL",IT:"ITA",JE:"JEY",JM:"JAM",JO:"JOR",JP:"JPN",KE:"KEN",KG:"KGZ",KH:"KHM",KI:"KIR",KM:"COM",KN:"KNA",KP:"PRK",KR:"KOR",KW:"KWT",KZ:"KAZ",LA:"LAO",LB:"LBN",
LC:"LCA",LI:"LIE",LK:"LKA",LR:"LBR",LS:"LSO",LT:"LTU",LU:"LUX",LV:"LVA",LY:"LBY",MA:"MAR",MC:"MCO",MD:"MDA",ME:"MNE",MG:"MDG",MK:"MKD",ML:"MLI",MM:"MMR",MN:"MNG",MO:"MAC",MQ:"MTQ",MR:"MRT",MS:"MSR",MU:"MUS",MV:"MDV",MW:"MWI",MX:"MEX",MY:"MYS",MZ:"MOZ",NA:"NAM",NE:"NER",NG:"NGA",NI:"NIC",NL:"NLD",NO:"NOR",NP:"NPL",NZ:"NZL",OM:"OMN",PA:"PAN",PE:"PER",PG:"PNG",PH:"PHL",PK:"PAK",PL:"POL",PS:"PSE",PT:"PRT",PW:"PLW",PY:"PRY",QA:"QAT",RE:"REU",RO:"ROU",RS:"SRB",RU:"RUS",RW:"RWA",SA:"SAU",SB:"SLB",SC:"SYC",
SD:"SDN",SE:"SWE",SH:"SHN",SI:"SVN",SK:"SVK",SL:"SLE",SM:"SMR",SN:"SEN",SO:"SOM",SR:"SUR",ST:"STP",SV:"SLV",SY:"SYR",SZ:"SWZ",TD:"TCD",TF:"ATF",TG:"TGO",TH:"THA",TJ:"TJK",TL:"TLS",TM:"TKM",TN:"TUN",TR:"TUR",TT:"TTO",TW:"TWN",TZ:"TZA",UA:"UKR",UG:"UGA",US:"USA",UY:"URY",UZ:"UZB",VC:"VCT",VE:"VEN",VN:"VNM",VU:"VUT",YE:"YEM",ZA:"ZAF",ZM:"ZMB",ZW:"ZWE"}[a]}
function crypto_atob(a){if(a&&17<=a.length&&"!"==a.charAt(0)){var b=a.indexOf("|");if(-1!=b)return"!"+atob(a.substring(1,b))+atob(a.substring(b+1))}return atob(a)}function crypto_btoa(a){return a&&33<=a.length&&1==a.length%16&&"!"==a.charAt(0)?"!"+btoa(a.substring(1,17))+"|"+btoa(a.substring(17)):btoa(a)}
function CompareLastPassVersions(a,b,c){var d=0,e=0,f=0,g=0,k=0,m=0,j=a.split(".");for(a=0;a<j.length;a++)0==a?d=parseInt(j[a]):1==a?e=parseInt(j[a]):2==a&&(f=parseInt(j[a]));b=b.split(".");for(a=0;a<b.length;a++)0==a?g=parseInt(b[a]):1==a?k=parseInt(b[a]):2==a&&(m=parseInt(b[a]));return d!=g?d>g?1:-1:e!=k?e>k?1:-1:c?0:f!=m?f>m?1:-1:0}function lpalert(a,b){"undefined"!=typeof LP&&"function"==typeof LP.lpgs?LP.alert(LP.lpgs(a),b):"function"==typeof alertfrombg?alertfrombg(gs(a)):alert(gs(a))}
function issharedfolder(a,b){if(!a||0==a.length||"undefined"==typeof b||null==b)return!1;var c=b;0<c.indexOf("\\")&&(c=c.substr(0,c.indexOf("\\")));for(var d in a){var e=a[d];if(!("object"!=typeof e||"undefined"==typeof e.decsharename)&&e.decsharename==c)return{id:e.id,sharekey:e.key,decsharename:e.decsharename,readonly:e.readonly,give:e.give,associative:e.associative}}return!1}
function getsharekey(a,b){for(var c=0;"undefined"!=typeof a&&null!=a&&c<a.length;c++){var d=a[c];if(d.id==b)return d.key}return null}function lpmenc_acct(a,b,c,d){return"undefined"==typeof c.sharefolderid?lpmenc(a,b):(c=issharedfolder(d,c.group))?lpmenc(a,b,c.sharekey):lpmenc(a,b)}function lpmdec_acct(a,b,c,d){return"undefined"==typeof c.sharefolderid?lpmdec(a,b):(c=issharedfolder(d,c.group))?lpmdec(a,b,c.sharekey):lpmdec(a,b)}
function lpdec_acct(a,b,c){return"undefined"==typeof b.sharefolderid?lpdec(a):(b=issharedfolder(c,b.group))?lpdec(a,b.sharekey):lpdec(a)}function lpenc_acct(a,b,c){return"undefined"==typeof b.sharefolderid?lpenc(a):(b=issharedfolder(c,b.group))?lpenc(a,b.sharekey):lpenc(a)}function checkmove(a,b,c){return b&&!checkreadonly(b,!1,c)?!1:!0}function checkreadonly(a,b,c){return a&&"1"==a.readonly?(b||lpalert("Sorry, this shared folder is read-only.",c),!1):!0}
function checkUsernameHash(){if(null==lpusername_hash||""==lpusername_hash){var a=null;"string"==typeof g_username&&""!=g_username?a=g_username:"string"==typeof lpusername&&""!=lpusername&&(a=lpusername);null!=a&&("function"==typeof SHA256?lpusername_hash=SHA256(a):"function"==typeof lp_sha256&&(lpusername_hash=lp_sha256(a)))}}var g_lastattachreq="";
function checkAttach(){if(!("object"==typeof LP&&"undefined"!=typeof LP.isFennec&&LP.isFennec)&&("function"!=typeof canSaveAttach||canSaveAttach())&&0<lp_server_attach_version)checkUsernameHash(),ReadFileGeneric(lpusername_hash+"_version.att",25,function(a){a||(a=0);lp_local_attach_version=a;a<lp_server_attach_version&&lpusername_hash+a!=g_lastattachreq&&(g_lastattachreq=lpusername_hash+a,a="version="+LP.en(a)+"&b64=1&chunked=1",LP.lpMakeRequest(("string"==typeof base_url?base_url:LP.lp_base)+"getattach.php",
a,lpSaveAttach))})}function lpSaveAttach(a){4==a.readyState&&200==a.status&&(a=atob(a.responseText),lp_local_attach_version=get_version(a,"LPAT"),WriteFileGeneric(lpusername_hash+"_version.att",lp_local_attach_version),parseAttachData(a,!0),!isNaN(parseInt(lp_local_attach_version))&&(isFinite(lp_local_attach_version)&&parseInt(lp_local_attach_version)<lp_server_attach_version)&&LP.mostRecent().setTimeout(function(){checkAttach()},1E4))}
function lpReadAttach(a,b){checkUsernameHash();if(b)ReadFileGeneric(lpusername_hash+"_"+a+".att",null,function(a){a?b(b64_to_utf8_safe(a)):b(null)});else{var c=ReadFileGeneric(lpusername_hash+"_"+a+".att");return!c?null:b64_to_utf8_safe(c)}}
function parseAttachData(a){if(a&&a.length&&0==a.indexOf("LPAT"))for(var b=a.length,c=unserialize_num(a.substring(4,8))+8;c<b;){var d=unserialize_num(a.substring(c,c+4)),e=c+4,f=unserialize_num(a.substring(e,e+4)),g=a.substring(e+4,e+4+f),e=e+(4+f),f=unserialize_num(a.substring(e,e+4)),e=a.substring(e+4,e+4+f);"delete"==e?DeleteFileGeneric(lpusername_hash+"_"+g+".att"):WriteFileGeneric(lpusername_hash+"_"+g+".att",utf8_to_b64(e));c+=4+d}}
function applyattacharraychanges(a){if("undefined"!=typeof a.add)for(var b in a.add)if(a.add.hasOwnProperty(b)){var c=[];c.id=a.add[b].id;c.parent=a.add[b].parent;c.mimetype=a.add[b].mimetype;lp_attaches.push(c)}if("undefined"!=typeof a.remove)for(b in a.remove)for(a=0;a<lp_attaches.length;a++)b==lp_attaches[a].id&&lp_attaches.splice(a,1)}
function rollbackattacharrayadds(a){if("undefined"!=typeof a.add)for(var b in a.add)if(a.add.hasOwnProperty(b))for(var c=0;c<lp_attaches.length;c++)if(lp_attaches[c].id==a.add[b].id){lp_attaches.splice(c,1);break}}function utf8_to_b64(a){return btoa(a)}function b64_to_utf8_safe(a){return a&&a.length&&"!"==a[0]?a:b64_to_utf8(a)}function b64_to_utf8(a){return atob(a)}function is_encrypted_field(a){return"text"==a||"password"==a||"textarea"==a||"email"==a||"tel"==a||"url"==a}
function clear_filled_fields(a,b,c){"undefined"==typeof c&&(c=1);if(10<c)return null;if(a&&"object"==typeof a.lp_filled_fields){for(var d=0;d<a.lp_filled_fields.length;d++){var e=a.lp_filled_fields[d].value;a.lp_filled_fields[d].value="";""!=e&&fire_onchange(a.lp_filled_fields[d])}a.lp_filled_fields=[]}if(b&&b.frames){a=b.frames.length;10<a&&(a=10);for(d=0;d<a;d++)b.frames[d].document&&clear_filled_fields(b.frames[d].document,b.frames[d].window,c+1)}}
function get_sitepwlen(a){return"undefined"!=typeof LP&&"undefined"!=typeof LP.sitepwlen&&"undefined"!=typeof LP.sitepwlen[a]?LP.sitepwlen[a]:"undefined"!=typeof g_sitepwlen&&"undefined"!=typeof g_sitepwlen[a]?g_sitepwlen[a]:"undefined"!=typeof calllptoolband?parseInt(calllptoolband(["getsitepwlens",a])):1}
function fix_url_host(a){if("string"==typeof a){if(27<a.length&&-1!=a.indexOf("logmein.com",a.length-11)){var b=a.match(/^(.*)-[a-z]{10}(\.app).*(\.logmein\.com)$/);if(b)return b[1]+b[2]+b[3]}if(24<a.length&&-1!=a.indexOf("logme.in",a.length-8)&&(b=a.match(/^(.*)-[a-z]{10}(\.app).*(\.logme\.in)$/)))return b[1]+b[2]+b[3]}return a}function is_watermark(){return!1}function is_watermark_password(){return!1}
function updateAndEncryptData(a,b,c,d,e,f){e="";var g=null,k="undefined"==typeof g_shares?lpshares:g_shares;a="undefined"!=typeof a?a.split("\n"):[];for(var m=0;m<a.length;m++)if(g=a[m].split("\t"),!(4!=g.length&&5!=g.length)){var j=decodeURIComponent(g[1]),p=decodeURIComponent(g[2]),r=g[3],q=!1,n=p,s=!1,g=null;if("email"==r||"tel"==r||"text"==r||"password"==r||"hidden"==r||"textarea"==r||"url"==r){c&&c.push(p);if(f)if(("email"==r||"tel"==r||"text"==r||"url"==r)&&p==f.username&&(""!==p||"undefined"!=
typeof f.fromiframe&&""!=f.new_username))g=lpenc_acct(f.new_username,d,k);else{if("password"==r&&p==f.password&&(""!==p||"undefined"!=typeof f.fromiframe&&""!=f.new_password))g=lpenc_acct(f.new_password,d,k)}else g="undefined"!=typeof d.username&&""!=d.username&&p==lpmdec_acct(d.username,!0,d,k)?crypto_btoa(d.username):"undefined"!=typeof d.password&&""!=d.password&&p==lpmdec_acct(d.password,!0,d,k)?crypto_btoa(d.password):lpenc_acct(p,d,k);null==g?"function"==typeof verbose_log&&verbose_log("updateAndEncryptData ERROR: field="+
j):e+="0\t"+LP.en(j)+"\t"+LP.en(g)+"\t"+LP.en(r)+"\n";"hidden"!=r&&null!=g&&(q=!0,n=crypto_atob(g))}else if("action"==r)e+="0\taction\t"+LP.en(p)+"\taction\n";else if("method"==r)e+="0\tmethod\t"+LP.en(p)+"\tmethod\n";else{if(f&&0===f.save_all)continue;e+="0\t"+LP.en(j)+"\t"+LP.en(p)+"\t"+LP.en(r)+"\n";if("radio"==r||"checkbox"==r){if(s="-1"==p.substring(p.length-2),"radio"!=r||s)q=!0,n=p.substring(0,p.length-2)}else"select-one"==r&&(q=!0)}q&&(g=[],g.otherfield=!1,g.name=j,g.type=r,g.value=n,g.checked=
s,g.formname="",g.urid="0",g.otherlogin="0",g.url="",b[b.length]=g)}return e}function lp_ofa(a){return ofa.apply(this,arguments)}function lp_of(a){return of.apply(this,arguments)}function lp_ofja(a){return ofja.apply(this,arguments)}function lp_es(a){return es.apply(this,arguments)}
var lpffregexpnames="combineddummy phoneext gender ssn1 ssn2 ssn3 ssn birthyear birthmonth birthday birthdate city county state zip1 zip2 zip country email mobileemail housenumbername housenumber housename address1 ccphone address2 address3 mobilephone1 mobilephone2 mobilephone3 mobilephone evephone1 evephone2 evephone3 evephone phone1 phone2 phone3 phone fax1 fax2 fax3 fax title ccname ccnum1 ccnum2 ccnum3 ccnum4 cccsc ccnum ccstartmonth ccstartyear ccstart ccexpmonth ccexpyear ccexp cctype ccissuenum firstname3 firstname2 firstname middlename middleinitial lastname3 lastname2 lastname fulllastname address company username bankname addrbookname name age timezone bankacctnum bankroutingnum".split(" "),lpffdummyregexpnames=
"securityanswer promocode maiden comments invoice addrbookname emailalert combineddummy".split(" "),lpffregexpparents=[];lpffregexpparents.ssn1=lpffregexpparents.ssn2=lpffregexpparents.ssn3="ssn";lpffregexpparents.birthyear=lpffregexpparents.birthmonth=lpffregexpparents.birthday="birthdate";lpffregexpparents.address1=lpffregexpparents.address2=lpffregexpparents.address3="address";lpffregexpparents.phone1=lpffregexpparents.phone2=lpffregexpparents.phone3=lpffregexpparents.phone23="phone";
lpffregexpparents.evephone1=lpffregexpparents.evephone2=lpffregexpparents.evephone3=lpffregexpparents.evephone23="evephone";lpffregexpparents.mobilephone1=lpffregexpparents.mobilephone2=lpffregexpparents.mobilephone3=lpffregexpparents.mobilephone23="mobilephone";lpffregexpparents.fax1=lpffregexpparents.fax2=lpffregexpparents.fax3=lpffregexpparents.fax23="fax";lpffregexpparents.ccnum1=lpffregexpparents.ccnum2=lpffregexpparents.ccnum3=lpffregexpparents.ccnum4="ccnum";
lpffregexpparents.ccexpmonth=lpffregexpparents.ccexpyear="ccexp";lpffregexpparents.ccstartmonth=lpffregexpparents.ccstartyear="ccstart";lpffregexpparents.firstname=lpffregexpparents.middlename=lpffregexpparents.middleinitial=lpffregexpparents.lastname=lpffregexpparents.lastname2="name";lpffregexpparents.zip1=lpffregexpparents.zip2="zip";lpffregexpparents.lastname=lpffregexpparents.lastname2="fulllastname";var lpffregexps=[],lpfftextregexps=[],lastname2_index=-1,lastname3_index=-1;
function lptofillinfo(){}var lp_formfill_tld="";
function lpCheckFormFill(a,b,c,d,e,f,g,k,m,j,p){"undefined"==typeof lpshares&&(lpshares=[]);if("undefined"==typeof f||null==f)f=1;if(10<f)return!1;try{for(var r=b.getElementsByTagName("iframe"),q=0;q<r.length;++q){var n=r[q];null!=n.contentDocument&&lpCheckFormFill(a,n.contentDocument,c,d,e,f,g,k,m,j,p)}}catch(s){}r="string"==typeof m?!0:!1;m="string"==typeof m?m:"";r&&lpdbg("ffupload","DOING FORMBUILDER FILL : lang="+m);if(!a&&!g)return!1;n=null;if("object"==typeof LP&&!LP.isFennec&&null==LP.getBrowser().selectedTab)return!1;
var v=null;"object"==typeof LP&&(v=LP.isFennec?a:LP.getBrowser().selectedTab.linkedBrowser);var w=v&&v.contentDocument?v.contentDocument:null;try{if("undefined"==typeof g||null==g)g=a.contentWindow;n=a?LP.lpgetcurrenturl(a):g.location.href;"undefined"!=typeof punycode&&"undefined"!=typeof punycode.URLToASCII&&(n=punycode.URLToASCII(n));if("undefined"!=typeof lpformfills&&0==lpformfills.length&&!r){if(v){var u=v.contentDocument;u&&(u.m_abortedFormFillChecking=!0)}return!1}var C=b.getElementsByTagName("form");
if(w&&!c&&"undefined"!=typeof w.m_checkfillformresult&&w.m_checkfillformnumforms==C.length)return w.m_checkfillformresult;if(!c&&("undefined"!=typeof lpShowFormFillNotifications&&!lpShowFormFillNotifications||0==C.length)){if(v&&(u=v.contentDocument))u.m_abortedFormFillChecking=!0;w&&(w.m_checkfillformresult=!1,w.m_checkfillformnumforms=C.length);return!1}if(!c&&!d&&"undefined"!=typeof lp_notification_exists&&(lp_notification_exists(a,"autologin")||lp_notification_exists(a,"generate")||lp_notification_exists(a,
"formfill"))){if(v&&(u=v.contentDocument))u.m_abortedFormFillChecking=!0;w&&(w.m_checkfillformresult=!1,w.m_checkfillformnumforms=C.length);return!1}u=null;if(e)for(var F=0;F<lpformfills.length;F++){if(lpformfills[F].ffid==e){u=lpformfills[F];break}}else"undefined"!=typeof lpformfills&&!r&&(u=lpformfills[0]);v=!1;w&&"undefined"!=typeof w.lp_cc_asked?v=w.lp_cc_asked:"undefined"!=typeof g_cc_asked&&(v=g_cc_asked);"undefined"!=typeof j&&j&&(v=!0);var A=!1;w&&"undefined"!=typeof w.lp_cc_ok?A=w.lp_cc_ok:
"undefined"!=typeof g_cc_ok&&(A=g_cc_ok);"undefined"!=typeof p&&p&&(A=!0);var G=lpParseUri(n),D=lpcanonizeUrl(n,G),P=lp_gettld(G.host,n);lp_formfill_tld=P;if(!c&&"undefined"!=typeof never_ff&&never_ff(D,P))return w&&(w.m_checkfillformresult=!1,w.m_checkfillformnumforms=C.length),!1;lpFormFillInitRegexps("en-US");var G=null,E=lpffregexps["en-US"],J=lpfftextregexps["en-US"],D=lpffregexpnames;if(e)for(F=0;F<lpformfills.length;F++){if(lpformfills[F].ffid==e){var u=lpformfills[F],B=lpdec_acct(u.profilelanguage,
u,lpshares);5==B.length&&(G=B);"en-US"!=G&&lpFormFillInitRegexps(G);E=lpffregexps[G];J=lpfftextregexps[G];if("undefined"!=typeof u.customfields&&0<u.customfields.length){E=[];J=[];D=[];for(q=0;q<lpffregexps[G].length;q++)E[q]=lpffregexps[G][q],J[q]=lpfftextregexps[G][q],D[q]=lpffregexpnames[q];for(q=0;q<u.customfields.length;q++){var Z=lpdec_acct(u.customfields[q].text,u,lpshares),N=lpdec_acct(u.customfields[q].alttext,u,lpshares).split(/\r\n|\r|\n/g);N.unshift(Z);for(var P=B="",T=0;T<N.length;T++)Z=
lptrim(N[T]),""!=Z&&(B+=P+lp_regexp_quote(Z),P="|");""!=B&&(E.unshift(RegExp(B,"i")),J.unshift(RegExp(B,"i")),D.unshift("customfield"+q))}}break}}else r&&(u=new lpformfillinfo,u.group="",u.ffid="0",u.profiletype="",u.profilename="translation",u.profilelanguage=lpenc(m),u.firstname=lpenc("firstname"),u.firstname2=lpenc("firstname2"),u.firstname3=lpenc("firstname3"),u.middlename=lpenc("middlename"),u.lastname=lpenc("lastname"),u.lastname2=lpenc("lastname2"),u.lastname3=lpenc("lastname3"),u.email=lpenc("email"),
u.mobileemail=lpenc("mobileemail"),u.company=lpenc("company"),u.ssn=lpenc("ssn"),u.birthday=lpenc("birthday"),u.address1=lpenc("address1"),u.address2=lpenc("address2"),u.address3=lpenc("address3"),u.city=lpenc("city"),u.county=lpenc("county"),u.state=lpenc("state"),u.state_name=lpenc("state_name"),u.zip=lpenc("zip"),u.country=lpenc("country"),u.country_cc3l=lpenc("country_cc3l"),u.country_name=lpenc("country_name"),u.countryphone="countryphone",u.countryevephone="countryevephone",u.countryfaxphone=
"countryfaxphone",u.countrymobphone="countrymobphone",u.phoneext=lpenc("phoneext"),u.evephoneext=lpenc("evephoneext"),u.faxphoneext=lpenc("faxphoneext"),u.mobilephoneext=lpenc("mobilephoneext"),u.phone=lpenc("phone"),u.evephone=lpenc("evephone"),u.fax=lpenc("fax"),u.mobilephone=lpenc("mobilephone"),u.ccname=lpenc("ccname"),u.ccnum=lpenc("ccnum"),u.ccstart=lpenc("ccstart"),u.ccexp=lpenc("ccexp"),u.cccsc=lpenc("cccsc"),u.ccissuenum=lpenc("ccissuenum"),u.username=lpenc("username"),u.gender=lpenc("gender"),
u.title=lpenc("title"),u.pwprotect="0",u.creditmon="0",u.customfields=[],u.timezone=lpenc("timezone"),u.bankname=lpenc("bankname"),u.bankacctnum=lpenc("bankacctnum"),u.bankroutingnum=lpenc("bankroutingnum"),u.notes=lpenc("notes"),"undefined"==typeof LP_to_formfill&&(LP_to_formfill=[]),LP_to_formfill.promocode="promocode",B=m,5==B.length&&(G=B),"en-US"!=G&&lpFormFillInitRegexps(G),E=lpffregexps[G],J=lpfftextregexps[G]);B=N=Z=null;try{c&&(g.getSelection?(Z=g.getSelection(),""==Z.toString()?Z=N=B=null:
(Z.getRangeAt&&(N=Z.getRangeAt(0)),b.createRange&&(B=b.createRange()))):b.selection&&(Z=b.selection.createRange(),B=b.body.createTextRange(),""==Z.text&&(Z=N=B=null)))}catch(ba){Z=N=B=null}var P={value:0},I={value:0},U={},z={},$={},Q={};U.value=!1;z.value=!1;$.value=!1;Q.value=!1;for(F=0;F<C.length+1;F++){var O=F<C.length?C[F]:null,R;if(null!=O)R=O.elements;else{R=[];for(var V=["input","select","textarea"],q=0;q<V.length;q++)for(var W=b.getElementsByTagName(V[q]),T=0;T<W.length;T++)if("unknown"==
typeof W[T].form||null==W[T].form)R[R.length]=W[T]}if("undefined"!=typeof R){for(var ja=R.length,V=[],T=0;T<E.length;T++)V[D[T]]=0;var H=[];lpdbg("formfill","Form #:"+F+" elements: "+R.length+" checking: "+ja+" rec_count: "+f);var ca=populateToFillForFormFill(R,a,{value:0},V,H,{value:!1},c,Z,N,B,I,E,D,J,P,d,U,z,$,Q,g,G);if(0==ca)return w&&(w.m_checkfillformresult=!1,w.m_checkfillformnumforms=C.length),!1;if(1==ca)return w&&(w.m_checkfillformresult=!0,w.m_checkfillformnumforms=C.length),!0;if(c){var M=
"birthday",y="birthmonth";u&&"US"==lpdec_acct(u.country,u,lpshares)&&(M="birthmonth",y="birthday");var x=[];"es-ES"!=G&&"es-MX"!=G&&"ca-ES"!=G&&"ja-JP"!=G?(x[x.length]="name name name firstname middlename lastname".split(" "),x[x.length]="firstname firstname lastname firstname middlename lastname".split(" "),x[x.length]="firstname lastname lastname firstname middlename lastname".split(" "),x[x.length]=["name","name","firstname","lastname"],x[x.length]=["name","lastname","firstname","lastname"],x[x.length]=
["name","firstname","firstname","lastname"],x[x.length]="lastname lastname lastname firstname middlename lastname".split(" "),x[x.length]=["lastname","lastname","firstname","lastname"],x[x.length]=["firstname","firstname","firstname","lastname"],x[x.length]="firstname lastname firstname firstname middlename lastname".split(" "),x[x.length]=["firstname","name","firstname","lastname"]):(x[x.length]="name lastname lastname firstname lastname lastname2".split(" "),x[x.length]="name lastname lastname2 firstname lastname lastname2".split(" "),
x[x.length]=["name","lastname","firstname","fulllastname"],x[x.length]="firstname lastname lastname firstname lastname lastname2".split(" "),x[x.length]=["fulllastname","fulllastname","lastname","lastname2"],x[x.length]=["name","name","firstname","lastname"]);x[x.length]="address address address address1 address2 address3".split(" ");x[x.length]="address2 address2 address address1 address2 address3".split(" ");x[x.length]="address1 address3 address2 address1 address2 address3".split(" ");x[x.length]=
["address","address","address1","address2"];x[x.length]=["address","address2","address1","address2"];x[x.length]=["address1","address1","address1","address2"];x[x.length]=["address","address1","address1","address2"];x[x.length]=["address2","address2","address1","address2"];x[x.length]=["address1","address3","address1","address2"];x[x.length]=["address","address3","address1","address2"];x[x.length]="ssn ssn ssn ssn1 ssn2 ssn3".split(" ");x[x.length]=["zip","zip","zip1","zip2"];x[x.length]=["birthmonth",
"birthdate","birthyear",M,y,"birthyear"];x[x.length]=["birthday","birthday","birthday",M,y,"birthyear"];x[x.length]=["birthdate","birthdate","birthdate",M,y,"birthyear"];x[x.length]=["birthdate","birthdate","birthyear",M,y,"birthyear"];x[x.length]=["birthday","birthday",M,y];x[x.length]=["birthdate","birthdate",M,y];for(M=1;4>=M;M++)y="evephone",2==M&&(y="phone"),3==M&&(y="fax"),4==M&&(y="mobilephone"),x[x.length]=[y,y,y,y+"1",y+"2",y+"3"],x[x.length]=[y+"1",y+"2",y,y+"1",y+"2",y+"3"],x[x.length]=
[y+"1",y+"1",y+"2",y+"1",y+"2",y+"3"],x[x.length]=[y+"1",y+"1",y+"1",y+"1",y+"2",y+"3"],x[x.length]=[y+"1",y,y,y+"1",y+"2",y+"3"],x[x.length]=[y,y,y+"2",y+"1",y+"2",y+"3"],x[x.length]=[y,y+"2",y+"3",y+"1",y+"2",y+"3"],x[x.length]=[y,y+"2",y,y+"1",y+"2",y+"3"],x[x.length]=[y,y+"3",y,y+"1",y+"2",y+"3"],x[x.length]=[y,y,y+"1",y+"23"];x[x.length]="ccnum ccnum ccnum ccnum ccnum1 ccnum2 ccnum3 ccnum4".split(" ");x[x.length]="ccnum ccnum ccnum ccnum1 amexccnum2 amexccnum3".split(" ");x[x.length]=["ccexp",
"ccexp","ccexpmonth","ccexpyear"];x[x.length]=["ccexp","ccexpyear","ccexpmonth","ccexpyear"];x[x.length]=["ccexpyear","ccexpyear","ccexpmonth","ccexpyear"];x[x.length]=["ccstart","ccstart","ccstartmonth","ccstartyear"];x[x.length]=["ccstart","ccstartyear","ccstartmonth","ccstartyear"];x[x.length]="cctype cctype cctype firstname middlename lastname".split(" ");if(z.value||U.value||Q.value||$.value){M=!0;for(q=0;q<H.length;q++)"country"==H[q].namematch&&"country"==H[q].textmatch&&(M=!1),"state"==H[q].namematch&&
"state"==H[q].textmatch&&(M=!1);lpdbg("state","Flipping stage 1 check --  continue: "+M);if(M){M=[];y=[];for(q=0;q<H.length;q++){var ia=H[q].namematch,K=H[q].textmatch;""!=ia&&(y[ia]=1);""!=K&&(M[K]=1)}var fa=array_size(y),ga=array_size(M);if(fa>ga){lpdbg("state","More unique namematches than text -- flipping tm:"+ga+" nm:"+fa);for(q=0;q<H.length;q++)H[q].namematch&&(H[q].regexpname=H[q].namematch)}else lpdbg("state","more unique textmatches than name -- SKIPPING FLIP tm:"+ga+" nm:"+fa)}}CheckForLoners(H);
for(q=0;q<H.length;q++){var aa=H[q],S=aa.elt;if(lpIsVisible(S)){for(var X=aa.regexpname,M=!1,T=0;T<x.length;T++){var da=x[T];if(0==da.length%2&&X==da[0]){var ha=da.length/2;if(!(q>=H.length-(ha-1))&&!("cctype"==da[0]&&"firstname"==da[3]&&("select-one"==S.type||"radio"==S.type))){for(y=0;y<ha&&check_size_or_maxlen(H[q+y].elt,da[ha+y])&&!(1<=y&&(H[q+y].regexpname!=da[y]||!H[q+y].last_field_filled));y++);if(!(y<ha)){X=da[ha];for(y=1;y<ha;y++)H[q+y].regexpname=da[ha+y];M=!0;break}}}}if(!M&&"cctype"==
X&&"select-one"!=S.type&&"radio"!=S.type){for(var ea=!1,Y=0;Y<H.length;Y++)if(0==H[Y].regexpname.indexOf("ccnum")){ea=!0;break}ea||(X="ccnum")}else if(!M&&"bankacctnum"==X){y=M=ea=!1;for(Y=0;Y<H.length;Y++)if(0==H[Y].regexpname.indexOf("ccnum")){ea=!0;break}else if(0==H[Y].regexpname.indexOf("cc"))M=!0;else if(0==H[Y].regexpname.indexOf("bank")&&"bankacctnum"!=H[Y].regexpname){y=!0;break}!ea&&(M&&!y)&&(X="ccnum")}else if(!M&&"cccsc"==X){ea=!1;for(Y=0;Y<H.length;Y++)if(0==H[Y].regexpname.indexOf("ccnum")){ea=
!0;break}if(!ea)continue}else if(!M&&0==X.indexOf("ccnum")&&"select-one"==S.type)X="cctype";else if("address3"==X&&""==u.address3&&""!=u.city){M=!1;for(Y=0;Y<H.length;Y++)if("city"==H[Y].regexpname){M=!0;break}M||(X="city")}else if("address"==X&&"textarea"==S.type){M=!1;for(Y=0;Y<H.length;Y++)if("city"==H[Y].regexpname||"county"==H[Y].regexpname||"state"==H[Y].regexpname){M=!0;break}M||(X="fulladdress")}if("undefined"!=typeof lpdonotoverwritefilledfields&&lpdonotoverwritefilledfields)if(("email"==
S.type||"text"==S.type||"password"==S.type||"textarea"==S.type||"tel"==S.type||"url"==S.type)&&""!=S.value)continue;else if("select-one"==S.type&&0!=S.selectedIndex)continue;else if(("checkbox"==S.type||"radio"==S.type)&&S.checked)continue;if(0==X.indexOf("cc"))if(v&&!A)continue;else if(!v||!A)if(M=X,"undefined"!=typeof lpffregexpparents[X]?M=lpffregexpparents[X]:"cctype"==X&&(M="ccnum"),u&&"undefined"!=typeof u[M]&&""!=u[M]){if(!v){var ka=lpgs("InsecureSite",G);try{0==g.location.href.indexOf("https://")&&
(ka=lpgs("AskBeforeFillCC",G))}catch(la){}A=lpConfirmYesNo(ka)?!0:!1;v=!0;w?(w.lp_cc_asked=v,w.lp_cc_ok=A):"undefined"!=typeof g_cc_asked&&(g_cc_asked=v,g_cc_ok=A)}if(!A)continue}var ma=S.value;lpFillFormField(w,S,X,e,k,G,r,u,m);S.value!=ma&&("undefined"==typeof V[X]&&(V[X]=0),V[X]++)}}}}}if(g&&g.frames&&(!c||null==Z))for(F=0;F<g.frames.length;F++)try{if(g.frames[F].document){lpdbg("prof","recurs");j=v?!0:null;p=A?!0:null;var na=lpCheckFormFill(a,g.frames[F].document,c,d,e,f+1,g.frames[F].window,
k,null,j,p);if(na&&!c)return w&&(w.m_checkfillformresult=na,w.m_checkfillformnumforms=C.length),na}}catch(pa){}c&&("undefined"!=typeof lploglogins&&lploglogins&&1==f)&&lplogformfill(e,!1,"",g)}catch(oa){lpReportError("Failure with checking formfill: "+oa+" ln: "+oa.lineNumber,n)}if(!c)return w&&(w.m_checkfillformresult=!1,w.m_checkfillformnumforms=C.length),!1}
function DoFillReplace(a,b){for(var c=a[0],d=0;d<a.length;d++)for(var e=0;e<b.length;e++)b[e].regexpname==a[d]&&(b[e].regexpname=c,b[e].namematch==a[d]&&(b[e].namematch=c),b[e].textmatch==a[d]&&(b[e].textmatch=c))}function CheckForLoners(a){var b=[];b[b.length]=["birthdate","birthday","birthmonth"];for(var c="",d=0;d<a.length;d++)c+=","+a[d].regexpname;for(d=0;d<b.length;d++){for(var e=0,f=1;f<b[d].length;f++)e+=-1==c.indexOf(","+b[d][f])?0:1;1==e&&DoFillReplace(b[d],a)}}
function populateToFillForFormFill(a,b,c,d,e,f,g,k,m,j,p,r,q,n,s,v,w,u,C,F,A,G){for(var D=a.length,P=0,E=0;E<D;E++){var J=!1,B=a[E];if(("email"==B.type||"text"==B.type||"password"==B.type||"select-one"==B.type||"textarea"==B.type||"radio"==B.type||"tel"==B.type||"url"==B.type||"checkbox"==B.type)&&!("select-one"==B.type&&!0==B.disabled)){if(100<++P){lpdbg("formfill","More than 100 inputs, limiting to 100");break}var Z=getname(B),N=!1;if(""!=Z){try{if(g&&null!=k)if(-1!=A.navigator.userAgent.indexOf("Opera")){j.setStart(B,
0);j.setEnd(B,0);var T=m.compareBoundaryPoints(Range.START_TO_START,j),ba=m.compareBoundaryPoints(Range.END_TO_END,j);if(0<T||0>ba)continue}else if("function"==typeof k.containsNode){if(!k.containsNode(B,!0))continue}else if(null!=j&&"undefined"!=typeof j.moveToElementText){var I=B;if("select-one"==I.type){for(var U=I.previousSibling,z=!1;U;){if(1==U.nodeType&&"SELECT"!=U.tagName){I=U;z=!0;break}U=U.previousSibling}z||(I=I.parentNode)}j.moveToElementText(I);T=k.compareEndPoints("StartToStart",j);
ba=k.compareEndPoints("EndToEnd",j);if(0<T||0>ba)continue}}catch($){}var Q=0,O=0;"undefined"!=typeof B.size&&(Q=parseInt(B.size));"undefined"!=typeof B.maxLength&&(O=parseInt(B.maxLength));0>=Q&&(0>=O&&B.style)&&(I=B.style.width,I.match(/^\d+px$/)&&(I=parseInt(I.substring(0,I.length-2)),0==I%10&&(Q=I/10)));var R=!0,I=[],V=[];try{var W=B.getAttribute("autocompletetype");if("string"!=typeof W||""==W)W=B.getAttribute("autocomplete");if("string"==typeof W&&""!=W)for(var ja=W.split(" "),z="",H=0;H<ja.length;H++){switch(ja[H]){case "given-name":z=
"firstname";break;case "middle-name":z="middlename";break;case "additional-name":z="middlename";break;case "middle-initial":z="middleinitial";break;case "additional-name-initial":z="middleinitial";break;case "surname":z="lastname";break;case "family-name":z="lastname";break;case "name-full":z="name";break;case "name":z="name";break;case "name-prefix":z="title";break;case "honorific-prefix":z="title";break;case "street-address":z="address";break;case "address-line1":z="address1";break;case "address-line2":z=
"address2";break;case "address-line3":z="address3";break;case "locality":z="city";break;case "city":z="city";break;case "administrative-area":z="state";break;case "state":z="state";break;case "province":z="state";break;case "region":z="state";break;case "postal-code":z="zip";break;case "country":z="country";break;case "country-name":z="country";break;case "email":z="email";break;case "phone-full":z="fullphone";break;case "tel":z="fullphone";break;case "phone-country-code":z="phonecc";break;case "tel-country-code":z=
"phonecc";break;case "phone-national":z="phone";break;case "tel-national":z="phone";break;case "phone-area-code":z="phone1";break;case "tel-area-code":z="phone1";break;case "phone-local":z="phone23";break;case "tel-local":z="phone23";break;case "phone-local-prefix":z="phone2";break;case "tel-local-prefix":z="phone2";break;case "phone-local-suffix":z="phone3";break;case "tel-local-suffix":z="phone3";break;case "phone-extension":z="phoneext";break;case "tel-extension":z="phoneext";break;case "fax-full":z=
"fullfax";break;case "fax":z="fullfax";break;case "fax-country-code":z="faxcc";break;case "fax-national":z="fax";break;case "fax-area-code":z="fax1";break;case "fax-local":z="fax23";break;case "fax-local-prefix":z="fax2";break;case "fax-local-suffix":z="fax3";break;case "fax-extension":z="faxphoneext";break;case "cc-full-name":z="ccname";break;case "cc-name":z="ccname";break;case "cc-given-name":z="ccfirstname";break;case "cc-middle-name":z="ccmiddlename";break;case "cc-additional-name":z="ccmiddlename";
break;case "cc-surname":z="cclastname";break;case "cc-family-name":z="cclastname";break;case "cc-number":z="ccnum";break;case "cc-exp-month":z="ccexpmonth";break;case "cc-exp-year":z="ccexpyear";break;case "cc-exp":z="ccexp";break;case "cc-csc":z="cccsc";break;case "language":z="language";break;case "birthday":z="birthdate";break;case "bday":z="birthdate";break;case "birthday-month":z="birthmonth";break;case "bday-month":z="birthmonth";break;case "birthday-year":z="birthyear";break;case "bday-year":z=
"birthyear";break;case "birthday-day":z="birthday";break;case "bday-day":z="birthday";break;case "organization":z="company";break;case "org":z="company";break;case "gender":z="gender";break;case "sex":z="gender"}if(""!=z){I[0]=V[0]=z;if(!g&&(p.value++,c.value++,3<=++s.value))return!v&&("undefined"==typeof lp_notification_exists||!lp_notification_exists(b,"addconfirm"))&&lp_showNotification("FillableFormDetected",b,0,"formfill"),b?b.contentDocument.ffidindex=-1:document.ffidindex=-1,!0;break}}}catch(ca){}if(0==
I.length){var M=z=!1,y="";if(g||5>=++p.value)g&&(y=lpGetTextBeforeFormField(B));if(!g&&20<p.value)return!1;var x=2,ia=1;g||(x=ia=""!=y?2:1);if("undefined"!=typeof r&&"undefined"!=typeof r.length)for(H=0;H<r.length&&R&&!z;H++)if(null!=r[H]){var K=q[H];if(!("radio"==B.type&&"gender"!=K&&"cctype"!=K&&0!=K.indexOf("customfield"))&&!("checkbox"==B.type&&"gender"!=K&&0!=K.indexOf("customfield"))&&!("select-one"==B.type&&"state"!=K&&"country"!=K&&"cctype"!=K&&"timezone"!=K&&"city"!=K&&0!=K.indexOf("birth")&&
"title"!=K&&0!=K.indexOf("ccexp")&&0!=K.indexOf("ccstart")&&"gender"!=K&&"age"!=K&&0!=K.indexOf("customfield"))&&!("password"==B.type&&0!=K.indexOf("ccnum")&&"cccsc"!=K&&"ccissuenum"!=K&&"cctype"!=K&&"bankacctnum"!=K&&0!=K.indexOf("ssn")&&0!=K.indexOf("customfield"))&&(!("text"==B.type||"textarea"==B.type||"email"==B.type||"tel"==B.type||"url"==B.type)||!("cctype"==K||"timezone"==K||"gender"==K))&&check_size_or_maxlen(B,K,!0,Q,O)&&!(0==K.indexOf("address")&&0<O&&15>O)){for(var fa=!1,ga=!1,aa=x;aa>=
ia&&!(1==aa&&!fa&&0<V.length&&"select-one"!=B.type);aa--){var S;if(1==aa)S=Z;else if(2==aa&&(S=y,""==S))continue;var X=1==aa?r[H]:n[H];if(("undefined"==typeof d[K]||2>d[K])&&regexp_match_c(X,S)){if(2==aa&&("evephone"==K||"mobilephone"==K))M=!0;if(2==aa&&"phone"==K&&M)break;if(!g&&!N){if(!lpIsVisible(B)){R=!1;J=f.value;break}N=!0}lp_in_array(K,lpffdummyregexpnames)?"undefined"!=typeof LP_to_formfill&&"undefined"!=typeof LP_to_formfill.promocode&&RegExp(lpgs("ff_promocode_regexp",G),"i").exec(S)&&(s.value++,
c.value++,K="promocode"):(s.value++,c.value++);if(g)1==aa?(I[I.length]=K,ga=!0):(V[V.length]=K,fa=!0);else{"undefined"==typeof d[K]&&(d[K]=0);d[K]++;if(3<=s.value)return!v&&("undefined"==typeof lp_notification_exists||!lp_notification_exists(b,"addconfirm"))&&lp_showNotification("FillableFormDetected",b,0,"formfill"),b?b.contentDocument.ffidindex=-1:document.ffidindex=-1,!0;z=!0;break}}}if(fa&&ga)break}}}if(g&&R){Q=[];for(O=0;O<V.length;O++)lp_in_array(V[O],I)?Q[Q.length]=V[O]:"undefined"!=typeof lpffregexpparents[V[O]]&&
lp_in_array(lpffregexpparents[V[O]],I)&&(Q[Q.length]=V[O]);N=null;if(0<Q.length)N=Q[0];else if(0<V.length)N=V[0];else if(0<I.length){if(0==I[0].indexOf("ccnum")&&"select-one"==B.type)for(N=1;N<I.length;N++)if(0==I[N].indexOf("ccexp")){I.shift();break}N=I[0]}for(O=0;O<I.length;O++)if(0==I[O].indexOf("customfield")){N=I[O];break}if(null!=N){"name"==N&&(lp_in_array("name",Q)&&lp_in_array("company",V))&&(N="company");if("ccexp"==N&&"select-one"==B.type&&lp_in_array("ccexp",V)&&lp_in_array("cctype",I)&&
12!=B.options.length&&13!=B.options.length){for(J=0;J<B.options.length&&!B.options[J].value.match(/^(?:\d{1,2}|\d{4}|\d{2}\/?(?:\d{2}|\d{4}))$/)&&!B.options[J].text.match(/^(?:\d{1,2}|\d{4}|\d{2}\/?(?:\d{2}|\d{4}))$/);J++);J==B.options.length&&(N="cctype")}"ccexp"==N&&("text"==B.type&&lp_in_array("ccexp",V)&&lp_in_array("cccsc",I)&&"undefined"!=typeof B.maxLength&&3<=B.maxLength&&4>=B.maxLength)&&(N="cccsc");J=new lptofillinfo;J.elt=B;J.regexpname=N;J.last_field_filled=f.value;Q=N="";0<V.length&&
(Q=V[0]);0<I.length&&("state"==I[0]&&("state"!=Q&&"select-one"==B.type)&&(u.value=!0),"country"==I[0]&&("country"!=Q&&"select-one"==B.type)&&(w.value=!0),"ccexpmonth"==I[0]&&("ccexpmonth"!=Q&&"ccexp"!=Q&&"select-one"==B.type)&&(C.value=!0),"ccexpyear"==I[0]&&("ccexpyear"!=Q&&"ccexp"!=Q&&"select-one"==B.type)&&(F.value=!0),N=I[0]);J.namematch=N;J.textmatch=Q;e[e.length]=J;J=!0}}}f.value=J}}return 2}
function lpClearForms(a,b,c,d){if("undefined"==typeof c||null==c)c=1;if(10<c||!a&&!d||!b)return!1;for(var e=["input","select"],f=0;f<e.length;f++)for(var g=b.getElementsByTagName(e[f]),k=0;k<g.length;k++){var m=g[k];if(!m.readOnly&&!m.disabled)if("email"==m.type||"text"==m.type||"password"==m.type||"tel"==m.type||"url"==m.type)""!=m.value&&(m.value="",fire_onchange(m));else if("select-one"==m.type)0!=m.selectedIndex&&(m.selectedIndex=0,fire_onchange(m));else if(("radio"==m.type||"checkbox"==m.type)&&
m.checked)m.checked=!1,fire_onchange(m)}if("undefined"==typeof d||null==d)d=a.contentWindow;if(d&&d.frames)for(f=0;f<d.frames.length;f++)d.frames[f].document&&lpClearForms(a,d.frames[f].document,c+1,d.frames[f].window)}var g_lastmodifiedlocalefile={},g_overrideregexps={};
function lpFormFillInitRegexps(a){var b=!1;if("function"==typeof lpLastModifiedFile){var c=lpLastModifiedFile(a+".properties");if(c&&("undefined"==typeof g_lastmodifiedlocalefile[a]||g_lastmodifiedlocalefile[a]<c))if(lpdbg("ffupload","lpFormFillInitRegexps found updated override file for locale="+a),b=!0,g_lastmodifiedlocalefile[a]=c,g_overrideregexps[a]={},c=lpReadFile(a+".properties",null)){var c=c.replace("\r\n","\n"),c=c.replace("\r","\n"),d=c.split("\n"),e=d.length;lpdbg("ffupload","Found "+
e+" override lines");for(c=0;c<e;++c){var f=lptrim(d[c]);if(0==f.indexOf("ff_")){var g=f.indexOf("=");if(-1!=g){var k=f.substring(0,g),f=f.substring(g+1);g_overrideregexps[a][k]=f}}}}}if(b||"undefined"==typeof lpffregexps[a])lpffregexps[a]=[],lpfftextregexps[a]=[];if(!(0<lpffregexps[a].length)){b=!1;for(c=0;c<lpffregexpnames.length;c++)d="ff_"+lpffregexpnames[c]+"_regexp",e=lpgs(d,a,!0),e!=d&&(b=!0),"undefined"!=typeof g_overrideregexps[a]&&"undefined"!=typeof g_overrideregexps[a][d]&&(e=g_overrideregexps[a][d],
lpdbg("ffupload","Overriding ffregexp: locale="+a+" : "+d+"="+e)),lpffregexps[a][c]=e.length?RegExp(e,"i"):null,"lastname2"==lpffregexpnames[c]&&(lastname2_index=c),"lastname3"==lpffregexpnames[c]&&(lastname3_index=c),d="ff_text_"+lpffregexpnames[c]+"_regexp",e=lpgs(d,a,!0),"undefined"!=typeof g_overrideregexps[a]&&"undefined"!=typeof g_overrideregexps[a][d]&&(e=g_overrideregexps[a][d],lpdbg("ffupload","Overriding ffregexp text: locale="+a+" : "+d+"="+e)),lpfftextregexps[a][c]=e.length&&e!=d?RegExp(e,
"i"):lpffregexps[a][c];b||delete lpffregexps[a]}}
function lpGetTextBeforeFormField(a){var b="";try{if(""!=a.id&&"undefined"!=typeof a.ownerDocument&&null!=a.ownerDocument)for(var c=a.ownerDocument.getElementsByTagName("label"),d=0;d<c.length;d++)if(c[d].htmlFor==a.id){var e=strip(lpGetText(c[d],a,!1,!0));if(2<=e.length)return e;break}if("string"==typeof a.placeholder&&2<a.placeholder.length)return a.placeholder;var f=a.parentNode;if(f&&("DIV"==f.tagName||"SPAN"==f.tagName))f=f.parentNode;if(f&&"TD"==f.tagName){var g=strip(lpGetText(f,a,!1,!0));
if(2<=g.length)return g;var k=f.parentNode,m=strip(lpGetText(k,a,!1,!0));if(2<=m.length)return m;var g=c=-1,j=f.offsetParent;if(j)for(m=0;m<j.rows.length;m++)if(k==j.rows[m]){c=m;break}for(m=0;m<k.cells.length;m++)if("undefined"!=typeof k.cells[m]&&f==k.cells[m]){g=m;break}f=0;if(0<c&&-1!=g){for(d=m=k=0;d<=g;d++){var p=j.rows[c].cells[d],r=1;p&&"number"==typeof p.colSpan&&(r=p.colSpan);d<g?k+=r:m=k+r-1}for(var q=0,d=0;d<=m;d++){p=j.rows[c-1].cells[d];r=1;p&&"number"==typeof p.colSpan&&(r=p.colSpan);
var n=1;p&&"number"==typeof p.rowSpan&&(n=p.rowSpan);1<n&&(k+=n-1,m+=n-1);var n=q,s=q+r-1;if((k>=n&&k<=s||m>=n&&m<=s)&&p)if(e=strip(lpGetText(p,a,!1,!0)),2<=e.length){b=e;f=1;break}q+=r}}if(!f&&(-1!=c&&-1!=g)&&(p=j.rows[c].cells[0]))e=strip(lpGetText(p,a,!1,!0)),2<=e.length&&(b=e)}}catch(v){lpdbg("error","Table Text problem.."+v+" ln: "+v.lineNumber)}""==b&&(b=lpGetTextBeforeFormField_orig(a));return b}
function innerHTMLParse(a,b){var c="",d=a.innerHTML,e=RegExp("<(input|select|textarea)[^>]+name=[\"']?"+lp_regexp_quote(lpxmlescape(getname(b)))+"[\"']?[^>]*>","i"),e=e.exec(d);if(!e&&(e=RegExp("<(input|select|textarea)[^>]+id=[\"']?"+lp_regexp_quote(lpxmlescape(getname(b)))+"[\"']?[^>]*>","i"),e=e.exec(d),!e))return"";for(var f=d.indexOf(e[0]),e=0,g=1001<f?f-1001:0,f=f-1;f>=g;f--){var k=d.charAt(f);if(">"==k){if(0>=e){c=c.replace(/&nbsp;/," ");c=strip(c);if(2<c.length)return c;c=""}e++}else"<"==
k?0<e&&e--:0>=e&&(c=k+c)}c=c.replace(/&nbsp;/," ");c=strip(c);2<c.length||(c="");return c}function lpGetTextBeforeFormField_orig(a){if(""==getname(a))return"";for(var b=a,c="",d=0;10>d&&b.parentNode;d++){var b=b.parentNode,c=strip(lpGetText(b,a)),e=200;try{"undefined"!=typeof lp_formfill_tld&&"lifelock.com"==lp_formfill_tld&&(e=150)}catch(f){}if(c.length>e)return a=innerHTMLParse(b,a),lpdbg("error","Using innerHTMLParse:"+a),a;if(2<=c.length)break}return c}
function check_size_or_maxlen(a,b,c,d,e){if("ssn1"==b||"ssn2"==b||"ssn3"==b||"ccnum1"==b||"ccnum2"==b||"ccnum3"==b||"ccnum4"==b||"phone1"==b||"phone2"==b||"phone3"==b||"phone23"==b||"evephone1"==b||"evephone2"==b||"evephone3"==b||"evephone23"==b||"mobilephone1"==b||"mobilephone2"==b||"mobilephone3"==b||"mobilephone23"==b||"fax1"==b||"fax2"==b||"fax3"==b||"fax23"==b||"zip1"==b||"zip2"==b||"amexccnum2"==b||"amexccnum3"==b){if("undefined"==typeof d||"undefined"==typeof e)e=d=0,"undefined"!=typeof a.size&&
(d=parseInt(a.size)),"undefined"!=typeof a.maxLength&&(e=parseInt(a.maxLength)),0>=d&&(0>=e&&a.style)&&(a=a.style.width,a.match(/^\d+px$/)&&(a=parseInt(a.substring(0,a.length-2)),0==a%10&&(d=a/10)));"ssn2"==b?b=a=2:"ssn1"==b||"phone1"==b||"phone2"==b||"fax1"==b||"fax2"==b||"evephone1"==b||"evephone2"==b||"mobilephone1"==b||"mobilephone2"==b?b=a=3:"zip1"==b?(b=5,a=2):"phone23"==b||"fax23"==b||"evephone23"==b||"mobilephone23"==b?(b=8,a=7):"ccnum4"==b||"zip2"==b?(b=4,a=3):"amexccnum2"==b?b=a=6:"amexccnum3"==
b?b=a=5:"phone3"==b||"fax3"==b||"mobilephone3"==b||"evephone3"==b?(b=5,a=4):b=a=4;if((0>=d||d>b)&&(0>=e||e>b)||c&&0<e&&e<a)return!1}return!0}var g_allowtruncate=!0;
function lpFillFormField(a,b,c,d,e,f,g,k,m){(g="undefined"!=typeof g?g:!1)&&(g_allowtruncate=!1);try{e&&0==c.indexOf("cc")&&(d=e);e=null;if(d)for(var j=0;j<lpformfills.length;j++){if(lpformfills[j].ffid==d){e=lpformfills[j];break}}else g?g&&(e=k):e=lpformfills[0];if(e&&!b.readOnly&&!b.disabled){a&&(a.formfillffid=d);d=k=0;"undefined"!=typeof b.size&&(k=parseInt(b.size));"undefined"!=typeof b.maxLength&&(d=parseInt(b.maxLength));check_size_or_maxlen(b,c)||(c=c.replace(/\d+$/,""));var p=b.value;if(0==
c.indexOf("customfield")){var r=parseInt(c.substring(11));e.customfields.length>r&&lpSetValue(a,b,lpdec_acct(e.customfields[r].value,e,lpshares))}var q="select-one"==b.type&&(b.options[0].value.match(/^\d{4}$/)||1<b.options.length&&b.options[1].value.match(/^\d{4}$/));"birthmonth"==c&&"select-one"==b.type&&28<=b.options.length?c=q?"birthyear":"birthday":"birthday"==c&&"select-one"==b.type&&28>b.options.length?c="birthmonth":"birthday"==c&&"select-one"==b.type&&q?c="birthyear":"birthyear"==c&&"select-one"==
b.type&&0<b.options.length&&b.options[0].value.match(/^\d$/)&&0!=b.options[0].value?c="birthday":"birthyear"==c&&("select-one"==b.type&&35>b.options.length)&&(c=12<b.options.length?"birthday":"birthmonth");if("ccexpmonth"==c&&"select-one"==b.type&&0<b.options.length&&(b.options[b.options.length-1].value.match(/^\d{4}$/)||b.options[b.options.length-1].text.match(/^\d{4}$/)))c="ccexpyear";if("cctype"==c&&"select-one"==b.type&&100<=b.options.length)for(j=0;j<b.options.length;j++)if("US"==b.options[j].value||
"USA"==b.options[j].value){c="country";break}if(g){j={title:1,name:1,firstname:1,middlename:1,middleinitial:1,lastname:1,username:1,maiden:1,birthdate:1,birthday:1,birthmonth:1,birthyear:1,age:1,ssn:1,ssn1:1,ssn2:1,ssn3:1,company:1,addrbookname:1,address:1,address1:1,address2:1,address3:1,city:1,housenumbername:1,housenumber:1,housename:1,county:1,state:1,zip:1,zip1:1,zip2:1,country:1,phone:1,phone1:1,phone2:1,phone3:1,phone23:1,phoneext:1,fax:1,fax1:1,fax2:1,fax3:1,fax23:1,evephone:1,evephone1:1,
evephone2:1,evephone3:1,evephone23:1,mobilephone:1,mobilephone1:1,mobilephone2:1,mobilephone3:1,mobilephone23:1,ccname:1,ccnum:1,ccnum1:1,ccnum2:1,ccnum3:1,ccnum4:1,ccstart:1,ccstartmonth:1,ccstartyear:1,ccexp:1,ccexpmonth:1,ccexpyear:1,cccsc:1,ccissuenum:1,cctype:1,ccphone:1,bankname:1,bankacctnum:1,bankroutingnum:1,email:1,emailalert:1,search:1,securityanswer:1,captcha:1,combineddummy:1,comments:1,promocode:1,invoice:1,currpass:1,gender:1,timezone:1};switch(m){case "es-ES":case "es-MX":j.lastname2=
1;break;case "ja-JP":j.mobileemail=1,j.firstname="namestdfirst",j.firstname2="namefurfirst",j.firstname3="nameromfirst",j.lastname="namestdlast",j.lastname2="namefurlast",j.lastname3="nameromlast"}var n="undefined"!=typeof j[c]?1==j[c]?c:j[c]:"UNKNOWN:"+c;lpSetValue(a,b,n)}else switch(c){case "firstname":lpSetValue(a,b,lpdec_acct(e.firstname,e,lpshares));break;case "firstname2":lpSetValue(a,b,lpdec_acct(e.firstname2,e,lpshares));break;case "firstname3":lpSetValue(a,b,lpdec_acct(e.firstname3,e,lpshares));
break;case "lastname":lpSetValue(a,b,lpdec_acct(e.lastname,e,lpshares));break;case "lastname2":lpSetValue(a,b,lpdec_acct(e.lastname2,e,lpshares));break;case "lastname3":lpSetValue(a,b,lpdec_acct(e.lastname3,e,lpshares));break;case "email":lpSetValue(a,b,lpdec_acct(e.email,e,lpshares));break;case "mobileemail":lpSetValue(a,b,lpdec_acct(e.mobileemail,e,lpshares));break;case "company":lpSetValue(a,b,lpdec_acct(e.company,e,lpshares));break;case "address1":lpSetValue(a,b,lpdec_acct(e.address1,e,lpshares));
break;case "address2":lpSetValue(a,b,lpdec_acct(e.address2,e,lpshares),!1,!1,""!=e.address1?!0:!1);break;case "address3":lpSetValue(a,b,lpdec_acct(e.address3,e,lpshares),!1,!1,""!=e.address1?!0:!1);break;case "username":lpSetValue(a,b,lpdec_acct(e.username,e,lpshares),!0);break;case "phoneext":lpSetValue(a,b,lpdec_acct(e.phoneext,e,lpshares),!1,!1,""!=e.phone);break;case "bankname":lpSetValue(a,b,lpdec_acct(e.bankname,e,lpshares));break;case "bankacctnum":lpSetValue(a,b,lpdec_acct(e.bankacctnum,e,
lpshares));break;case "bankroutingnum":lpSetValue(a,b,lpdec_acct(e.bankroutingnum,e,lpshares));break;case "county":lpSetValue(a,b,lpdec_acct(e.county,e,lpshares));break;case "ccname":lpSetValue(a,b,lpdec_acct(e.ccname,e,lpshares));break;case "ccissuenum":lpSetValue(a,b,lpdec_acct(e.ccissuenum,e,lpshares),!0);break;case "fullmobilephone":lpSetValue(a,b,lpdec_acct(e.mobilephone,e,lpshares),!0);break;case "fullevephone":lpSetValue(a,b,lpdec_acct(e.evephone,e,lpshares),!0);break;case "fullphone":lpSetValue(a,
b,lpdec_acct(e.phone,e,lpshares),!0);break;case "fullfax":lpSetValue(a,b,lpdec_acct(e.fax,e,lpshares),!0);break;case "securityanswer":lpSetValue(a,b,"");break;case "promocode":lpSetValue(a,b,"undefined"!=typeof LP_to_formfill&&"undefined"!=typeof LP_to_formfill.promocode?LP_to_formfill.promocode:"");break;case "maiden":lpSetValue(a,b,"");break;case "ccphone":lpSetValue(a,b,"");break;case "comments":lpSetValue(a,b,"");break;case "invoice":lpSetValue(a,b,"");break;case "addrbookname":lpSetValue(a,b,
"");break;case "emailalert":lpSetValue(a,b,"");break;case "combineddummy":lpSetValue(a,b,"");break;case "language":n=lpdec_acct(e.profilelanguage,e,lpshares);if("select-one"==b.type){if(""==n)break;var n=n.toLowerCase(),s=n.replace("-","_");a=!1;for(j=0;j<b.options.length;j++)if(b.options[j].value.toLowerCase()==n||b.options[j].text.toLowerCase()==n||b.options[j].value.toLowerCase()==s||b.options[j].text.toLowerCase()==s){b.selectedIndex=j;a=!0;break}if(!a){n=n.substring(0,2);for(j=0;j<b.options.length;j++)if(0==
b.options[j].value.toLowerCase().indexOf(n)||0==b.options[j].text.toLowerCase().indexOf(n)){b.selectedIndex=j;break}}}else lpSetValue(a,b,n);break;case "ccfirstname":var v=lpdec_acct(e.ccname,e,lpshares);if(""!=v){var w=v.split(" ");0<w.length&&lpSetValue(a,b,w[0])}break;case "ccmiddlename":v=lpdec_acct(e.ccname,e,lpshares);""!=v&&(w=v.split(" "),2<w.length&&lpSetValue(a,b,w[1]));break;case "cclastname":v=lpdec_acct(e.ccname,e,lpshares);""!=v&&(w=v.split(" "),1<w.length&&lpSetValue(a,b,w[w.length-
1]));break;case "evephoneext":j="";"undefined"!=typeof e.evephoneext?j=e.evephoneext:"undefined"!=typeof e.eveext&&(j=e.eveext);lpSetValue(a,b,lpdec_acct(j,e,lpshares),!1,!1,""!=e.evephone);break;case "faxphoneext":j="";"undefined"!=typeof e.faxphoneext?j=e.faxphoneext:"undefined"!=typeof e.faxext&&(j=e.faxext);lpSetValue(a,b,lpdec_acct(j,e,lpshares),!1,!1,""!=e.fax);break;case "mobilephoneext":j="";"undefined"!=typeof e.mobilephoneext?j=e.mobilephoneext:"undefined"!=typeof e.mobileext&&(j=e.mobileext);
lpSetValue(a,b,lpdec_acct(j,e,lpshares),!1,!1,""!=e.mobilephone);break;case "timezone":n=lpdec_acct(e.timezone,e,lpshares);if("select-one"==b.type){if(""==n)break;var u=n.match(/^([-+]?\d{2}):(\d{2}),(\d)$/);if(u){var C=parseInt(u[1]),F=parseInt(u[2]);parseInt(u[3]);var s=C+F/60,A="GMT\\s*"+(0>C?"-":"\\+")+"\\s*"+(10>Math.abs(C)?"0?":"")+Math.abs(C);0!=F&&(A+=":"+F);for(var G=RegExp(A),j=0;j<b.options.length;j++)if(b.options[j].value==n||b.options[j].text==n||b.options[j].value==s||b.options[j].text==
s||G.exec(b.options[j].value)||G.exec(b.options[j].text)){b.selectedIndex=j;break}}}else lpSetValue(a,b,n);break;case "ccnum":j=!1;if(4==d||3==d)j=!0;if(!j){var D=lpdec_acct(e.ccnum,e,lpshares);lpSetValue(a,b,D);break}case "cccsc":lpSetValue(a,b,lpdec_acct(e.cccsc,e,lpshares),!0);break;case "zip":n=lpdec_acct(e.zip,e,lpshares);n.match(/^\d{5}-?(?:\d{4})?$/)?0<d&&d<n.length&&(n=9==d&&10==n.length?n.substring(0,5)+n.substring(6,10):4==d?9<=n.length?n.substring(n.length-4):"":n.substring(0,5)):0<d&&
d<n.length&&(n=n.replace(/[^A-Za-z0-9]/g,""));lpSetValue(a,b,n);break;case "city":n=lpdec_acct(e.city,e,lpshares);if("select-one"==b.type){if(""==n)break;n=n.toLowerCase();for(j=0;j<b.options.length;j++)if(b.options[j].value.toLowerCase()==n||b.options[j].text.toLowerCase()==n){b.selectedIndex=j;break}}else lpSetValue(a,b,n);break;case "ssn":var P=lpdec_acct(e.ssn,e,lpshares);if(4==d){var E=P.replace(/\D/g,"");if(9==E.length)P=E.substring(5,9);else break}else 0<d&&11>d&&(P=P.replace(/-/g,""));lpSetValue(a,
b,P);break;case "name":n=lpdec_acct(e.firstname,e,lpshares)+(""!=e.firstname&&""!=e.lastname?" ":"")+lpdec_acct(e.lastname,e,lpshares);""==n&&(n=lpdec_acct(e.ccname,e,lpshares));lpSetValue(a,b,n);break;case "fulllastname":n=lpdec_acct(e.lastname,e,lpshares)+(""!=e.lastname&&""!=e.lastname2?" ":"")+lpdec_acct(e.lastname2,e,lpshares);lpSetValue(a,b,n);break;case "ssn1":P=lpdec_acct(e.ssn,e,lpshares);E=P.replace(/\D/g,"");9==E.length&&(n=E.substring(0,3),lpSetValue(a,b,n));break;case "ssn2":P=lpdec_acct(e.ssn,
e,lpshares);E=P.replace(/\D/g,"");9==E.length&&(n=E.substring(3,5),lpSetValue(a,b,n));break;case "ssn3":P=lpdec_acct(e.ssn,e,lpshares);E=P.replace(/\D/g,"");9==E.length&&(n=E.substring(5,9),lpSetValue(a,b,n));break;case "birthmonth":if(""==e.birthday)break;n=lpdec_acct(e.birthday,e,lpshares).substring(5,7);if("select-one"==b.type){s=n;"0"==s.charAt(0)&&(s=s.substring(1));for(var A=lpgs("month"+s,f).toLowerCase(),J=lpgs("mon"+s,f).toLowerCase(),j=0;j<b.options.length;j++)if(-1!=b.options[j].value.toLowerCase().indexOf(A)||
-1!=b.options[j].value.toLowerCase().indexOf(J)||-1!=b.options[j].text.toLowerCase().indexOf(A)||-1!=b.options[j].text.toLowerCase().indexOf(J)){b.selectedIndex=j;break}if(j==b.options.length)for(j=0;j<b.options.length;j++)if(b.options[j].value==n||b.options[j].value==s||b.options[j].text==n||b.options[j].text==s){b.selectedIndex=j;break}}else lpSetValue(a,b,n);break;case "birthday":if(""==e.birthday)break;n=lpdec_acct(e.birthday,e,lpshares).substring(8,10);if("select-one"==b.type){s=n;"0"==s.charAt(0)&&
(s=s.substring(1));for(j=0;j<b.options.length;j++)if(b.options[j].value==n||b.options[j].value==s||b.options[j].text==n||b.options[j].text==s){b.selectedIndex=j;break}}else lpSetValue(a,b,n);break;case "birthyear":if(""==e.birthday)break;var B=lpdec_acct(e.birthday,e,lpshares),n=B.substring(0,4),s=B.substring(2,4);if("select-one"==b.type)for(j=0;j<b.options.length;j++){if(b.options[j].value==n||b.options[j].value==s||b.options[j].text==n||b.options[j].text==s){b.selectedIndex=j;break}}else 2==d&&
(n=s),lpSetValue(a,b,n);break;case "birthdate":B=lpdec_acct(e.birthday,e,lpshares);e&&lpdec_acct(e.country,e,lpshares);4<=B.length&&(B=4==d?B.substring(0,4):2==d?B.substring(2,4):"US"==lpdec_acct(e.country,e,lpshares)?B.substring(5,7)+"/"+B.substring(8,10)+"/"+B.substring(0,4):B.substring(8,10)+"/"+B.substring(5,7)+"/"+B.substring(0,4),lpSetValue(a,b,B));break;case "address":case "fulladdress":var Z="textarea"==b.type?"\n":" ",N=[e.address1,e.address2,e.address3];"fulladdress"==c&&(N[N.length]=e.city,
N[N.length]=e.county,N[N.length]=e.state);n="";for(j=0;j<N.length;j++)""!=N[j]&&(n+=(""!=n?Z:"")+lpdec_acct(N[j],e,lpshares));lpSetValue(a,b,n);break;case "title":n=lpdec_acct(e.title,e,lpshares);if("select-one"==b.type){if(""==n)break;u=a="";for(j=0;j<b.options.length;j++)if(b.options[j].value.toLowerCase()==n||-1!=b.options[j].value.toLowerCase().indexOf(n)||b.options[j].text.toLowerCase()==n||-1!=b.options[j].text.toLowerCase().indexOf(n)){if(!(""==a&&""==u))if(b.options[j].value.length<=a.length&&
b.options[j].text.length<=u.length){if(!(b.options[j].value.length<a.length||b.options[j].text.length<u.length))continue}else continue;a=b.options[j].value;u=b.options[j].text;b.selectedIndex=j}}else n=n.substring(0,1).toUpperCase()+n.substring(1),lpSetValue(a,b,n);break;case "state":n=lpdec_acct(e.state,e,lpshares);if("select-one"==b.type){n=n.toLowerCase();if(""==n)break;s=lpdec_acct(e.state_name,e,lpshares).toLowerCase();for(j=0;j<b.options.length;j++)if(b.options[j].value.toLowerCase()==n||b.options[j].value.toLowerCase()==
s||b.options[j].text.toLowerCase()==n||b.options[j].text.toLowerCase()==s){b.selectedIndex=j;break}if(j==b.options.length){for(j=0;j<b.options.length;j++)if(-1!=b.options[j].value.toLowerCase().indexOf(s)||-1!=b.options[j].text.toLowerCase().indexOf(s)){b.selectedIndex=j;break}if(j==b.options.length){for(j=0;j<b.options.length;j++)if(-1!=b.options[j].value.toLowerCase().indexOf(n)||-1!=b.options[j].text.toLowerCase().indexOf(n)){b.selectedIndex=j;break}if(j==b.options.length&&2==n.length){A=n.charAt(0)+
"."+n.charAt(1)+".";for(j=0;j<b.options.length;j++)if(-1!=b.options[j].value.toLowerCase().indexOf(A)||-1!=b.options[j].text.toLowerCase().indexOf(A)){b.selectedIndex=j;break}}}}}else lpSetValue(a,b,n);break;case "country":n=lpdec_acct(e.country_name,e,lpshares);if("select-one"==b.type){var n=n.toLowerCase(),s=lpdec_acct(e.country,e,lpshares).toLowerCase(),A=lpdec_acct(e.country_cc3l,e,lpshares).toLowerCase(),J="usa"==A?"United States of America":"",T="undefined"!=typeof e.country2?lpdec_acct(e.country2,
e,lpshares).toLowerCase():"";if(""==n&&""==s&&""==A&&""==T)break;for(j=0;j<b.options.length;j++)if(""!=b.options[j].value&&(b.options[j].value.toLowerCase()==n||b.options[j].value.toLowerCase()==s||b.options[j].value.toLowerCase()==A||b.options[j].value.toLowerCase()==J||b.options[j].value.toLowerCase()==T||b.options[j].text.toLowerCase()==n||b.options[j].text.toLowerCase()==s||b.options[j].text.toLowerCase()==A||b.options[j].text.toLowerCase()==J||b.options[j].text.toLowerCase()==T)){b.selectedIndex=
j;break}}else 3==d?lpSetValue(a,b,lpdec_acct(e.country_cc3l,e,lpshares)):2==d?lpSetValue(a,b,lpdec_acct(e.country,e,lpshares)):lpSetValue(a,b,n);break;case "cctype":n=lpGetCCType(lpdec_acct(e.ccnum,e,lpshares));if("UNK"!=n)if("select-one"==b.type){a=-1;for(j=0;j<b.options.length;j++){var ba=b.options[j].value.toUpperCase(),I=b.options[j].text.toUpperCase();if(ba==n||I==n){b.selectedIndex=j;break}if(CCTypeMatch(n,ba)||CCTypeMatch(n,I))a=j}j==b.options.length&&-1!=a&&(b.selectedIndex=a)}else if("radio"==
b.type){ba=b.value.toUpperCase();I=b.id.toUpperCase();a=!1;if(CCTypeMatch(n,ba)||CCTypeMatch(n,I))a=!0;if(!a){var U=b.parentNode;if(U&&U.childNodes){for(j=0;j<U.childNodes.length&&U.childNodes[j]!=b;j++);if(j<U.childNodes.length-1){var z=U.childNodes[j+1];if(3==z.nodeType&&CCTypeMatch(n,z.nodeValue))a=!0;else if(3==z.nodeType&&j<U.childNodes.length-2||1==z.nodeType){var $=1==z.nodeType?U.childNodes[j+1]:U.childNodes[j+2];if(1==$.nodeType&&"LABEL"==$.tagName&&$.htmlFor==b.id){var Q=lpGetText($,b);
CCTypeMatch(n,Q)&&(a=!0)}else 1==$.nodeType&&("IMG"==$.tagName&&"string"==typeof $.alt)&&(Q=$.alt,CCTypeMatch(n,Q)&&(a=!0))}}}}a&&(b.checked=!0,b.click())}else lpSetValue(a,b,n);break;case "ccexpmonth":if(""==e.ccexp)break;n=lpdec_acct(e.ccexp,e,lpshares).substring(5,7);if("select-one"==b.type){s=n;"0"==s.charAt(0)&&(s=s.substring(1));A=lpgs("month"+s,f).toLowerCase();J=lpgs("mon"+s,f).toLowerCase();for(j=0;j<b.options.length;j++)if(-1!=b.options[j].value.toLowerCase().indexOf(A)||-1!=b.options[j].value.toLowerCase().indexOf(J)||
-1!=b.options[j].text.toLowerCase().indexOf(A)||-1!=b.options[j].text.toLowerCase().indexOf(J)){b.selectedIndex=j;break}if(j==b.options.length)for(j=0;j<b.options.length;j++)if(b.options[j].value==n||b.options[j].value==s||b.options[j].text==n||b.options[j].text==s){b.selectedIndex=j;break}}else lpSetValue(a,b,n);break;case "ccexpyear":if(""==e.ccexp)break;var O=lpdec_acct(e.ccexp,e,lpshares),n=O.substring(0,4);if("select-one"==b.type){s=O.substring(2,4);for(j=0;j<b.options.length;j++)if(b.options[j].value==
n||b.options[j].value==s||b.options[j].text==n||b.options[j].text==s){b.selectedIndex=j;break}}else lpSetValue(a,b,n,!1,!0);break;case "ccexp":O=lpdec_acct(e.ccexp,e,lpshares);7==O.length&&(O+="-01");n=10==O.length?O.substring(5,7)+"/"+O.substring(2,4):"";if("select-one"==b.type){if(""==n)break;s=10==O.length?O.substring(5,7)+"/"+O.substring(0,4):"";A=10==O.length?O.substring(5,7)+O.substring(2,4):"";J=10==O.length?O.substring(5,7)+O.substring(0,4):"";for(j=0;j<b.options.length;j++)if(b.options[j].value==
n||b.options[j].value==s||b.options[j].value==A||b.options[j].value==J||b.options[j].text==n||b.options[j].text==s||b.options[j].text==A||b.options[j].text==J){b.selectedIndex=j;break}}else 10==O.length&&(4==d?n=O.substring(5,7)+O.substring(2,4):9==d&&(n=O.substring(5,7)+" / "+O.substring(0,4))),lpSetValue(a,b,n);break;case "ccstartmonth":if(""==e.ccstart)break;n=lpdec_acct(e.ccstart,e,lpshares).substring(5,7);if("select-one"==b.type){s=n;"0"==s.charAt(0)&&(s=s.substring(1));A=lpgs("month"+s,f).toLowerCase();
J=lpgs("mon"+s,f).toLowerCase();for(j=0;j<b.options.length;j++)if(-1!=b.options[j].value.toLowerCase().indexOf(A)||-1!=b.options[j].value.toLowerCase().indexOf(J)||-1!=b.options[j].text.toLowerCase().indexOf(A)||-1!=b.options[j].text.toLowerCase().indexOf(J)){b.selectedIndex=j;break}if(j==b.options.length)for(j=0;j<b.options.length;j++)if(b.options[j].value==n||b.options[j].value==s||b.options[j].text==n||b.options[j].text==s){b.selectedIndex=j;break}}else lpSetValue(a,b,n);break;case "ccstartyear":if(""==
e.ccstart)break;var R=lpdec_acct(e.ccstart,e,lpshares),n=R.substring(0,4);if("select-one"==b.type){s=R.substring(2,4);for(j=0;j<b.options.length;j++)if(b.options[j].value==n||b.options[j].value==s||b.options[j].text==n||b.options[j].text==s){b.selectedIndex=j;break}}else lpSetValue(a,b,n,!1,!0);break;case "ccstart":R=lpdec_acct(e.ccstart,e,lpshares);n=10==R.length?R.substring(5,7)+"/"+R.substring(2,4):"";if("select-one"==b.type){if(""==n)break;s=10==R.length?R.substring(5,7)+"/"+R.substring(0,4):
"";A=10==R.length?R.substring(5,7)+R.substring(2,4):"";J=10==R.length?R.substring(5,7)+R.substring(0,4):"";for(j=0;j<b.options.length;j++)if(b.options[j].value==n||b.options[j].value==s||b.options[j].value==A||b.options[j].value==J||b.options[j].text==n||b.options[j].text==s||b.options[j].text==A||b.options[j].text==J){b.selectedIndex=j;break}}else 10==R.length&&4==d&&(n=R.substring(5,7)+R.substring(2,4)),lpSetValue(a,b,n);break;case "ccnum1":n=lpdec_acct(e.ccnum,e,lpshares).substring(0,4);lpSetValue(a,
b,n);break;case "ccnum2":n=lpdec_acct(e.ccnum,e,lpshares).substring(4,8);lpSetValue(a,b,n);break;case "ccnum3":n=lpdec_acct(e.ccnum,e,lpshares).substring(8,12);lpSetValue(a,b,n);break;case "ccnum4":n=lpdec_acct(e.ccnum,e,lpshares).substring(12);lpSetValue(a,b,n);break;case "amexccnum2":n=lpdec_acct(e.ccnum,e,lpshares).substring(4,10);lpSetValue(a,b,n);break;case "amexccnum3":n=lpdec_acct(e.ccnum,e,lpshares).substring(10,15);lpSetValue(a,b,n);break;case "middlename":var n=lpdec_acct(e.middlename,e,
lpshares),V=n.substring(0,1);1==d||2==d?lpSetValue(a,b,V):lpSetValue(a,b,n);break;case "middleinitial":n=lpdec_acct(e.middlename,e,lpshares).substring(0,1);lpSetValue(a,b,n);break;case "mobilephone1":case "mobilephone2":case "mobilephone3":case "evephone1":case "evephone2":case "evephone3":case "phone1":case "phone2":case "phone3":case "fax1":case "fax2":case "fax3":var W=c.substring(0,c.length-1),ja=c.substring(c.length-1),H=e.phone;"evephone"==W&&(H=e.evephone);"mobilephone"==W&&(H=e.mobilephone);
"fax"==W&&(H=e.fax);n=lpdec_acct(H,e,lpshares);3>=n.length&&(n="");E=n.replace(/\D/g,"");10==E.length&&("2"<=E.charAt(0)&&"2"<=E.charAt(3))&&(E="1"+E);if(11==E.length&&"1"==E.charAt(0)&&"2"<=E.charAt(1)&&"2"<=E.charAt(4))switch(ja){case "1":lpSetValue(a,b,E.substring(1,4));break;case "2":lpSetValue(a,b,E.substring(4,7));break;case "3":lpSetValue(a,b,E.substring(7,11))}else lpSetValue(a,b,n,!0);break;case "mobilephone23":case "evephone23":case "phone23":case "fax23":W=c.substring(0,c.length-2);H=e.phone;
"evephone"==W&&(H=e.evephone);"fax"==W&&(H=e.fax);"mobilephone"==W&&(H=e.mobilephone);n=lpdec_acct(H,e,lpshares);3>=n.length&&(n="");E=n.replace(/\D/g,"");10==E.length&&("2"<=E.charAt(0)&&"2"<=E.charAt(3))&&(E="1"+E);11==E.length&&"1"==E.charAt(0)&&"2"<=E.charAt(1)&&"2"<=E.charAt(4)?(j=(0>=k||8<=k)&&(0>=d||8<=d)?!0:!1,lpSetValue(a,b,E.substring(4,7)+(j?"-":"")+E.substring(7,11))):lpSetValue(a,b,n,!0);break;case "mobilephone":case "evephone":case "phone":case "fax":var W=c,H=e.phone,ca="undefined"!=
typeof e.countryphone?e.countryphone:"undefined"!=typeof e.phone3lcc?e.phone3lcc:"";"evephone"==W&&(H=e.evephone,ca="undefined"!=typeof e.countryevephone?e.countryevephone:"undefined"!=typeof e.evephone3lcc?e.evephone3lcc:"");"fax"==W&&(H=e.fax,ca="undefined"!=typeof e.countryfaxphone?e.countryfaxphone:"undefined"!=typeof e.fax3lcc?e.fax3lcc:"");"mobilephone"==W&&(H=e.mobilephone,ca="undefined"!=typeof e.countrymobphone?e.countrymobphone:"undefined"!=typeof e.mobilephone3lcc?e.mobilephone3lcc:"");
n=lpdec_acct(H,e,lpshares);3>=n.length&&(n="");if(11==n.length&&n.match(/^\d+$/)&&"1"==n.charAt(0)&&"2"<=n.charAt(1)&&"2"<=n.charAt(4)){if(n=n.substring(1),0>=d||12<=d)n=n.substring(0,3)+"-"+n.substring(3,6)+"-"+n.substring(6,10)}else if(2<=n.length){var M=lpdec_acct(ca,e,lpshares),y=get_phone_code(M);y&&(0==n.indexOf(y)&&"0"==n.charAt(y.length))&&(n=n.substring(y.length))}lpSetValue(a,b,n,!0);break;case "mobilephonecc":case "evephonecc":case "phonecc":case "faxcc":W=c.substring(0,c.length-2);H=e.phone;
ca="undefined"!=typeof e.countryphone?e.countryphone:"undefined"!=typeof e.phone3lcc?e.phone3lcc:"";"evephone"==W&&(H=e.evephone,ca="undefined"!=typeof e.countryevephone?e.countryevephone:"undefined"!=typeof e.evephone3lcc?e.evephone3lcc:"");"fax"==W&&(H=e.fax,ca="undefined"!=typeof e.countryfaxphone?e.countryfaxphone:"undefined"!=typeof e.fax3lcc?e.fax3lcc:"");"mobilephone"==W&&(H=e.mobilephone,ca="undefined"!=typeof e.countrymobphone?e.countrymobphone:"undefined"!=typeof e.mobilephone3lcc?e.mobilephone3lcc:
"");n=lpdec_acct(H,e,lpshares);M=lpdec_acct(ca,e,lpshares);(y=get_phone_code(M))&&0==n.indexOf(y)&&lpSetValue(a,b,y,!0);break;case "zip1":n=lpdec_acct(e.zip,e,lpshares);E=n.replace(/\D/g,"");if(5==E.length||9==E.length)n=E.substring(0,5);else if("ja-JP"==f&&7==E.length)n=E.substring(0,3);else{var x=n.replace(/[^A-Za-z0-9]/g,"");x.match(/^(?:[A-Za-z]\d){3}$/)?n=x.substring(0,3):x.match(/^[A-Za-z]{1,2}\d[A-Za-z0-9]?\d[A-Za-z]{2}$/)?n=x.substring(0,x.length-3):x.length<n.length&&(w=n.split(/[^A-Za-z0-9]+/),
n=w[0])}lpSetValue(a,b,n);break;case "zip2":n=lpdec_acct(e.zip,e,lpshares);E=n.replace(/\D/g,"");j=!1;5==E.length?(n="",j=!0):9==E.length?n=E.substring(5,9):"ja-JP"==f&&7==E.length?n=E.substring(3,7):(x=n.replace(/[^A-Za-z0-9]/g,""),x.match(/^(?:[A-Za-z]\d){3}$/)?n=x.substring(3,6):x.match(/^[A-Za-z]{1,2}\d[A-Za-z0-9]?\d[A-Za-z]{2}$/)?n=x.substring(x.length-3):x.length<n.length&&(w=n.split(/[^A-Za-z0-9]+/),n=w[1]));lpSetValue(a,b,n,!1,!1,j);break;case "gender":n=lpdec_acct(e.gender,e,lpshares).toUpperCase();
if(""!=n)if(s=n,"M"==n&&(s=lpgs("Male",f)),"F"==n&&(s=lpgs("Female",f)),s=s.toUpperCase(),"select-one"==b.type)for(j=0;j<b.options.length;j++){var ia=lptrim(b.options[j].text).toUpperCase(),K=lptrim(b.options[j].value).toUpperCase();if(0==K.indexOf(n)||0==ia.indexOf(n)||0==K.indexOf(s)||0==ia.indexOf(s)){b.selectedIndex=j;break}}else if("radio"==b.type||"checkbox"==b.type)if(K="",K=null!=b.value?lptrim(b.value).toUpperCase():lpGetTextBeforeFormField(b).toUpperCase(),0==K.indexOf(n)||0==K.indexOf(s))b.checked=
!0;else{if((U=b.parentNode)&&U.childNodes){for(j=0;j<U.childNodes.length&&U.childNodes[j]!=b;j++);if(j<U.childNodes.length-1)if(z=U.childNodes[j+1],a="",null!=z.nodeValue&&(a=lptrim(z.nodeValue).toUpperCase()),3==z.nodeType&&0==a.indexOf(n)||0==a.indexOf(s))b.checked=!0;else if(3==z.nodeType&&j<U.childNodes.length-2||1==z.nodeType)if($=1==z.nodeType?U.childNodes[j+1]:U.childNodes[j+2],1==$.nodeType&&"LABEL"==$.tagName&&$.htmlFor==b.id){var Q=lpGetText($,b),fa=lptrim(Q).toUpperCase();if(0==fa.indexOf(n)||
0==fa.indexOf(s))b.checked=!0}else if(1==$.nodeType&&"IMG"==$.tagName&&"string"==typeof $.alt){var Q=$.alt,ga=lptrim(Q).toUpperCase();if(0==ga.indexOf(n)||0==ga.indexOf(s))b.checked=!0}}}else lpSetValue(a,b,n);break;case "age":var aa=lpdec_acct(e.birthday,e,lpshares);if(""!=aa){var S=parseInt(aa.substring(0,4)),X=parseInt(aa.substring(5,7)),B=parseInt(aa.substring(8,10)),da=new Date,ha=da.getFullYear(),ea=da.getMonth()+1,Y=da.getDate(),n=ha-S;(ea<X||ea==X&&Y<B)&&n--;if("select-one"==b.type)for(j=
0;j<b.options.length;j++){var ka=b.options[j].text;e=a=-1;if(u=ka.match(/(\d+)\D+(\d+)/))a=parseInt(u[1]),e=parseInt(u[2]);else if(u=ka.match(/^\d+/)){var la=parseInt(u[0]);j<b.options.length/2?(a=0,e=la):(a=la,e=99999)}else if(u=ka.match(/\d+$/))la=parseInt(u[0]),j<b.options.length/2?(a=0,e=la-1):(a=la+1,e=99999);if(-1!=a&&-1!=e&&n>=a&&n<=e){b.selectedIndex=j;break}}else lpSetValue(a,b,n)}break;case "housenumber":n=lpdec_acct(e.address1,e,lpshares),"undefined"!=typeof e.housenumber&&""!=e.housenumber&&
(n=lpdec_acct(e.housenumber,e,lpshares));case "housenumbername":if("undefined"==typeof n&&(n="undefined"!=typeof e.housenumbername&&""!=e.housenumbername?lpdec_acct(e.housenumbername,e,lpshares):lpdec_acct(e.address1,e,lpshares)),u=n.match(/^\d+/),u||(n=lpdec_acct(e.address2,e,lpshares),u=n.match(/^\d+/)),u||(n=lpdec_acct(e.address3,e,lpshares),u=n.match(/^\d+/)),u){lpSetValue(a,b,u[0]);break}else if("housenumber"==c)break;case "housename":n=lpdec_acct(e.address1,e,lpshares),"undefined"!=typeof e.housename&&
""!=e.housename&&(n=lpdec_acct(e.housename,e,lpshares)),n=n.replace(/^\d+\s*/,""),lpSetValue(a,b,n)}b.value!=p&&fire_onchange(b)}}catch(ma){lpReportError("Failure with filling form field: "+ma+" ln: "+ma.lineNumber)}}
function lpGetCCType(a){var b="UNK";if(("34"==a.substring(0,2)||"37"==a.substring(0,2))&&15==a.length)b="AMEX";else if(("6011"==a.substring(0,4)||"65"==a.substring(0,2))&&16==a.length)b="DISC";else if(("51"==a.substring(0,2)||"52"==a.substring(0,2)||"53"==a.substring(0,2)||"54"==a.substring(0,2)||"55"==a.substring(0,2))&&16==a.length)b="MC";else if(("417500"==a.substring(0,6)||"4917"==a.substring(0,4)||"4913"==a.substring(0,4)||"4508"==a.substring(0,4)||"4844"==a.substring(0,4))&&16==a.length)b="ELECTRON";
else if("4"==a.substring(0,1)&&16==a.length)b="VISA";else if(("5018"==a.substring(0,4)||"5020"==a.substring(0,4)||"5038"==a.substring(0,4)||"6304"==a.substring(0,4)||"6759"==a.substring(0,4)||"6761"==a.substring(0,4))&&12<=a.length&&19>=a.length)b="MAESTRO";else if(("6334"==a.substring(0,4)||"6767"==a.substring(0,4))&&(16==a.length||18==a.length||19==a.length))b="SOLO";return b}
function CCTypeMatch(a,b){a=a.toUpperCase();b=b.toUpperCase();if("AMEX"==a&&-1!=b.indexOf("BANAMEX"))return!1;if(-1!=b.indexOf(a))return!0;switch(a){case "AMEX":return-1!=b.indexOf("AMERICAN")||-1!=b.indexOf("AMX")||"AX"==b;case "DISC":return-1!=b.indexOf("DIS")||"DI"==b;case "MC":return-1!=b.indexOf("MASTER");case "VISA":return-1!=b.indexOf("VSA")||"VI"==b;default:return!1}}
function lpSetValue(a,b,c,d,e,f){if(""!=c||f){if("undefined"!=typeof b.maxLength&&g_allowtruncate&&(f=parseInt(b.maxLength),0<f&&c.length>f)){if(d)return;c=e?c.substring(c.length-f):c.substring(0,f)}if(a){if("undefined"==typeof a.formfillfields||null==a.formfillfields)a.formfillfields=[];a.formfillfields[getname(b)]=c}b.value!=c&&(b.focus(),b.value=c,fire_onchange(b),b.blur())}}var lpgettext_abort=!1;
function lpGetText(a,b,c,d){c||(lpgettext_abort=!1);if(a==b)return lpgettext_abort=!0,"";if(3==a.nodeType)return 2<strip(a.nodeValue).length?a.nodeValue:"";c=[];var e=0,f="string"==typeof a.tagName?a.tagName:"";if(a.lp_too_many)return"";var g=a&&a.style&&!lpIsVisible(a,!0);d=!1;"LABEL"==f&&(d=!0);e=0;if("OPTION"!=f&&"SCRIPT"!=f&&"TEXTAREA"!=f&&!g)for(;"undefined"!=typeof a.childNodes[e];){c[c.length]=lpGetText(a.childNodes[e],b,!0,d);if(lpgettext_abort)break;if(50<e++)return a.lp_too_many=1,lpdbg("error",
"More than 50 child elements: something is wrong, abort"),""}a="|";"undefined"!=typeof d&&d&&(a="");return c.join(a)}
function get_phone_code(a){var b=[];b.AND=376;b.ARE=971;b.AFG=93;b.ATG=1;b.AIA=1;b.ALB=355;b.ARM=374;b.ANT=599;b.AGO=244;b.ATA=672;b.ARG=54;b.ASM=1;b.AUT=43;b.AUS=61;b.ABW=297;b.ALA=358;b.AZE=994;b.BIH=387;b.BRB=1;b.BGD=880;b.BEL=32;b.BFA=226;b.BGR=359;b.BHR=973;b.BDI=257;b.BEN=229;b.BLM=590;b.BMU=1;b.BRN=673;b.BOL=591;b.BRA=55;b.BHS=1;b.BTN=975;b.BVT=47;b.BWA=267;b.BLR=375;b.BLZ=501;b.CAN=1;b.CCK=61;b.COD=243;b.CAF=236;b.COG=242;b.CHE=41;b.CIV=225;b.COK=682;b.CHL=56;b.CMR=237;b.CHN=86;b.COL=57;b.CRI=
506;b.CUB=53;b.CPV=238;b.CXR=61;b.CYP=357;b.CZE=420;b.DEU=49;b.DJI=253;b.DNK=45;b.DMA=1;b.DOM=1;b.DZA=213;b.ECU=593;b.EST=372;b.EGY=20;b.ESH=212;b.ERI=291;b.ESP=34;b.ETH=251;b.FIN=358;b.FJI=679;b.FLK=500;b.FSM=691;b.FRO=298;b.FRA=33;b.GAB=241;b.GBR=44;b.GRD=1;b.GEO=995;b.GUF=594;b.GGY=44;b.GHA=233;b.GIB=350;b.GRL=299;b.GMB=220;b.GIN=224;b.GLP=590;b.GNQ=240;b.GRC=30;b.SGS=995;b.GTM=502;b.GUM=1;b.GNB=245;b.GUY=592;b.HKG=852;b.HMD=672;b.HND=504;b.HRV=385;b.HTI=509;b.HUN=36;b.ESC=34;b.IDN=62;b.IRL=353;
b.ISR=972;b.IMM=44;b.IND=91;b.IOT=246;b.IRQ=964;b.IRN=98;b.ISL=354;b.ITA=39;b.JEY=44;b.JAM=1;b.JOR=962;b.JPN=81;b.KEN=254;b.KGZ=996;b.KHM=855;b.KIR=686;b.COM=269;b.KNA=1;b.PRK=850;b.KOR=82;b.KWT=965;b.CYM=1;b.KAZ=7;b.LAO=856;b.LBN=961;b.LCA=1;b.LIE=423;b.LKA=94;b.LBR=231;b.LSO=266;b.LTU=370;b.LUX=352;b.LVA=371;b.LBY=218;b.MAR=212;b.MCO=377;b.MDA=373;b.MNE=382;b.MAF=590;b.MDG=261;b.MHL=692;b.MKD=389;b.MLI=223;b.MMR=95;b.MNG=976;b.MAC=853;b.MNP=1;b.MTQ=596;b.MRT=222;b.MSR=1;b.MLT=356;b.MUS=230;b.MDV=
960;b.MWI=265;b.MEX=52;b.MYS=60;b.MOZ=258;b.NAM=264;b.NCL=687;b.NER=227;b.NFK=672;b.NGA=234;b.NIC=505;b.NLD=31;b.NOR=47;b.NPL=977;b.NRU=674;b.NIU=683;b.NZL=64;b.OMN=968;b.PAN=507;b.PER=51;b.PYF=689;b.PNG=675;b.PHL=63;b.PAK=92;b.POL=48;b.SPM=508;b.PCN=872;b.PRI=1;b.PSE=970;b.PRT=351;b.PLW=680;b.PRY=595;b.QAT=974;b.REU=262;b.ROU=40;b.SRB=381;b.RUS=7;b.RWA=250;b.SAU=966;b.SLB=677;b.SYC=248;b.SDN=249;b.SWE=46;b.SGP=65;b.SHN=290;b.SVN=386;b.SJM=47;b.SVK=421;b.SLE=232;b.SMR=378;b.SEN=221;b.SOM=252;b.SUR=
597;b.STP=239;b.SLV=503;b.SYR=963;b.SWZ=268;b.TCA=1;b.TCD=235;b.ATF=596;b.TGO=228;b.THA=66;b.TJK=992;b.TKL=690;b.TLS=670;b.TKM=993;b.TUN=216;b.TON=676;b.TUR=90;b.TTO=1;b.TUV=688;b.TWN=886;b.TZA=255;b.UKR=380;b.UGA=256;b.UMI=1;b.USA=1;b.URY=598;b.UZB=998;b.VAT=379;b.VCT=1;b.VEN=58;b.VGB=1;b.VIR=1;b.VNM=84;b.VUT=678;b.WLF=681;b.WSM=685;b.YEM=967;b.MYT=262;b.YUG=381;b.ZAF=27;b.ZMB=260;b.ZWE=263;return"undefined"!=typeof b[a]?""+b[a]:null}function lpReportError(a){console_log(a)}
function lpgs(a,b){var c="undefined"==typeof b||null==b?"":b;if("undefined"!=typeof lpgscache[c+a]||"undefined"==typeof lpgslocales[c]&&0==a.indexOf("ff_")&&(ApplyOverrides(c),"undefined"!=typeof lpgscache[c+a]))return lpgscache[c+a];if("undefined"!=typeof translations){if("undefined"!=typeof b&&b&&"undefined"!=typeof translations[b]&&"undefined"!=typeof translations[b][a])return translations[b][a];if("undefined"!=typeof translations["en-US"]&&"undefined"!=typeof translations["en-US"][a])return translations["en-US"][a]}return"undefined"!=
typeof lpgscache["en-US"+a]?lpgscache["en-US"+a]:a}function lpConfirmYesNo(a){return confirm(a)}function lpdec(a){return a}function lpdec_acct(a){return a}function LP_form_fill(){LP_to_formfill.customfields=[];for(var a=0;"undefined"!=typeof LP_to_formfill["custom_field"+a];a++)LP_to_formfill.customfields[a]=LP_to_formfill["custom_field"+a];lpformfills=Array(LP_to_formfill);lpCheckFormFill(null,document,!0,!1,LP_to_formfill.ffid,1,window)}"undefined"==typeof lpgenpassforms&&(lpgenpassforms=[]);
"undefined"==typeof lpgenpasscurrentpwfields&&(lpgenpasscurrentpwfields=[]);function get_username_val(a){a=a.getElementById("Email");return null!=a&&("hidden"==a.type||-1!=a.className.indexOf("hidden"))&&"Email"==a.name?a.value:""}
function skip_filling_field(a,b){return"google.com"==b&&"Email"==a.id&&"Email"==a.name&&"email"==a.type&&-1!=a.className.indexOf("hidden")||"fiverr.com"==b&&("password"==a.id&&"password"==a.name&&a.parentNode&&"-2000px"==a.parentNode.style.left||"login"==a.id&&"login"==a.name&&a.parentNode&&"-2000px"==a.parentNode.style.left)?!0:!1}
function lpCheckGeneratePassword(a,b,c,d,e){"undefined"==typeof e&&(e=1);if(10<e)return null;lpdbg("checkgenpw","START checkonly="+c);var f="undefined"!=typeof LP&&"function"==typeof LP.getBrowser().getBrowserForDocument?LP.getBrowser().getBrowserForDocument(b):null;f&&(a=f);if("undefined"!=typeof LP&&!a)return null;var g=f=null;try{if(!c&&"undefined"!=typeof lp_notification_exists&&(lp_notification_exists(a,"autologin")||lp_notification_exists(a,"generate")))return lpdbg("checkgenpw","aborting since notification already shown"),
null;f=b.location.href;"undefined"!=typeof punycode&&"undefined"!=typeof punycode.URLToASCII&&(f=punycode.URLToASCII(f));var k=lpParseUri(f),m=lpcanonizeUrl(f,k),j=lp_gettld(k.host,f);lpdbg("checkgenpw","currenturl="+f);if(("undefined"==typeof lploggedin||lploggedin)&&(c||("undefined"==typeof lpOfferGeneratePasswd||lpOfferGeneratePasswd)&&("undefined"==typeof never_gen||!never_gen(m,j))))for(var p=b.getElementsByTagName("form"),r=0;r<p.length;r++)if(!("undefined"!=typeof r.offsetLeft&&0>r.offsetLeft||
"undefined"!=typeof r.offsetTop&&0>r.offsetTop)){var q=lpCountInputFields(p[r]);lpdbg("checkgenpw","checking form#"+r+" numpasswords="+q.password+" numpasswordsvisible="+q.passwordvisible+" passwordscontigious="+q.passwordsContiguous);if(2<=q.password&&4>=q.password&&2<=q.passwordvisible&&4>=q.passwordvisible&&!0==q.passwordsContiguous){if(!c){var n="undefined"!=typeof LP?LP.lpgetcurrenturl(a):document.location.href;"undefined"!=typeof punycode&&"undefined"!=typeof punycode.URLToASCII&&(n=punycode.URLToASCII(n));
lpdbg("genpw","Adding url to lpgenpassforms: "+n);lpgenpassforms[n]=p[r];q=!1;if("undefined"==typeof disable_check_form_fill||!disable_check_form_fill)q=lpCheckFormFill(a,b,!1,!0,null,1,d);var s=!1,v=lpCheckCurrentPWField(p[r]),w=[];if(v){var u=get_username_val(b),s=!0;lpgenpasscurrentpwfields[n]=v;var C="string"==typeof k.path?k.path.split("/"):[],F="undefined"!=typeof lptlds&&"undefined"!=typeof lptlds[j]?lptlds[j]:[],A;for(A in F)if(!("undefined"==typeof lpaccts[A]||lpaccts[A].genpw||lpaccts[A].isbookmark)&&
LPAHasValue(lpaccts[A],1)){var G=new lpautologininfo;G.realmmatch=!1;G.id=lpaccts[A].id;var D=lpParseUri(lpaccts[A].url);G.usernamematch=""!=lpaccts[A].unencryptedUsername&&lpaccts[A].unencryptedUsername==u;G.urlmatch=lpcanonizeUrl(lpaccts[A].url,D)==m?!0:!1;G.servermatch=D.host==k.host?!0:!1;G.portmatch=compare_ports(D,k);G.serverportmatch=G.servermatch&&G.portmatch;var P="string"==typeof D.path?D.path.split("/"):[],E;for(E=0;E<C.length&&E<P.length&&P[E]==C[E];E++);G.pathlevelmatch=E;G.url=f;G.fieldmatchcount=
0;w[w.length]=G}"undefined"!=typeof lp_aids_sort_func&&(w.sort(lp_aids_sort_func),w=checkurlrules(lpurlrules,w,j,"string"==typeof k.path?k.path:"",k.host,lpaccts,get_port(k)))}"undefined"!=typeof LP&&LP.lpshowHelpDlg("genpw");lpdbg("checkgenpw",q?"showing generatepassword AND fillforms":"showing generatepassword");lp_showNotification("GeneratePassword",a,w,"generate",p[r],null,q,s);q&&(a?a.contentDocument.ffidindex=-1:document.ffidindex=-1)}return p[r]}c&&1<=q.password&&(g=p[r])}}catch(J){lpReportError("Failure with checking generate password: "+
J+" ln: "+J.lineNumber,f)}if("undefined"==typeof d||null==d)d=a.contentWindow;if(d&&d.frames)for(A=0;A<d.frames.length;A++)try{if(d.frames[A].document){var B=lpCheckGeneratePassword(a,d.frames[A].document,c,d.frames[A].window,e+1);if(B)return B}}catch(Z){}return g}
function lpCheckCurrentPWField(a,b){"undefined"==typeof b&&(b=!1);for(var c=RegExp(lpgs("ff_currpass_regexp"),"i"),d=0;d<a.elements.length;d++){var e=a.elements[d];if("password"==e.type&&(b||lpIsVisible(e))){if(c.exec(getname(e)))return e;var f=lpGetTextBeforeFormField(e);if(""!=f&&c.exec(f))return e}}return null}
function lpCountInputFields(a,b){var c=[];c.text=c.password=c["select-one"]=c.textarea=0;c.email=c.tel=c.url=c.passwordValues=c.passwordvisible=c.uniquepasswords=0;c.uname=c.pname=c.oname="";for(var d=a.elements,e=!1,f=!1,g=[],k="undefined"!=typeof d?d.length:0,m=0;m<k;m++){var j=d[m].type,p=getname(d[m]),r=d[m].value;("password"==j||"text"==j||"select-one"==j||"textarea"==j||"email"==j||"tel"==j||"url"==j)&&c[j]++;"password"==j?(b||lpIsVisible(d[m])&&++c.passwordvisible,""!=r&&c.passwordValues++,
e&&(f=!0),e=!0,lp_in_array(r,g)||(g[g.length]=r)):"hidden"==j||"INPUT"!=d[m].tagName&&"SELECT"!=d[m].tagName&&"TEXTAREA"!=d[m].tagName||(e=!1);if(("text"==j||"email"==j||"tel"==j||"url"==j)&&"openid_url"!=p&&(""==c.uname||""==c.pname))c.uname=p;"password"==j&&(c.pname=p);if(("text"==j||"email"==j||"tel"==j||"url"==j)&&"openid_url"==p)c.oname=p}c.passwordsContiguous=f;c.uniquepasswords=g.length;return c}
function setupFocusEvent(a,b,c,d){"undefined"==typeof d&&(d=1);if(10<d)return null;var e="undefined"!=typeof LP?!LP.isFennec?LP.getBrowser().selectedTab.linkedBrowser.contentDocument:LP.getBrowser()?LP.getBrowser().contentDocument:null:document;if(!e)return null;if(!(a==e&&"undefined"!=typeof e.LPlpm_setupFocusHandler&&!0==e.LPlpm_setupFocusHandler)){a==e&&(e.LPlpm_setupFocusHandler=!0);for(var e=["input","select"],f=0;f<e.length;f++)for(var g=a.getElementsByTagName(e[f]),k=0,m=0;m<g.length;m++)if(!(b&&
"password"!=g[m].type)&&("text"==g[m].type||"email"==g[m].type||"tel"==g[m].type||"url"==g[m].type||"password"==g[m].type||"select-one"==g[m].type||"textarea"==g[m].type||"radio"==g[m].type)){if("text"==g[m].type||"email"==g[m].type||"url"==g[m].type||"tel"==g[m].type){var j=RegExp(lpgs("ff_search_regexp"),"i");if(""!=g[m].name&&j.exec(g[m].name))continue}if(20<k)break;else k++;g[m].addEventListener("focus",function(a){"undefined"!=typeof LP?LP.FieldFocus(a):FieldFocus(a)},!1)}if("undefined"==typeof c||
null==c)c="undefined"!=typeof LP?!LP.isFennec?LP.getBrowser().selectedTab.linkedBrowser.contentWindow:LP.getBrowser().contentWindow:window;if(c&&c.frames)for(f=0;f<c.frames.length;f++)try{c.frames[f].document&&setupFocusEvent(c.frames[f].document,b,c.frames[f].window,d+1)}catch(p){}}}
this.FieldFocus=function(a){var b="undefined"!=typeof LP?LP.getBrowser().selectedTab.linkedBrowser:null;if("undefined"==typeof LP||b){var c=b?b.contentDocument:document;if(c&&!("undefined"!=typeof c.FieldFocusDone&&!0==c.FieldFocusDone))if("undefined"!=typeof c.LPlpUseLastPassLogin&&!0==c.LPlpUseLastPassLogin)lploggedin?(c.LPlpUseLastPassLogin=!1,LP.FieldFocus(a)):(lp_showNotification("UseLastPassLogin",b,0,"login",null),c.LPlpUseLastPassLogin=!1,c.LPlpm_setupFocusHandler=!1,c.FieldFocusDone=!1);
else{if(lpNotificationsAfterClick)lpCheckGenPwAndFF(b,c,!1);else if("undefined"==typeof c.LPlpgenerateandfill&&"undefined"!=typeof c.LPlpfillforms)lp_showNotification("FillableFormDetected",b,0,"formfill");else if("undefined"!=typeof c.LPlpgenerateandfill)lp_showNotification("GeneratePassword",b,c.LPlpgenerateAids,"generate",c.LPlpgenerateForm,null,c.LPlpgenerateandfill,c.LPlpfillcurrent);else return;c.FieldFocusDone=!0}}};
function populategeneratedpassword(a,b,c){function d(a,b){if(!a||"INPUT"!=a.tagName&&"input"!=a.tagName)return!1;lpdbg("populategenpw","_genpwfill filling into "+LP_getname(a));try{"undefined"!=typeof g_closepop&&(g_closepop=!1),a.focus(),a.value=b,fire_onchange(a)}catch(c){return lpdbg("populategenpw","populategeneratedpassword._genpwfill failed, "+c.message),!1}return!0}function e(a,b){return"fiverr.com"==b&&"password"==a.id&&"password"==a.name&&a.parentNode&&"-2000px"==a.parentNode.style.left?
!0:!1}lpdbg("populategenpw","entered populategeneratedpassword for "+a);var f=lpParseUri(a);lpcanonizeUrl(a,f);var g=lp_gettld(f.host,a);if(lpgenpassforms[a])try{lpgenpassforms[a].elements}catch(k){lpgenpassforms[a]=lpgenpasscurrentpwfields[a]=null}if(!lpgenpassforms[a]){var m,j;"undefined"!=typeof LP?(f=LP.getBrowser().selectedTab.linkedBrowser,m=f.contentDocument,j=null):(f=null,m=document,j=window);lpgenpassforms[a]=lpCheckGeneratePassword(f,m,!0,j)}if(lpgenpassforms[a]){form=lpgenpassforms[a];
var p=null,p=lpgenpasscurrentpwfields[a]?lpgenpasscurrentpwfields[a]:lpCheckCurrentPWField(form);j=!1;var r=null,f=null;for(c=1;2>=c;c++){for(var q=1;2>=q;q++){j=!1;for(var r=f=null,n=start=1;n<form.elements.length;n++){var s=form.elements[n];if(1==c&&!lpIsVisible(s))j=!1;else if("password"==s.type){if(j||!r||!f)if(s!==p&&(f=r,r=s),j&&r&&f&&r)break;j=!0}else j=!1}if(r&&f)break}if(r&&f)break}if(r&&f){c=!1;if((""!=f.value||f==p)&&""==r.value&&n<form.elements.length-1)for(j=n+1;j<form.elements.length;j++)if(s=
form.elements[j],"password"==s.type&&""==s.value){lpdbg("populategenpw","CASE D");f=r;r=s;c=!0;break}else if("hidden"!=s.type)break;!c&&f==p?(f=null,lpdbg("populategenpw","CASE B")):c||(lpdbg("populategenpw","CASE C"),b);f&&!e(f,g)&&d(f,b);e(r,g)||d(r,b);"bankofamerica.com"==g&&(lpdbg("populategenpw","CASE P"),setTimeout(function(){r.focus();fire_onchange(r)},250));"undefined"!=typeof LP&&(s={},s.target=r,LP.lpfieldchange(s),s.target=f,LP.lpfieldchange(s))}else r?(lpdbg("populategenpw","CASE A"),
d(r,b)):lpReportError("Couldn't find password fields after generating. form:"+form,null)}else{f=r=null;lpdbg("populategenpw","CASE M or N");if(checkDocumentForCPWOrphans(m)){for(var g=null,n=m.getElementsByTagName("INPUT"),v=!1,q=0;q<n.length;q++)if(!n[q].form&&lpIsVisible(n[q]))if(!g&&lpIsFieldCurrentPWField(n[q]))v=!0,g=n[q];else if(g){if("password"==n[q].type&&v?(r?f=n[q]:r=n[q],v=!0):"password"!=n[q].type&&(v=!1),r&&f)break}else if("password"==s.type&&(v||!r||!f)){f=r;r=s;if(v&&r&&f)break;j=!0}f==
g&&(f=null);r&&f?(d(r,b),d(f,b)):r&&d(r,b)}"0"==c&&(lpReportError("Could not find lpgenpassforms when generating pw",null),lpdbg("error","url "+a+" is not in lpgenpassforms[]"))}if(do_experimental_popupfill)if(f=s=null,g_isfirefox&&m?(s=m.g_popupfill_parent,s||(s=m.g_popupfill_parent_last)):(s=g_popupfill_parent)||(s=g_popupfill_parent_last),f=s,c=p,f=f&&f.ownerDocument&&f.ownerDocument.location&&"undefined"!=typeof punycode&&a==punycode.URLToASCII(f.ownerDocument.location.href)&&"password"==f.type&&
c!=f&&""==f.value&&lpIsVisible(f)?!0:!1,f){lpdbg("populategenpw","filling generated password into change password field");a:if(f=s,!f||"INPUT"!=f.tagName&&"input"!=f.tagName)f=null;else{c=null;try{var w=s.ownerDocument.getElementsByTagName("INPUT"),u;for(u=0;u<w.length&&u<MAX_INPUTS_HARD;u++)if(w[u]==f){u+1<w.length&&(w[u+1]&&"password"==w[u+1].type)&&((c=w[u+1])&&c.ownerDocument&&c.ownerDocument.location&&"undefined"!=typeof punycode&&a==punycode.URLToASCII(c.ownerDocument.location.href)&&"password"==
c.type&&p!=c&&""==c.value&&lpIsVisible(c)?b:c=null);break}if(u==w.length||u==MAX_INPUTS_HARD)c=null}catch(C){verbose_log("populategeneratedpassword._get_next_inp_with_pass failed, "+C.message);f=null;break a}f=c}d(s,b);f&&d(f,b);"undefined"!=typeof LP_pickFieldName&&lpdbg("populategenpw","force generated password fill into "+LP_pickFieldName(m,s))}else s&&(lpdbg("populategenpw","will not fill into field into "+LP_pickFieldName(m,s)),lpdbg("populategenpw","cur?"+(p==s)),lpdbg("populategenpw","vis?"+
lpIsVisible(s)),lpdbg("populategenpw","val is empty?"+(""==s.value)))}function lpIsFieldCurrentPWField(a){if(!a||"INPUT"!=a.tagName&&"input"!=a.tagName)return!1;var b=RegExp(lpgs("ff_currpass_regexp"),"i");if("password"==a.type){if(b.exec(getname(a)))return!0;a=lpGetTextBeforeFormField(a);if(""!=a&&b.exec(a))return!0}return!1}function lpPopulateGeneratedOrphanedPassword(){return!0}
function LP_InputClickToSubmit(a,b,c,d){lpdbg("formsubmit","entered InputClickToSubmit "+c);var e=a.getElementsByTagName("input"),f=0,g=0,k=null;"undefined"==typeof d&&(d=!1);for(var m=0;m<e.length;m++)if(e[m].form==b){if(("text"==e[m].type||"tel"==e[m].type||"url"==e[m].type)&&""!=e[m].value)g=1;if("password"==e[m].type&&""!=e[m].value)f=1;else if(c==e[m].type){if((f||d&&g)&&"button"!=c)return lpdbg("formsubmit","clicked on "+c),e[m].click(),1;if((f||d&&g)&&"button"==c&&!k)k=e[m]}}if("button"==c){var j=
null,e=a.getElementsByTagName("button");a=!0;for(m=0;m<e.length;m++)if(e[m].form==b&&"submit"!=e[m].type){a=!1;break}for(m=0;m<e.length;m++)if(e[m].form==b&&("button"==e[m].type||"submit"==e[m].type||"image"==e[m].type))if(f||d&&g)if(j?!a&&"submit"==e[m].type&&(j=e[m]):j=e[m],j.className&&-1!=j.className.indexOf("primary"))break;if(j)return lpdbg("formsubmit","clicked on button"),j.click(),1;if("button"==c&&k)return lpdbg("formsubmit","clicked on stash button"),k.click(),1}return 0}this.LPJSON={};
if("undefined"==typeof ischrome&&("undefined"==typeof g_isie||!g_isie))if(this.JSON=this.LPJSON,"undefined"==typeof JSON)var JSON=this.JSON,LPJSON=this.LPJSON;
(function(){function a(a){return 10>a?"0"+a:a}function b(a){e.lastIndex=0;return e.test(a)?'"'+a.replace(e,function(a){var b=k[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,d){var e,k,n,s,v=f,w,u=d[a];u&&("object"===typeof u&&"function"===typeof u.toJSON)&&(u=u.toJSON(a));"function"===typeof m&&(u=m.call(d,a,u));switch(typeof u){case "string":return b(u);case "number":return isFinite(u)?String(u):"null";case "boolean":case "null":return String(u);
case "object":if(!u)return"null";f+=g;w=[];if(m&&"object"===typeof m){s=m.length;for(e=0;e<s;e+=1)k=m[e],"string"===typeof k&&(n=c(k,u))&&w.push(b(k)+(f?": ":":")+n)}else for(k in u)Object.hasOwnProperty.call(u,k)&&(n=c(k,u))&&w.push(b(k)+(f?": ":":")+n);n=0===w.length?"{}":f?"{\n"+f+w.join(",\n"+f)+"\n"+v+"}":"{"+w.join(",")+"}";f=v;return n}}"undefined"!=typeof ischrome&&"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+
"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,g,k={"\b":"\\b",
"\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},m;"function"!==typeof LPJSON.stringify&&(LPJSON.stringify=function(a,b,d){var e;g=f="";if("number"===typeof d)for(e=0;e<d;e+=1)g+=" ";else"string"===typeof d&&(g=d);if((m=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return c("",{"":a})});"function"!==typeof LPJSON.parse&&(LPJSON.parse=function(a,b){function c(a,d){var e,f,g=a[d];if(g&&"object"===typeof g)for(e in g)Object.hasOwnProperty.call(g,
e)&&(f=c(g,e),void 0!==f?g[e]=f:delete g[e]);return b.call(a,d,g)}if("undefined"!=typeof g_ischrome&&g_ischrome)return JSON.parse(a,b);var e;d.lastIndex=0;d.test(a)&&(a=a.replace(d,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof b?c({"":e},
""):e;throw new SyntaxError("JSON.parse");})})();
function addStyle(a){if(g_ischrome&&a)a=document.createElement("link"),a.rel="stylesheet",a.href="notification.css";else{a=document.createElement("style");var b=document.createTextNode(" #lastpass-notification { height: 13px;padding: 7px 10px !important;text-align: left;position: relative;font-weight:bold;font-family:Helvetica Neue,Helvetica,Arial,Sans-serif;font-size: 11px;z-index: 1000000099;color: black;vertical-align: top; float: none;} #lastpass-content {display: inline;  padding-left: 5px;vertical-align: top;text-align: left; "+(g_isopera?
"float: left; min-width: 0px;":"float: none; width: 100%;"+g_webkit_selectable)+" font-family: Helvetica Neue,Helvetica,Arial,sans-serif;font-size: 11px;} .lppopup {position: absolute;-webkit-border-radius: 0px 0px 5px 5px;border-radius: 0px 0px 5px 5px;-webkit-box-shadow: 2px 3px 10px 2px #a6a6a6;box-shadow: 2px 3px 10px 2px #a6a6a6;z-index: 99999;background: #fff;overflow: auto;x: 0px;y: 0px;width: 300px;height: 200px;display: none;} .lppopup table {float:none; display:table; margin: 0px; padding: 0px; border-spacing: 1px;} .lppopup tr:hover {background: -webkit-linear-gradient(top, rgba(214,249,255,1) 0%,rgba(158,232,250,1) 100%);background: -o-linear-gradient(top, rgba(214,249,255,1) 0%,rgba(158,232,250,1) 100%);} .lppopup tr {"+
g_webkit_selectable+"background-color: #fff; height: 22px;} .lppopup td {"+g_webkit_selectable+"font-size: 11px;font-family: Helvetica Neue,Helvetica,Arial,sans-serif;color: black;cursor: pointer;} .lppopupextended {position: absolute;-webkit-border-radius: 0px 0px 5px 5px;border-radius: 0px 0px 5px 5px;-webkit-box-shadow: 2px 3px 10px 2px #a6a6a6;box-shadow: 2px 3px 10px 2px #a6a6a6;z-index: 99999;background: #fff;x: 0px;y: 0px;width: 410px;height: 200px;display: none; overflow-x:hidden;} .lppopupextended table {float:none; display:table; margin: 0px; padding: 0px; border-spacing: 1px; overflow-x:hidden;} .lppopupextended tr {"+
g_webkit_selectable+"background-color: #fff; height: 22px; overflow-x:hidden;} .lppopupextended td {"+g_webkit_selectable+"font-size: 11px;font-family: Helvetica Neue,Helvetica,Arial,sans-serif;color: black;cursor: pointer; white-space:normal; overflow-x:hidden; } .lppopupextended th {"+g_webkit_selectable+"font-size: 11px;font-family: Helvetica Neue,Helvetica,Arial,sans-serif;color: black;background-color: #ececec;cursor: pointer; height: 16px;} .sortable tr:hover {background: -webkit-linear-gradient(top, rgba(214,249,255,1) 0%,rgba(158,232,250,1) 100%);background: -o-linear-gradient(top, rgba(214,249,255,1) 0%,rgba(158,232,250,1) 100%);} .lpopupsearchbox {"+
g_webkit_selectable+"background-color: #fff; height: 22px;} .lpopupsearchbox:hover {"+g_webkit_selectable+'background-color: #fff; height: 22px;} .lpbutton,#lastpass-notification button[type="button"] {background-color: #eeeeee;background-image: -webkit-gradient(linear, left top, left bottom, from(#eeeeee), to(#cccccc));background-image: -webkit-linear-gradient(top, #eeeeee, #cccccc);background-image: -o-linear-gradient(top, #eeeeee, #cccccc);background-image: linear-gradient(top, #eeeeee, #cccccc);border: 1px solid #ccc;border-bottom: 1px solid #bbb;-webkit-border-radius: 3px;border-radius: 3px;color: #333;line-height: 1;font-weight:bold;text-align: center;text-shadow: 0 1px 0 #eee;width: auto;float: right; margin: -2px 5px 2px 2px; height:17px;padding:1px 6px !important;} .lpbutton:hover,#lastpass-notification button[type="button"]:hover {background-color: #dddddd; background-image: -webkit-gradient(linear, left top, left bottom, from(#dddddd), to(#bbbbbb)); background-image: -webkit-linear-gradient(top, #dddddd, #bbbbbb);-o-linear-gradient(top, #dddddd, #bbbbbb); border: 1px solid #bbb; border-bottom: 1px solid #999; cursor: pointer; text-shadow: 0 1px 0 #ddd;} #lastpass-notification img {margin: 0px 0px 0px 0px;padding: 0px 0px 3px 0px;} ');
a.appendChild(b)}a.type="text/css";document.head?document.head.appendChild(a):document.body.appendChild(a)}function get_notification_bg(){return"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAJYCAYAAABIPDecAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAIpJREFUWEftzcEKwjAQhOEIfUHfzJNHX07wYKuHkiDYbGJJMhZS8Ozh39PHzLI7nM6X2a0zeB9cwfR8VIzj/VAQQqtijDUxMyGqsgrTTtyqqGrpkj3Wy987XZJ00FJqSVKlJOfcwbXZMN2uRyUmLMJL8MIshN3OWyjvfz0FAAAAAAAAAAAAAAD8DT79ZmFeaJNdcgAAAABJRU5ErkJggg==')"}
function get_notification_add_bg(){return"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAJYCAYAAABIPDecAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAALJJREFUWIXtzrttQ0EMRNG7AKt1G2pBLbgF9+BG7ECBoAcYFrxLjoIVIzXgYBgdEPxMnD++JSCO3wSJuB4TBsTlmIwxiPs9gUFUgihiVe2OBCAiMwGIaqgmEkStv32n1uyt1cNzI9fzKdV3tHaeXJMBBEokEVW5n6pqD6PuZCIgGDAkgh2REOwYn+9vp70Fs/HTuDUuja+Xzu1la99R/+JZhmEYhmEYhmEYhmEYhmH8QzwALjFuWzeeKlAAAAAASUVORK5CYII=')"}
function get_notification_error_bg(){return"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAJYCAYAAABIPDecAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAINJREFUWMPtz0EKAjEMheEIBW/h+byKF/QSLtSKzCBOok58HWTo3sWf1cdLSpNy3O7c3lXGCJtxsylxdU9UJQ/LKpPFZobHkiRcM75OwlYz7bn3Wg0R0W31kwbTPoeo+2+Sh30wCnfhIpyEs1CFQXj+bmjLpwAAAAAAAAAAAAAAgH/DC5OFQV7fXlzwAAAAAElFTkSuQmCC')"}
function showMenuScript(){return"function lpshowmenudiv(id){   closelpmenus(id);   var div = document.getElementById('lppopup'+id);   var btn = document.getElementById('lp'+id);   if(btn && div){     var btnstyle = window.getComputedStyle(btn, null);     var divstyle = window.getComputedStyle(div, null);     var posx = btn.offsetLeft;     posx -= 80;     var divwidth = parseInt(divstyle.getPropertyValue('width'));     if(posx + divwidth > window.innerWidth - 25){       posx -= ((posx + divwidth) - window.innerWidth + 25);     }     div.style.left = posx + \"px\";     div.style.top = (btn.offsetTop + parseInt(btnstyle.getPropertyValue('height'))) + \"px\";         if(div.style.display=='block'){div.style.display = 'none'; if(typeof(slideup)=='function'){slideup();} }    else div.style.display = 'block';       } }function closelpmenus(id){   if(typeof(lpgblmenus)!='undefined'){     for(var i=0; i < lpgblmenus.length; i++){       if((id==null || lpgblmenus[i]!='lppopup'+id) && document.getElementById(lpgblmenus[i]))         document.getElementById(lpgblmenus[i]).style.display = 'none';     }   }} var lpcustomEvent = document.createEvent('Event'); lpcustomEvent.initEvent('lpCustomEventMenu', true, true); "}
function showExtTableScript(){return"function lpshowmenudiv(id){   closelpmenus(id);   var div = document.getElementById('lppopup'+id);   var btn = document.getElementById('lp'+id);   if(btn && div){     var btnstyle = window.getComputedStyle(btn, null);     var divstyle = window.getComputedStyle(div, null);     var posx = btn.offsetLeft;     posx -= 80;     var divwidth = parseInt(divstyle.getPropertyValue('width'));     if(posx + divwidth > window.innerWidth - 25){       posx -= ((posx + divwidth) - window.innerWidth + 25);     }     div.style.left = posx + \"px\";     div.style.top = (btn.offsetTop + parseInt(btnstyle.getPropertyValue('height'))) + \"px\";         if(div.style.display=='block'){div.style.display = 'none'; if(typeof(slideup)=='function'){slideup();} }    else div.style.display = 'block';     if(id == 'autofill' || id == 'autologin') {       var box = document.getElementById(id+'tabsearchbox');       if (box != null && (typeof(box.focus) != 'undefined')) { box.focus(); }     }   } }function closelpmenus(id){   if(typeof(lpgblmenus)!='undefined'){     for(var i=0; i < lpgblmenus.length; i++){       if((id==null || lpgblmenus[i]!='lppopup'+id) && document.getElementById(lpgblmenus[i]))         document.getElementById(lpgblmenus[i]).style.display = 'none';     }   }} function chk_should_close_exttable(event) {   var dont_close_on_me=[       'autologintab', 'autologintabfooter', 'autologintabheader', 'autologintabsearchlabel',       'autofilltab', 'autofilltabfooter', 'autofilltabheader', 'autofilltabsearchlabel',       'fillformtab', 'fillformtabfooter', 'fillformtabheader', 'fillformtabsearchlabel',       'sorttable_sortrevind', 'sorttable_sortfwdind'];   var tid=null;   var ptid=null;   if (typeof(event.target) != 'undefined') {     tid=event.target.id;     if (typeof(event.target.parentElement) != 'undefined' && event.target.parentElement != null) {       ptid=event.target.parentElement.id;     }   }   var foundit=false;   for (var x in dont_close_on_me) {     if ((tid != null) && (tid == dont_close_on_me[x])) {       foundit=true;       break;     }     if ((ptid != null) && (ptid == dont_close_on_me[x])) {       foundit=true;       break;     }   }   return !foundit; } var lpcustomEvent = document.createEvent('Event'); lpcustomEvent.initEvent('lpCustomEventMenu', true, true); "}
function run_custom_js(a,b){try{if(""!=b){var c=lp_gettld_url(a.location.href);if(!(("facebook.com"==c||"live.com"==c||"outlook.com"==c)&&0==a.getElementsByTagName("form").length)){b=b.replace(/lpcurrpage./g,"");b="try{"+b+"}catch(e){}";var d=a.createElement("script"),e=a.createTextNode(b);d.appendChild(e);a.body&&a.body.appendChild(d)}}}catch(f){}}
function lpPrepareCustomJS(a,b,c,d,e,f){if("3"==d){if(-1!=a.indexOf("lpcurruser")){if(!f.getElementById("lpcurruserelt")&&f.body){var g=f.createElement("input");g.style.display="none";g.setAttribute("type","text");g.setAttribute("id","lpcurruserelt");g.setAttribute("value","");f.body.appendChild(g)}f.getElementById("lpcurruserelt")&&(f.getElementById("lpcurruserelt").value=b)}-1!=a.indexOf("lpcurrpass")&&(!f.getElementById("lpcurrpasselt")&&f.body&&(b=f.createElement("input"),b.style.display="none",
b.setAttribute("type","password"),b.setAttribute("id","lpcurrpasselt"),b.setAttribute("value",""),f.body.appendChild(b)),f.getElementById("lpcurrpasselt")&&(f.getElementById("lpcurrpasselt").value=c))}a="if (typeof(lpcurruser) == 'undefined') lpcurruser = ''; if (document.getElementById('lpcurruserelt') && document.getElementById('lpcurruserelt').value != '') { lpcurruser = document.getElementById('lpcurruserelt').value; document.getElementById('lpcurruserelt').value = ''; } if (typeof(lpcurrpass) == 'undefined') lpcurrpass=''; if (document.getElementById('lpcurrpasselt') && document.getElementById('lpcurrpasselt').value != '') { lpcurrpass = document.getElementById('lpcurrpasselt').value; document.getElementById('lpcurrpasselt').value = ''; } var lploc="+
es(d)+";"+(1==e?"var lponlyfill=1;":"var lponlyfill=null;")+a+"lpcurruser = ''; lpcurrpass = '';";a=a.replace(/lpcurrpage\./g,"");a=a.replace(/lpframe1\./g,"");a=a.replace(/lpframe2\./g,"");return a=a.replace(/lpframe3\./g,"")}
var g_content_check=!0,g_bodystyle_relative=!0,g_trial_bg_expt=!0,g_ignore_lp_cache=!1,g_stylesheet_grubbing=!0,g_use_wacky_disp=!0,g_input_click_intercept=!0,g_fixed_iframe_position=!1,g_force_fill_active_element=!1,g_create_iframe_in_top=!0,g_inframe=null,g_toplevel_iframe_exists=!1,g_detect_species=!1,False=!1,True=!0,pass=!0,LP_GETNAME_FAVOR_ID_OVER_NAME=!0,LP_GETNAME_FAVOR_NAME_OVER_ID=!1,g_popupfill_rows=0,g_popupfill_rows_FF=0,g_weasel_id=null,g_weaseled=!1,g_autofillsites={},g_popupfill_widest=
260,g_popupfill_max=1,g_popupfill_ctr=0,g_popupfill_parent=null,g_popupfill_parent_last=null,g_isadmin=!1,CLICKABLE_ICON_ZINDEX=2147483648,popup_show_sitename_suffix=!0,popup_show_menu_expand_visual_cue=!0,g_last_field_focused=null,g_minwidth_override=0,g_minheight_override=0,g_popupfill_iframe_width_save=0,g_popupfill_iframe_height_save=0,g_hide_navbar=!0,LPICON_HEIGHT=16,LPICON_WIDTH=16,g_double_password_hack=!1,g_double_secret_password_hack=!1,g_double_password_wtf=!1,g_popup_divs={},g_input_cnt=
-1,g_form_cnt=-1,g_input_fingerprint=null,g_keyboardNav=!1,g_more_close_on_cancel=!1,g_more_enable_return=!0,create_onerow_iframe=!0,do_autofill_if_matched=!1,do_popup_actions=!0,popup_actions_imgs={},g_frame_css_str="",g_ctr_getAbsPos=0,g_ctr_weasel=0,g_ctr_getzindex=0,g_ctr_getWW=0,g_ctr_nosetheight_A=0,g_ctr_setheight_A=0,g_ctr_setwidth_B=0,g_ctr_nosetwidth_B=0,g_ctr_setheight_C=0,g_ctr_nosetheight_C=0,g_ctr_setwidth_D=0,g_ctr_nosetwidth_D=0,g_ctr_settop_E=0,g_ctr_nosettop_E=0,g_ctr_settop_F=0,
g_ctr_nosettop_F=0,g_ctr_setleft_G=0,g_ctr_nosetleft_G=0,g_ctr_recheck=0,g_ctr_setposition_H=0,g_ctr_nosetposition_H=0,g_ctr_setzindex_J=0,g_ctr_nosetzindex_J=0,g_ctr_numspan_setzindex_K=0,g_ctr_numspan_nosetzindex_K=0,g_ctr_numspan_setzindex_L=0,g_ctr_numspan_nosetzindex_L=0,g_ctr_LP_measureText=0,g_ctr_LP_measureText_cachehits=0,g_ctr_LP_measureText_cachemisses=0,g_ctr_formcache_hits=0,g_ctr_formcache_misses=0,g_ctr_form_get_username_M=0,g_ctr_form_get_password_N=0,g_ctr_orphan_get_username_P=0,
g_ctr_orphan_get_password_Q=0,g_ctr_looksLikeUsername_R=0,g_ctr_mutation_observer=0,g_ctr_mutation_attribute_chg_S=0,g_ctr_mutation_attribute_chg_force_T=0,g_is_specialsite=null,g_nevers={},g_last_recheck=null,FORCE_OFFER_GENERATE=!0,NO_FORCE_GENERATE=!1,FORCE_SHOW_NOHITS=!0,NO_FORCE_NOHITS=!1,FORCE_SHOW_NOHITS_NOLOGIN=2,g_icon_shading=!1,g_do_icon_number_hint=!0,g_icon_hover=!0,g_icon_parent_hover=!0,g_icon_number_overrides={sites:-1,formfills:-1},g_icon_numbers={sites:0,formfills:0},g_visual_cue_on_hover=
!0,g_show_icon_only_on_focus=!1,g_show_save_success_msg=!0,g_save_suggest_msg=!1,g_creditcard_profile_annotate=!0,g_show_icon_number_for_formfills=!1,g_save_suggest_msg_seen=!1,g_change_icon_on_input=!0,g_savesitesuperbox=!0,g_dologin_clickable=!0,g_use_grey_icons=!0,FADE_MAXSTATES=100,g_aspx_hack=!0,g_found_aspx=!1,g_clickable_input=!0,g_clickable_input_on_password=!0,g_popup_active_username=null,g_popup_active_password=null,g_extended_kbd_nav=!1,g_iframe_scroll_hack=!0,g_frame_scrollable_set=!1,
g_defensive=!0,dotrans=!0,g_pw_ico="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABMUlEQVQ4T32SgVHDMAxF6QZ0AswELRuECcoGhAloJwAmACZomAA6QbMBZYKaDRih/+UkTvHF1d0/x/L317eU2cX5WNrxoUabTRwk5Z6EtjjrtH8RcsyXAlx6FS6FneCVcbIS/oSNgNgQUQDSt/Bj1UvbnHNxIdy4eBTolYQEsOkXKIQzBL0I3NvoIGlzFN6Ftbl71gqRaAT2xJvwKFwL2R1A2Jsql6hEL7JdSlp5Oy7uhE/nukCrxDYIUI1JxGAC5L3Yg7670sGQNGJNwMXpQR+byIjoAx3mCViN8aVNFpjUXGDUozG6srvgPJkYlwnc3Qv+nJEAhNZIfDcCzfoVeA4FcPZhvEFx6ld2IZpaxn9lP6gJUAnbV+aA6uzp0yhqApBoUmdrM+Hm7BMiP2mTawInofVEEf5J2pUAAAAASUVORK5CYII=",
pw_svg="";("undefined"==typeof g_isie||!g_isie)&&"function"==typeof getchromeurl?pw_svg=getchromeurl("images/generate16x16.png"):"undefined"!=typeof g_isie&&g_isie&&(pw_svg=g_pw_ico);
var g_ff_ico="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAvElEQVQ4T2NkoBAwIukXALL9gViBgJkPgPIbgfgDSB2yAQVAfj+RDioEqpuAbkADUKAeiB0JGLIfKN8IxCD1KC6AGYDsqgtANf+B2BDJUBCfaAM2QDUGkGMAcpjA/Qx1EVEugHkJZDlcA7EGgKJSHi0wHwL5D4g1wAGoEISRwQEgB4SJCkSQZns0Aw6SYgDICyCMDEDOJ8oL6E5HMwfsDayxQHFSBmUmUIJBdzq6C0DeWAATRE626AqJ4gMAKh82EQu8MAEAAAAASUVORK5CYII=",ff_svg="";
("undefined"==typeof g_isie||!g_isie)&&"function"==typeof getchromeurl?ff_svg=getchromeurl("images/formfill16x16.png"):"undefined"!=typeof g_isie&&g_isie&&(ff_svg=g_ff_ico);
var g_sites_dark_ico0="iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDhsdjWkOXwAAAKJJREFUOMtjYBi2QIGBgcEBiW8AxUSBAgYGhvcMDAz3kcQuMDAw/GdgYGhAV8yCwxABKE6A8vWh9ANiXXEAauN9KP4PFcMAjGj+loeyH6J5gQHqmgdI8hiuaYDaRAyGhwUTpdGF7gUFJPZ8NLWGSAH8gFCAwgIRpvA/AwPDfmJdFYDk1wQohvEL0BVjCwMDpJBeAMUPGRgYPlKSlB2Qwme4AQBDOy61dYCtFwAAAABJRU5ErkJggg==",g_sites_ico="data:image/png;base64,"+g_sites_dark_ico0,sites_svg="";
("undefined"==typeof g_isie||!g_isie)&&"function"==typeof getchromeurl?sites_svg=getchromeurl("images/sites16x16.png"):"undefined"!=typeof g_isie&&g_isie&&(sites_svg=g_sites_ico);
var g_close_ico="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAl0lEQVQ4T7VTgQ2AIAyTC/RD9QO9QLxAP1A/1A9sDZgFo0CQJctcWOs6hioSTRl8hVjDGUNsR9EG3y1Bh2QKQYqaHt+zJdBIhkiCEfU6G8HB9kRX/BtllqLLzw6uQ3hjAKvJpUyvhBYgAmkkWpwZ5SVIlsBF4RA5BxojhygXzSvBkfxI/yVIXmVq41XFPCZe8f2YfHpfz0+q7C4R/Q4GAgAAAABJRU5ErkJggg==",close_svg="";("undefined"==typeof g_isie||!g_isie)&&"function"==typeof getchromeurl?close_svg=getchromeurl("images/close16x16.png"):"undefined"!=typeof g_isie&&g_isie&&(close_svg=g_close_ico);
function getnumbericon(a,b,c,d){var e=0;if((a=getIconState(b.ownerDocument,LP_pickFieldName(a,b)))&&!("undefined"==typeof a.fillhintnumber||"sites"!=a.fillhint))e=a.fillhintnumber,isNaN(parseFloat(e))||!isFinite(e)?e=0:10<=e&&(e=9);"undefined"!=typeof d&&(e=0<=d&&9>=d?d:0);d=[g_sites_light_ico,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiEFu6xIcAAAAXhJREFUOMvNk8FLVFEUxn/ffRdmIAla1CbBFDGCpoiQWYlBLty7UHAvEq2HYLhveDMws2/TIly6E9SdIEj+AVYgRaTgXhe2C968x2nhTOjow8pNZ/ede/ide893Lvx3UavVhkMIk30dQqiGECpF9e68CCG8LpfL3yStAAIk6Z2kT3Ect68C+AGdSroFVEII82aWSXoGYGYHVwE0qOM43pU0BXw3s1zSI2AnSZKXhYB6vT7inLvd7XZ/eu8fOOe2JEW9zjkwZ2bHkoayLDtpt9ufLzzBe/8GWC6VSpc7nIE2pLPLeu/fA0uDQ3T/6pp6039uZnfN7Ieke1EUrQOu3/VawPloNBrbwIyZ7TvnLvg/+mKOJ3xk88NR4R4sADM92fp9MDRMdXaRxenHVMbuFy8SMAFkZval2Wyu9ZN3Hk4zWx0nAtKsWwxotVrNNE2f5nn+CrB+/nRvlSR5y2EK0TWbSKfT+fo3Lribfr4bA/yfl56y2kkuZX8BjXVyqMs8oFcAAAAASUVORK5CYII=",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiMeA//jHgAAAdRJREFUOMvNkz9oU1EUxn/nvkeSokgV2oIoNbVUi5Qgj+ogomAWB3GQEtFZUdE1COG+/IMEHLp2kI7FRdCCgxCQdhJFsSKCtIUMDoU42EEMvORxHPIiNSb+mzzbxz33+873nXvhv6tsNnvAWjvbxdbak9bamUH9Ziew1t5OJBIfRGQREEBEZEFE3vi+X+lH4PbgQER2ATPW2oyqtkXkOICqbvQjkF7s+/6qiJwG1lU1FJFp4FmxWDw3kCCXy40bY/a0Wq2m67qHjDFPRcSJlEPgkqo2RGR3u93+VKlU1n6w4LruXeBGPB7/WaFD9FikM6zruveB670hmn/dmkTpe6o6oqrbIjLqOM4jwHRVf0uws/L5fA1Iq+o7Y0y0/xip9AVOTO7j69YGteUVGlG/0/MOLotINoJ3RGQOIJm+RubUBHGFkfEpZqeHeP5qk7CP9ymgrarvS6XSw676kWNj0FyjOj/Pk3oAY/sZ7hdeuVwuBUGQCsPwFqDR2+LFgwWq95YZ9S5yPhkjqK9/t/DLlAqFgnanOHv1Jmcmh9neXGVxaYUvf7M+L9O53Pz4mtrLBodTSWID/kKf2svRiY7joYMec1c8COtsva3T+DOCzyxViwNPvwEMIZXdCan/PwAAAABJRU5ErkJggg==",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiIBl+zfqgAAAdJJREFUOMvNkj9oU2EUxX/3e4+X2AYtgoIotAUVlZSiVQKCOFgwQ50cKhUcg4qbEITwvfyTjEKnCqUgbqJooQgFRXAROoiiKFWHOsdiSw0UXvK4DkloGl+wOHm2c7ice++5F/47ZLPZQ9baM21urU1Za0d61ZtOYq29FY/Hl0VkDhBARGRGRN75vl+JMnC7eCAi/cCItXZSVRsichJAVb9FGUg3933/tYicA76qaigix4FXxWLxQk+DXC43aIzZXa/XN13XHTLGLIqI0+ocApdVtSoiiUaj8aNSqbzftoLruneA67FY7M8OTaN5keawruvOApnuEM2/Xk1a6Y+p6j5VXReR/Y7jPANMu+tfDTqRz+dfAOOq+tEY07q/x1j6EqeG9rLx/QPPF5eo9fiDK8B4i5bb+pGJDBOpJH3EOJZKk5kcjX4k4CjQUNVPpVLpSVNKMHjAY315nun7D1gJoS8WjzYol8ulIAhGwzC8CWhTrfFy9h7Tj1yy+dsMO7BarfbOoBOFQkHB40TqLLt+fubL6h4uXp0iObDCzN2HVCNeOQL9nE6fZzg4yMbcG3Caan3n91/j6eMlfnmHmbpxjeTAJm8XFljb+Qpb8BIeQS3YVvMbj7WWjTVB6I8AAAAASUVORK5CYII=",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiIqO1Am6gAAAb1JREFUOMvNkk1rU0EUhp8zd0gCrdKFNgiCFatiIYgUKdW6aikuhIJF6kJcdFFEXAclzM0XJH9A6EL8BSoqZlEQCl0GEQU/qApdiYouKmgUbu7luGgC+boUuvLdvcPMc86c88J/p2w2e9g5d7btnXNTzrlM3H3TaZxzt1Kp1KaI3AcEEBFZFZFXvu9XBgFsjw9EZAjIOOeWVDUUkTMAqvppEEB6ve/7GyJyAfioqpGInALWi8XibCwgl8sdMcbsbzabf621Y8aYNRHxWpUjYFFVv4vIcBiGPyqVyuuuL1hrbwM3kslkf4Ud0BORnWattfeAld4hmr1uTVrTn1TVg6r6U0RGPc97DJh21V0Bncrn88+BOVV9Y4zp2v/w0RkWzo2w8aDG52BwDq4Ccy1b7iInJrh2fZbx8QxjQzFBAk4Aoaq+K5VKDztec3H5MmkAIppxSSyXy6UgCE5HUXQT0Pb58UvLTB34Qm1tE4CwEZ9EqtXq++6TUaYn0xD9YuZ8Gkgwv7LA1t2nbA8C9OsPH16+peGFpA6dZGQfbH/9RiOug379pl57RB1ITCxy58oxXjyrE8StsVOFQkF3w/8DCTuL1wm1OYIAAAAASUVORK5CYII=",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiQbPNSBVgAAAdVJREFUOMvNks9r0nEYx1/Pxy9qzAIJXTWp7BCOMSJkC6KdtqMdIkZR4DEqOktDPooKCv0DBdEturSo2IIoKIQ6dBi5RmOsTrHTIjbIGqlfng4qbO4rRaee2/v9+fB6fsJ/F5lMJmatHetqa+0pa+1ov/9mu7DW3ggGgysicg8QQETktoi8z+VyZS+A06MbIjIAjFprL6hqS0ROAqjqJy+A9OpcLlcVkQlgVVVdERkGXhUKhcm+gGw2e8QYs6/ZbG45jnPUGPNcRHydzC5wXlXXRSTUarW+lsvl2o4WHMe5CVwNBAK7M7RBT0TaxTqOcxe40jtE869bk870k6oaUdVNEYn6fL7HgOlm/SNge+Tz+ZfAlKouGWPa+/fHSZ0bZ6DdAz8+V5l/t+Z5BxeBqY4sdf3Q8DjJRIKhSITI4BCx2KD3IQHHgZaqfiwWi7NdM3IwDHzjQ61GrfqQO48WvAGlUqnYaDROuK57HdCuHz0UBvYzdnqCyVSamfSZvpdIpVJZ7vVWXz/le/MLy2t1kukZUoePEeUN616A3RHm7OVp4j9XeHB/iZEDfnB/0fz7/W8wN7fA1t4El65NE9+zydvZZ2z0a8ETsTjPrcUXhEJ+6vX6jrffHVGXQ3t5OMYAAAAASUVORK5CYII=",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiUQsh1pnwAAAdhJREFUOMvNks1rU1EQxX9z37OJGAUF4yfYQBTUlCpBixhRaBcuAoIiiovsFBXXQQk3IYkkf4IF8S/QUjdCURELdlWjglSKunHhIukiQktLX/IYF0mkTRP8WDm7M/dyZuacA/9dpdPp/dbaEx1srR2x1g71+2/WAmvtnWAwOC8ijwABREQeiMj7bDZb6kXgdmFPRLYAQ9baK6raFJHjAKr6pReBdONsNjstImeAz6rqi8hh4FU+nx/tS5DJZA4YY7Y1Go0V13UHjTFTIuK0J/vAJVWtiUio2WwulEqlD+tOcF33LnAzEAhsnNAieirSWtZ13YfAjW4Rzb+6Jm3146q6U1V/iEjYcZxJwHSm/pZgbeVyuRfAmKp+NMb88v9g4gLnYntYXZhnauI1tT45uAqMtWGx0w8nUlwbPYazvMy+2FluXU/0DhJwCGiq6lyhUHjSaoU4dTICi1+ZfTvHbKXC9LvvDPQiKBaLBc/zhn3fvw1oq7uJkAtsjZK8mOR0PM7w4A68PkmkXC5/2qCUA1RnyI+/ZCR1j/Oxo4QnKtT+zL4636oe7IoQjxwhunsAVlZp/I3/byafU/X3kkxdJrp5kZnHz6j3O6H3EhXG71cIbQ+xVF9a9/QTGr2YJMqy6kMAAAAASUVORK5CYII=",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiYB84AargAAAa9JREFUOMvNk0FrU0EUhb87bzABiyhiC7XQKCq6CCJF3FhQ7E7BhYL+AhFxHYQwL7xEknUX0kUR3LhRQQsuxAahgkvRIpaiXYmrCiaCILzMcF0khTZ9z0JXnt2ZGb4799wZ+O9UqVQmnHNnN7xz7pxzrpx33mw2zrm7xWJxVUQeAgKIiMyJyIc4jptZADvkUxHZC5SdczdU1YvIGQBV/ZoFkGEfx/GSiEwDX1Q1iMgp4E2SJJdyAdVqddIYs6/X6/2x1paMMa9EJBpUDsA1VV0XkRHv/Y9ms/lxSwvW2nvA7UKhsL1CH/RCpH9Za+08cGs4RLPbqckg/SlVPaSqXREZjaLoOWA2qu4I2KxarbYIzKjqJ2NMGUY4f/Uyh4se7/td+1+rLLSXt4/ROXcTmBnYBvAE4GDpOCf3RwQgAgiWt+1lOhm9nwC8qn6u1+vP+ku/WZi9T5IkPHi5BqS8e/SUTlZ4jUajnqbp6RDCHUC3so9w/cox0rXXtL+nuS+RVqu1khXWxIWLjBNYWnyf/xf+pdLRMQjfWFlnN4ADTI7tge5Pujt8phx1eNxKMnf+AqjSjZJP5cFjAAAAAElFTkSuQmCC",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiYvL1YXYQAAActJREFUOMvNk71rU2EUxn/nvdckkCgWsYv1Y1EQWlMJUkWqQzsUdOtQ/4Jgi3NQwntvPiDZXQSDi7P4sRUqhYKTIhaMIjoIhSKNFDsExZt7OQ5NMI03VJx8tufh8Jz3nOe88N+hUCiMWWsv9Li1dspaOzGs3vQTa+2tVCr1QUQeAAKIiNwTkTee59XiDNwBHohIGpiw1i6oaigi5wFU9VOcgQxyz/PWRGQa+KiqkYicBVbL5fLMUINisXjSGHOo0+n8cF33lDFmWUScbucImFfVlohkwjD8WqvV1veM4LrubeBmMpn8s8Ou0VOR3ce6rtsA8oNLNP+amnS3n1PVo6q6IyKjjuM8AUyv674G/fB9fwWYVdW3xphu/hmmrl/j3NgIP780efzsBe0hd3ADmO3Sak/PzueZy52G7xHHJmdYWsjGHxJwBghV9V2lUnnUE1PpJOys03jY4NU2JNIH4w2q1WolCIJsFEVLgPb0zY0tOJzD930uH4Gtjc2hl0i9Xn+/Vxnh6qXjsP2au/dfciW/yOTFaUaff6b11/E5gJPkAB2iff5CDL6xttLkxNw4i3fGgYDm8iqtYTH2o1Qq6W+WIJNJELTbBH01vwC+YJMlVG88LQAAAABJRU5ErkJggg==",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDigO/bwqsQAAAfNJREFUOMvNkz1ok2EQx3/39umHmpZWMUVaUEEUpWlQ0QyiCDooFhwcFN2lgqhTEMKTDwsZCw4SQQNOLh20KBgQRZ0kIK2LlBaqtNKhfkRqbHnfvOEc0kCbD0Enb/vD8bu7/93BfxfRaLTfWnuoqq21EWttqFm+s1ZYa692dHRMiUgWEEBEJCMiE/F4PN0IYGq0JyKbgJC19ryq+iKyH0BVZxoBpFbH4/HXInIUmFbVsojsBV6mUqkTTQGxWGy74zhdpVJpxRizw3GcnIi0rFYuA+dUdVFEAr7vf0mn05PrRjDG3ASG29vb6ytUQI9FKs0aY+4Bl2tNdP51a7Lq/kFV3aqqP0QkaIwZ/yvA2kgkEs9F5CQEiAydYbC/i6VPeR7l3uM1ALTU3MEFEYmKCJFLNzg1sA186NsVZl/nAvnp738+JGA34EOQPTs3UP6YY/T2KC8WymwJHaYHgABDw9c5G+6pB4yMjNzyPC8My/zyoKVvkEj4OAO9lUZbAdjI5t5ugp2tzY1JJpOavv9M55ZcVd9VV1XVndE3s8u6Plxtsr42jp0+QvfPCTJ3xvkKeHNT5J88IJsdY74M3yafksncrfuF6kvw9tUHDlyMcOVaBFbmeTj2jqIHxUIJF3A/z7K4WKhfY3WEaieBnjaKhWLTcX8DATq/EhizV6kAAAAASUVORK5CYII="];
a=[g_sites_ico,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiA7Y9ZkmgAAAOlJREFUOMvNkr8OAUEQxn+4UkFN4k8kGv865SmVEqXGI3iEvUrvBWg8gDfwAsQDSO48wfVHQmEkg3NWrjHJZHe/nZ2Z79uBf7QqMFDnnriVzYAQ8BV2AK6AiXvgxGAF8amcu7IGtl1spaIvfhUs1jKKd0X2pxcKSDeBun/rxkglG3/SIpv2yzSFqtovAYwxXxM4SuFAifjgWtHBtcGYDns2W/8jhRHgKl3uli/TH06YuC3a9RJJGvRU9dUDLDZdhv0GOSC6nBMTGKCmhgiAcLfG8xYcI8hZTGLwy9Sl/sbUCRz70JD13HtDbwm1Old+g8VwAAAAAElFTkSuQmCC",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiMmK/1bgAAAAUhJREFUOMvNkr9Lw1AQxz9KCCgIUcSCICYaUFBIIODikA4ddBC7iKCLONlJ/4Q4devqJLoUZ8GtIC24KAh1VSERh0KWdrIQkDr4Wp81oREXD453d4/78f3ewX8UHchKvi00lRwBTcCXYnWgA3hxCUpMTBO6J3xLvEHaKaqioy+0I2KxMiThnhX2Sx8ExDSB9P9jGk90SqPfuBj+68pkCLpknwF4njewgCIxHEgkdrEKXlSs3AYr5gRvjScql1XCBAh5wJV4AcDI7ZNfXWZydAzTdikcrKEmFLCl7ufd7gtLGWjXKZZKXPkRZKbREg7JE4n6Vyji9uKE6zBkytlk3VCJ/McehLhLDPr33AxbZHcPcU2N1nON0/LN79bobBdwTY326z2Vu5B5y+hxoAxOH2dx7hPxyIzD1o4D7z6NB58wXYEm5eJx4u8Hfzxclyg/Z/wAAAAASUVORK5CYII=",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiII7jBnDgAAAVBJREFUOMvNkjFLw1AUhT+1pFo7FAdFHBrBgkihxRQ6STtmqOAmOIhTwU0QXH2/QNBBBBE7uQgilIJDByehgyDi4JaIkwWJ1IJQkTr0iS8xqQEXD1xy70le7j3nXfiP0IGiUmdlhMIG4ACWwt0AXUD4HYj4cAkZa7LOyKcddopL2dGS0ZWcLwYU3UmZP3gkIKexlfc/phGyU5hweTH41ytTJehKfgwghPj1BxHFYVsx8Uur9EXDMBeZ18do2bfULhq0AyQsAQXFFwBSpTKlfJoYUWbzJuXlTKAHWaV7pZfGSU5qvNyfs3tQwfqAWHQ4cJGEPKh/U23qhzvUMdja3mQEeGo2+96C7V4cjbl8ESP1yP7eCXfPMJFbYLzPKnswSs4sMN2ZonV0BUM99j38HjicnTZ41WZYWV8lnXjjulrF8eyBL4QQXbXW4hqddsf1zSd981rsA+U7cAAAAABJRU5ErkJggg==",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiIxsTXvBgAAASpJREFUOMvNkrFLw1AQxn+2EhQVIohFKJhqRSiIBQcRCxYEcSgoilNFSgdnV7f3n+g/4GQHx65BBAcHnRoXdetiHGolLgdeYpoGXPzg4727x7u77+7gP8IBqsouC1PhDOgCHeW7BwLAxH0YjfHZwobYq3J6aatoS8aOMBBfLEaU7nm5P0ckINV46v1XNUYypWGoF5m/jkxLcNT9AsAYMzRARnW4LWworSFMFirU6zXy1mAJ+8CW6ssPrBLHJ9sUiys4E4MDlFX2S/Wb3eYBOQC++ExoogEKSgYAS7Um6zMvtG4eAej7yVPwwoszy8ZaDrCpbC4A4+yc7jGdsMoRfPB094Cf7TM2t4w9Bd3XN/z0Ad5xW1e4gFU65Pxokdtrl15kD2JhjAmGhf8GfYtLPXngvXwAAAAASUVORK5CYII=",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiQSRQg58gAAAVdJREFUOMvNkz1LA0EQhh/lOAhG8IpL1ARNrE5SGAimEIL+gAhapFEQWztbu+sE/4QiYmUjiY0gKsTCIpAoiIiQU2IjSARPowSJhRvYXO70wMaBYXdnmI/3nVn4jxIDZqR3UqgvWQXqQFWylYEWYLoFKC62AaHL4j0hTstvFyeiYlVoS9hcpUfCPSrudw4IiG4syd/VjSkq+dEOLnr/OjIZQky6bwKYpvlrAkVi2JJIbGP95kWNk51P0wegKLzenlI4r7lCmAOmJV4ACI6nSRkGEV1HD0eIRsOee5CUqm+1oehDGvDERbnMe+OBYqnqmcAUgTHZGBrWAJXJqQxqQCWTOGJ9u+i5iZZzzjfH+7w077mq2aSW1siOjBGiyKNHAodozC7miL9ds7tzSWJQhc8Pmv73oE4+X6LRb7CwkiMeeOZs74D6D5+pO0WlwEblkGBQxbbtDt8XLQlh5BtbXRIAAAAASUVORK5CYII=",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiUJ1nbBXwAAAVBJREFUOMvNkz1LA0EQhh9NDASuSJr4VZjA2WjAgCAIBwnYBhTBxiLYWNj5EzaQH2GnvYiVEKxSmEoPUlikEO5SSDiFnJAQyanEwg1uzEVPbBwYdnaG2Zn3nVn4j5IEcso9IzWQHAIuYCm+GtAHhF9C2McXk7on7yvytIN2UZEVLal96fOVCQX3grQbXyAgu7GV+Eg3QlYKokNcTP51ZCqEpGIfAwghfnwgrDBsKyQOsA54YdHYJJeepfdYp3xW4WEMhC0gq/ACQMIosLuRIdTtMp/OcrBvjN2DjFL95AOKxvpaCtp3XN/UibdavDbviQCezwNCJiY/XVNoYSCqk9/WIQRPt00qpjV2CvbI4oQAp0qxVKRsecTSyySCj9Gl4XgwnWI1tYQ+E4HnHi+/2YOr80uctznyhR30aJvq6QXuN5/JpwmTo5KJFtfouJ2h0Du9o2L2gjumAgAAAABJRU5ErkJggg==",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiYHGuO/mwAAASZJREFUOMvNk79KA0EQxn+aQywsEiwCMXgXUbAzYCsYawNa2KXJEwQfYQXB2idIGiura/UKFSwF04iFkItYWeQiWIU7YpERxrjqkTR+MOzuDPPvm1n4j/CAinqXRVLhEIiAjtLdA0PA2Bwciy4rUpf3hpxh2iquJGNHZCg6K2ZU367cu2MtINWEyv6tGiOZ0sgXLmanHZluwVP3JoAx5s8AjmI4VCR+9urCAlt7uyzNx8TxyCV+e8QP2tYx7gPbipcmwKK3xno2QwJkABKHm6BNZAlQVtlbowDv+KfH+EBus0ajusxt65zoBxINUFJLpFDioLrK4OmC4GXw6yaGtjkXKzsUSLi+vGOiMXoreUieeXhlkgA53Pwc9Hv0U3wmCyLOTo6slg+fZlNd2Y2MegAAAABJRU5ErkJggg==",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiY3PDqPNwAAAURJREFUOMvNk79Lw0AUxz/amgqNYBcHf8bBrdhABnWQCi4FHQQHVydBJ1en3ubu4tBB8Q8Q3ARBLLiJkCGDW6NQRSHUIQhGShy84jUmGnHxC4+7971c3nvf9w7+IwxgQfFNaamwDbSAhsLZQAiIuAvZGG5Q2rr0S3J102ZxISM2pIWSi0WPUveE3N9GSkBm4yrnX7IRMlIa69Ki968tU0swlP0BgBDixx9kFYVdRcROrVIXnZnlJaZHC7w+OByfXOInlLAClBVdPvq4ukHFmoKXNiPmIltrpUQNTCX6YYfsz+fg2aZ2VOPKAy0/kDhIQl40VLJ59wiTFtWqBcD9TfPbLrjdg1OgPDcG3jV7u/vYHgzPzjP0qzZmgEyOPt5op3gLEbSonzmMV4ps7hSBAOf0nKfIHMRCCBF+ehq6rhH4PoHyzTsT9lgsYELcCQAAAABJRU5ErkJggg==",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDigXmdeCcQAAAXtJREFUOMvNk88rRFEUxz8MIzKaoWYWFBZiwYwob6GYJZlizcZKWOBPuCvLKQuNhYmVzSwkio2SlaaEjZQyz48sRFPjGb3HdG3u6M3Mm5qycep0zzm3e873e8658B+lAwjb/H6lFckKkAZSttglIAHh9KDGIeZVOqv8kDr1SlGcqIoppVLFHKXKxrtd2fdFFFBodNt9CRqhKlWiBb2o/uvI7BQ68rYQYqvSBDW2Duu2JgKNaJEJgm1NZPQku0dXWA4JiilMAaMA2swiY4M9eOo89GhTzEW6HBEUJ1Ab56e7s55c6ojoWpTj5xwtfUP4FLLI/DKTIZ9jAgF0QpYPC1ytQbRQmN6AC4BaABpoDnjxe2rLN0YIIVc3D+VDxpTy25SmlFKat/L0LisLxZRlxuhmZHwY7/sFsfU9XgHr4Ybk/jbxeILHHLxdHhCLbTj+BcDi7OSagWmNhSUNPh/ZSZxjWGCkvzAB8+mOl5f07x6UUMgjafS5MdJGWbo/W6+PV71qU8EAAAAASUVORK5CYII="];
return c?a[e]:d[e]}
var g_sites_light_ico0="iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDhss3LcOZQAAAU5JREFUOMvdkzFLA0EQhd/bO7iIYmklaCUopLAQA6KNaawt9BeIgnUwLHPJRchfEBR7CyGWgiDY2SlIQBT/gDaCoGDudiy8SLwkBiwz1c7y+GZ25i0wnFEqlSZFZKGdi8iiiOR7aU32QkR2c7ncPcljAARAkgckb8IwrGf1fg/oJ8lRAHkR2VDVmOQ8AKjqY1bMHgCGYXhFchnAg6omJGcBXEZRtNoXYK2dMsaMt1qtD9/3p40x5yS9tHICYF1Vn0mOxXH8Uq/Xb389wff9PQDbQRB0t/QNOiPZ1h4B2MoO0fxnYz8dOOcOVbWhqq8kJzzPa3RAXZIkawCenHMjJN/+GiIqlcoFgKKq3pEMAMwAuCa5VK1W3SAfbAIopum+cy5KzwXn3M5AI6XVYlVt1mq1U8/zTlS1CeC9j2+6o1wuz1lrVzpWXLDWTg3pz/0CQnd2Jos49xUAAAAASUVORK5CYII=",g_sites_light_ico=
"data:image/png;base64,"+g_sites_light_ico0,g_pw_light_ico="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACIUlEQVQ4EX2TOYhTURSG87IMihDsjGghBhFBmHFDHLWwSqcikk4RRKJgk0KL7C8bMpWpZtIqNkEUl1ZCgs0wOo0SxiLMDApWlgOPrH7/5b2QkYwX7jvn/uc//zl3edZ4PPbNGvF4fC4ajR5VrNvt/mo0Gr1ZPOtfgWw2e9Lv9+chX7cs64CS4Oxg3o9GI7tUKv0Q5o1dAiTfCgQCLwnOkfQOu+oSLyJ2A783HA7vIPLGxX0TgVwud4HKn0nc7Pf7N6vV6oZHkkX8FPG3uMfgXC0Wi2vCg/poUKGGcagQI3k7k8mcp5slcGswGDwpl8tfwGJg3xB6Dvey8vz6oH4C3iXcFYjbwiDeo1KafafkC3NjK7iL5ESFGQEUF7Sg+ifZdDp9GnMF/KGmfBdT2HCwZ7TwtrBPC7rQaav6Iv48rqZwg+F+p8hOMBj0IbxfMdMBrW5pAVGV/ztINByENkU0t5BIJEKRSOQ3Aj+Z57iFs1R5NK3EQS6HQqF1zmQdzpFWq3W42WwOTAf1er1PF2USFlC+qxMvFAr3HcexWX+QX6lUvsKpkTyPSEXJkw6MQ4S38Ljdbi8rmM/nY+CvgNcQqdH6U/xrYK9t244jZv6ByUOSiDdIfgBZ12U6dHEHu9TpdIr8F0OP692CtzaW/a6y3y0Wx5kbFHvGuXzkgf0xhKnPzA4UTyaTB8Ph8AvcHi3fnsrZ7Wore02YViqVOrRXXPhfqP8j6MYlawoAAAAASUVORK5CYII=",
g_ff_light_ico="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABHklEQVQ4EaVTO26DQBD1ohQWaS2lg9JybZ+AK7hNwx2oIoVf4UPQ0Lj1FdKktevIpel8AKNUkDcWMxpgSaIEaTVv3sx7uztiTdu2s/98DywOw3Dued4Who/M2aIx5lZV1aEsy0+qiwHELyi+Ytl0PQ69SxAxkWIA4RMRTdNsKE59juMcuZd6xIAFeZ6fGCdJ8kY4y7KAuTRNGd7jyEBXsdOPE3a0QGPsniOnnYMO67LgSQN9T41F2QGrQRRFCwyzoIF2qyBuKKbcOgPXdVeY9rMWgNsjf9ccYesJhk3f5dYT1HX9gR0LLQR30TnjkUEcx2uIuS4RnI+aj6sJR0AM8AaumPaM/rRehyWhXqbFAA9kh3/8/NvHxAYGAsZ/il8IalkCLBfNVAAAAABJRU5ErkJggg==",g_close_light_ico=
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA3UlEQVQ4EaVTOQ7CMBCMETShzcdo4CVOkyJykQb/AXoaPsQT0uLGRZhZxVIirSMDljberOfwaaZpqv5pe5Kttce6rs8QO5SIGWNiCOHhvX+LAMko3hAlfMGAw/6+47fUmdjUEkcEUvGXPicwwqFFxDlaiI+agSoA0tU550G4MJizpgnIJioDQ9/3LxCfHEN+QjcouEqdgQbM1XICHd3pzJhn0mki6hJwH1oQiZdpI+9YKxYAsAFhuWnLfKWTW8IKtPUjAnCLWyBtLHFkD/gweLdx1l89JgobkDSD4toHHT5aJu9+N80AAAAASUVORK5CYII=",g_svgs={},NAV_BAR_HEIGHT_CSS=42,SHOULD_DO_LOGIN_ONLY=!0,SHOULD_DO_ALWAYS=!1;
function popupfill_shoulddofield(a,b,c){var d=[];if(do_experimental_popupfill&&!(null==b||"undefined"==typeof b.type||"hidden"==b.type)&&("text"==b.type||"password"==b.type||"email"==b.type||!c&&"tel"==b.type||!c&&"url"==b.type||!c&&"textarea"==b.type)){var e=LP_pickFieldName(a,b);return lp_in_array(e,d)?(verbose_log("fieldname "+e+" is blacklisted, skipping"),!1):is_search_field(a,b,!c)||is_date_field(b)||LP_looksLikeOTPField(a,b)||LP_explicit_ignored(a,b)||LP_implicit_ignored(a,b)||LP_isCaptchaField(b)?
!1:c&&!chk_form_has_password(a,b.form)&&!checkDocumentForLoginOrphans(a)?(verbose&&(a=LP_pickFormName(a,b.form),verbose_log("form "+a+" has no password field?  Ignored")),!1):!0}return!1}var NO_CREATE=!1,OK_CREATE=!0;function parse_zindex(a){if("string"==typeof a&&-1!=a.indexOf("e")){a=""+parseFloat(a);for(var b="",c=a.length-1;0<=c&&"0"==a.charAt(c);c--)b+="9";a=a.substring(0,c+1)+b}return parseInt(a)}
function getZIndex(a,b,c,d){g_ctr_getzindex++;if(null==a||b==a.body||null==b||50<c)return null;var e=0,f=LP_getComputedStyle("undefined"!=typeof window&&window?window:a.defaultView,b);if("absolute"==f.position||"relative"==f.position||"fixed"==f.position){if("auto"==f.zIndex||""===f.zIndex)return e=getZIndex(a,b.parentNode,c+1,d+1),null==e?0:parse_zindex(e);e=getZIndex(a,b.parentNode,c+1,parse_zindex(f.zIndex));return null==e?parse_zindex(f.zIndex)+1:parse_zindex(e)+1}if("auto"==f.zIndex||""==f.zIndex)return e=
getZIndex(a,b.parentNode,c+1,d+1),null==e?d+1:parse_zindex(e)+1;e=getZIndex(a,b.parentNode,c+1,parse_zindex(f.zIndex));return null==e?parse_zindex(f.zIndex):parse_zindex(e)+1}function chk_form_changepw_new(){return!0}
function shouldOfferGenerate(a,b){if(null==a||null==b)return null;var c=!1,d=b.form,e=!1;d||(e=checkDocumentForCPWOrphans(a));var f=!0,g=!0,k=check_nevers(a,g_nevers,a.location.href);null!=k&&(f=k.show_for_generate,g=k.show_for_clickable_icon);f&&chk_form_ask_generate(a,d)&&isInputFieldPassword(a,b)&&g?((currentpw=lpCheckCurrentPWField(d))||(currentpw=lpCheckCurrentPWField(d,!0)),chk_form_changepw(a,d)&&b==lpCheckCurrentPWField(d)?(c=!1,"undefined"!=typeof g_docnum&&verbose_log("["+g_docnum+"] form="+
LP_pickFormName(a,d)+" field="+LP_pickFieldName(a,b)+" appears to be current PW field in a change password form, offergenerate=false")):chk_form_changepw_new(a,d)&&b==currentpw?(c=!1,"undefined"!=typeof g_docnum&&verbose_log("["+g_docnum+"] form="+LP_pickFormName(a,d)+" field="+LP_pickFieldName(a,b)+" appears to be current PW field in a change password form, offergenerate=false")):(c=!0,"undefined"!=typeof g_docnum&&verbose_log("["+g_docnum+"] form="+LP_pickFormName(a,d)+" field="+LP_pickFieldName(a,
b)+" setting up generate click listener on icon"))):!d&&(f&&e)&&(isInputFieldPassword(a,elt)&&!lpIsFieldCurrentPWField(b))&&(c=!0,"undefined"!=typeof g_docnum&&verbose_log("["+g_docnum+"] orphan field="+LP_pickFieldName(a,b)+" setting up generate click listener on icon"));return c}
function check_nevers(a,b,c){if(a){b={show_for_formfill:!0,show_for_save:!0,show_for_autofill:!0,show_for_generate:!0,show_for_clickable_icon:!0};if(null==g_nevers)return null;if(null==c||0>=c.length)c=a.location.href;a=lpcanonizeUrl(c);c=lpcanonizeUrl(lp_gettld_url(c));for(var d=0;d<LP_objectSize(g_nevers);d++){var e=g_nevers[d];0==e.domain&&lpcanonizeUrl(e.url)!=a||1==e.domain&&c!=lpcanonizeUrl(lp_gettld_url(e.url))||("neverformfills"==e.type?b.show_for_formfill=!1:"neveraccounts"==e.type?b.show_for_save=
!1:"neverautofills"!=e.type&&"neverautologins"!=e.type&&("nevergenerates"==e.type?b.show_for_generate=!1:"nevershowicons"==e.type&&(b.show_for_clickable_icon=!1)))}return b}}function LP_objectSize(a){var b,c=0;if(null==a||"undefined"==typeof a)return 0;if("function"!=typeof a.hasOwnProperty&&"undefined"!=typeof a.length)return a.length;for(b in a)a.hasOwnProperty(b)&&c++;return c}
function chk_form_ask_generate(a,b,c){if(null==a||(null==b||!b||!(b.tagName&&"FORM"==b.tagName.toUpperCase()))||b.elements.length>MAX_FORM_ELEMENTS_HARD)return!1;var d,e=LP_pickFormName(a,b);if(!c&&(d=formcacheget(a,e,"ask_generate"),null!=d))return g_ctr_formcache_hits++,d;g_ctr_formcache_misses++;try{var f=gettldcached(a.location.href)}catch(g){return!1}var k=d=0,m=3;c&&(m=2);g_aspx_hack&&isASPpage()&&(m=7);if("tumblr.com"==f&&(tumblr_action_btn=a.getElementById("signup_forms_submit"),null!=tumblr_action_btn)){c=
tumblr_action_btn.getElementsByTagName("SPAN");var j;for(j=0;j<c.length;j++)if(0<=c[j].className.indexOf("login_btn")&&checkIsDisplayed(a,c[j],0,f))return!1}if(!checkIsDisplayed(a,b,0,f))return verbose_log("form is not visible: cannot be signup form"),!1;c=LP_getname(b,LP_GETNAME_FAVOR_ID_OVER_NAME);if(null!=c&&(0<=c.toLowerCase().indexOf("signup")||0<=c.toLowerCase().indexOf("register"))&&-1==c.toLowerCase().indexOf("login"))return verbose_log("form "+e+" smells like a sign up form: name/classname"),
formcacheset(a,e,"ask_generate",!0),!0;var p=!1;if("undefined"!=typeof Math){c=Math.floor(1E4*Math.random());var r=j=0,p=0,q=null,n=b.elements.length;n>MAX_FORM_ELEMENTS_SOFT&&(n=MAX_FORM_ELEMENTS_SOFT);for(var s=0;s<n;s++){var v=b.elements[s];"INPUT"==v.tagName&&("password"==v.type?j++:("text"==v.type||"email"==v.type)&&r++);if("INPUT"==v.tagName&&"submit"==v.type||"BUTTON"==v.tagName)if(p++,q=v,10<p&&b.elements.length>MAX_FORM_ELEMENTS_SOFT)return!1}if(1==p&&2>=r&&0<j&&checkButtonHint(q))return verbose_log("form is not signup: prelim test failed"),
!1;r=b.elements;for(s=0;s<MAX_FORM_ELEMENTS_SOFT&&s<r.length;s++)if(v=r[s],p=!1,"FIELDSET"!=v.tagName&&valid_by_role(a,v)&&!LP_fieldIsDisabled(v)&&!LP_treat_as_hidden(v)&&("expedia.com"==f||checkIsDisplayed(a,v,0,f,c)))if(!g_use_wacky_disp||is_wacky_disp(a,v)){if("text"==v.type&&is_watermark(v.className)&&is_watermark_password(v))try{v.type="password"}catch(w){p=!0}q=LP_elt_get_text(v);if("BUTTON"==v.tagName&&"submit"==v.type&&null!=q&&0<=q.indexOf("Create")||"BUTTON"==v.tagName&&"submit"==v.type&&
null!=q&&0<=q.indexOf("Register")||"INPUT"==v.tagName&&"submit"==v.type&&null!=v.value&&0<=v.value.indexOf("Create")||"INPUT"==v.tagName&&"submit"==v.type&&null!=v.value&&0<=v.value.indexOf("Register")||"INPUT"==v.tagName&&"submit"==v.type&&null!=v.value&&0<=v.value.indexOf("Sign me up")||"INPUT"==v.tagName&&"image"==v.type&&null!=v.value&&"create"==v.value)m=2,verbose_log("form "+e+" has a signup button, loosening detection requirements");if(1<j&&LP_passwordAlt(a,v))k++;else if(q=fieldIsDoublePassword(a,
v),!b||!("form1"==b.id&&b.action&&b.action.indexOf(".aspx")&&"text"==v.type&&(q===DOUBLE_PW_VISIBLE||q===DOUBLE_SECRET_PW_VISIBLE)))if(!do_bgiconinput||!("text"==v.type&&(q===DOUBLE_TEXT_VISIBLE||q===DOUBLE_SECRET_TEXT_VISIBLE))){if("password"==v.type||p||"text"==v.type&&q===DOUBLE_TEXT_VISIBLE||"text"==v.type&&q===DOUBLE_SECRET_TEXT_VISIBLE){p=v.getAttribute("placeholder");null!=p&&0<=p.indexOf("Create your")&&(m=2);if("facebook.com"==f&&"string"==typeof v.id&&v.id.match(/^[a-z0-9]{6}_\d{1,2}_ci_password$/))continue;
else if("tdbank.com"==f&&"string"==typeof v.name&&"user"==v.name){k++;continue}if(0==d&&1<j&&passwordIsFake(v)){k++;continue}d++}else if("email"==v.type||"text"==v.type||"textarea"==v.type||"tel"==v.type||"url"==v.type)if(treat_text_as_password(v))d++;else{if(LP_isForgetField(v))continue;lpIsVisible(v,!0)&&(p=LP_pickFieldName(a,v),LP_looksLikeOTPField(a,v)?verbose_log("chk_form_ask_generate OTP field ignore on "+p):k++)}if(4<=d||100<=k)return 4<=d&&verbose_log("form "+e+" is not a signup form, too many pw fields [PW:"+
d+"/NON:"+k+"]"),100<=k&&verbose_log("form "+e+" is not a signup form, too many non-pw fields [PW:"+d+"/NON:"+k+"]"),formcacheset(a,e,"ask_generate",!1),!1;if(2<=d||1<=d&&k>=m)return 2<=d&&verbose_log("form "+e+" is a signup form, has enough pw fields [PW:"+d+"/NON:"+k+"]"),1<=d&&k>=m&&verbose_log("form "+e+" is a signup form, has enough pw fields and non-pw fields [PW:"+d+"/NON:"+k+"]"),formcacheset(a,e,"ask_generate",!0),!0}}verbose_log("form "+e+" does not smell like signup form, not enough fields [PW:"+
d+"/NON:"+k+"]");formcacheset(a,e,"ask_generate",!1);return!1}}function passwordIsFake(a){var b=/(?:Account)|(?:Member)|(?:IUO_NAME)/i,c=a.name;return b.exec(a.id)||b.exec(c)?!0:!1}function checkButtonHint(a){if(!a)return!1;var b="INPUT"==a.tagName?a.value:a.innerHTML,c=/(?:Login)|(?:Log.In)|(?:Logon)|(?:Log.on)/i;return c.exec(a.id)||c.exec(b)?!0:!1}function LP_isForgetField(a){if(!a)return!1;var b=a.name,c=/(?:Forg[oe]t)/i;return c.exec(a.id)||c.exec(b)?!0:!1}
function LP_isCaptchaField(a){if(!a)return!1;var b=a.id;a=a.name;var c=RegExp(lpgs("ff_captcha_regexp"),"i");return c.exec(b)||c.exec(a)?!0:!1}function LP_isRememberCheckbox(a){if(!a||"checkbox"!=a.type)return!1;var b=a.id;a=a.name;var c=RegExp(lpgs("ff_remember_regexp"),"i");return c.exec(b)||c.exec(a)?!0:!1}
function chk_form_is_nonlogin_form(a,b){if(null==a||null==b||!b||!(b.tagName&&"FORM"==b.tagName.toUpperCase()))return!1;if(b.elements.length>MAX_FORM_ELEMENTS_HARD)return!0;try{var c=gettldcached(a.location.href)}catch(d){return!1}var e=LP_pickFormName(a,b),f=formcacheget(a,e,"is_nonlogin");if(null!=f)return g_ctr_formcache_hits++,f;g_ctr_formcache_misses++;if(is_search_form(a,b))return verbose_log("form "+e+" appears to be a search form based on name/action, do not try to fill"),formcacheset(a,e,
"is_nonlogin",!1),!1;if(!checkIsDisplayed(a,b,0,c))return verbose_log("form is not visible: cannot be non-login form"),!1;var f=c=0,g=b.elements,k=g.length;k>MAX_INPUTS_HARD&&(k=MAX_INPUTS_HARD);for(var m=0;m<k;m++){var j=g[m];if("FIELDSET"!=j.tagName&&("email"==j.type||"text"==j.type||"password"==j.type)&&!LP_fieldIsDisabled(j)){if(100<++f)return formcacheset(a,e,"is_nonlogin",!1),!1;if(!0!=j.disabled&&valid_by_role(a,j)&&lpIsVisible(j)&&!LP_treat_as_hidden(j)){if(is_search_field(a,j,!0)&&8>g.length)return verbose_log("form "+
e+" appears to be a search form based on name/classname, do not try to fill"),formcacheset(a,e,"is_nonlogin",!1),!1;c++;if(3<=c)return verbose_log("form "+e+" appears to be a non-login form"),formcacheset(a,e,"is_nonlogin",!0),!0}}}formcacheset(a,e,"is_nonlogin",!1);return!1}
function formcacheset(a,b,c,d){if(null==a||null==b||null==c||0===b.length||0===c.length||null==d||"FF"==b||"none"==b)return null;"undefined"==typeof a.g_form_attr_cache&&(a.g_form_attr_cache=[]);null==a.g_form_attr_cache[b]&&(a.g_form_attr_cache[b]={});a.g_form_attr_cache[b][c]=d;return!0}
function formcacheget(a,b,c){return null==a||(null==b||null==c||0===b.length||0===c.length)||"undefined"!=typeof g_isdebug&&g_isdebug&&g_ignore_lp_cache||("FF"==b||"none"==b)||"undefined"==typeof a.g_form_attr_cache?null:null!=a.g_form_attr_cache[b]&&null!=a.g_form_attr_cache[b][c]?a.g_form_attr_cache[b][c]:null}function formcachereset(a){null!=a&&(a.g_form_attr_cache=[]);return!0}
function onresize_handler(a){a="undefined"!=typeof document?document:a.target.document;var b=a.getElementsByTagName("body")[0];a.g_posbodyrect_cache=b.getBoundingClientRect();var c="undefined"!=typeof window&&window?window:a.defaultView;a.g_posbodystyle_cache=c&&"undefined"!=typeof c.getComputedStyle?c.getComputedStyle(b,null):b.currentStyle;popupfill_resize(a);return!1}
function checkIsDisplayed(a,b,c,d,e,f){if(do_bgiconinput&&!f||b==a.body||null==b||50<c)return!0;if(null==d)try{d=gettldcached(a.location.href)}catch(g){return!1}c="undefined"!=typeof window&&window?window:a.defaultView;for(e=b;e&&e!=a.body;)try{var k=LP_getComputedStyle(c,e);if(null!=k&&"none"!=k.display&&"hidden"!=k.visibility&&(null==e.offsetHeight||""===e.offsetHeight||1<e.offsetHeight||"hidden"!=k.overflow)&&!("expedia.com"==d&&"-1px"==k.marginTop&&1==e.offsetHeight)&&!("dropbox.com"==d&&"register-partial-container"==
b.id&&50>e.offsetHeight))e=e.parentNode;else return!1}catch(m){break}return!0}function countInputs(a,b,c){var d=0,e=0,f=a.getElementsByTagName("INPUT");if("undefined"!=typeof Math){for(var g=0;g<f.length;g++){if(100<g){b||(d+=f.length-g);break}var k="password"==f[g].type;if(!b||k)"checkbox"==f[g].type||"hidden"==f[g].type||(k&&e++,d++)}c&&(a.g_password_cnt=e);return d}}
function LP_getAbsolutePos(a,b,c){"undefined"!==g_ctr_getAbsPos&&g_ctr_getAbsPos++;if(!a||!b)return null;if("undefined"==typeof c||null==c)c=!1;var d=null;try{d=typeof b.getBoundingClientRect}catch(e){d=null}if(!d||"undefined"==d)return null;try{var f=b.getBoundingClientRect(),g,k;g="undefined"==typeof f.width?f.right-f.left:f.width;k="undefined"==typeof f.height?f.bottom-f.top:f.height;var m=LP_get_cached_body_rect(a),d=b=0,j=LP_get_cached_body_style(a);g_bodystyle_relative&&(m&&j&&"relative"==j.position)&&
(b=m.left,d=m.top);var p=j=0;if(!c){var r="undefined"!=typeof window&&window?window:a.defaultView;if("pageXOffset"in r)var q=r.pageXOffset,n=r.pageYOffset;else{var s;c=1;"undefined"!=typeof g_isie&&g_isie&&"undefined"!=typeof a.querySelector&&"undefined"==typeof a.addEventListener?s=1:(m&&(c=Math.round(100*((m.right-m.left)/a.body.offsetWidth))/100),s=c);q=Math.round(a.documentElement.scrollLeft/s);n=Math.round(a.documentElement.scrollTop/s)}j=q;p=n}return{left:f.left+j-b,top:f.top+p-d,width:g,height:k}}catch(v){return null}}
function createPopupFill(a,b){LPpop.set_icon_hint_from_data(a,b)}
function LP_measureText(a,b,c,d,e){g_ctr_LP_measureText++;var f=LP_measureTextCacheGet(a,b,d);if(null!=f)return g_ctr_LP_measureText_cachehits++,f;g_ctr_LP_measureText_cachemisses++;var f=a.createElement("span"),g=null;if(null==d&&null==c)return g;null==e&&(e=a.body);null==e&&(e=a.getElementById("hiddenel"));e&&(e.appendChild(f),null!=d&&(f.style.cssText=d),null!=c&&(f.style.fontSize=""+c+"px"),f.style.position="absolute",f.style.left="-1000px",f.style.top="-1000px",f.innerHTML=b,g={width:f.clientWidth,
height:f.clientHeight},LP_measureTextCacheSet(a,b,d,g),e.removeChild(f));return g}function getAutoFillArray(a,b,c){var d=[];a=punycode.URLToASCII(a.location.href);lpcanonizeUrl(a);for(var e in b)if(!b[e].genpw||c)d[e]=b[e];return d}
function is_your_popup_showing(a){if(null==a)return!1;var b=!1;try{if(null==a.location){verbose_log("is_your_popup_showing given a firefox zombie document?");var c="undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument;closepopupfills(c);b=!0}}catch(d){b=!0}if(b)return!1;g_isfirefox&&verbose_log("entered is_your_popup_showing for doc="+a.location.href);if(g_create_iframe_in_top&&!g_isie&&!g_isfirefox&&LP_inIframe(window))return toplevel_iframe_state_get();
if(0<a.location.href.indexOf("popupfilltab.xul"))return!0;a=a.getElementsByTagName("iframe");for(b=0;b<a.length;b++)if(("function"!=typeof a.hasOwnProperty||a.hasOwnProperty(b))&&0==a[b].id.indexOf(LPMAGICIFRAME))return!0;return!1}
function dosavesiteicon(a){a=a?1:0;var b=[""],c=null!=g_popupfill_parent_last?g_popupfill_parent_last.form:null;null==c&null==g_popupfill_parent_last&&(c=null!=g_popupfill_parent?g_popupfill_parent.form:null);verbose_log("["+g_docnum+"]: current input form is "+c);if(null==c)g_isfirefox?LP.lpOpenEditWindow(0,!1,!1,null,!0):(verbose_log("["+g_docnum+"]: looking for orphaned INPUT elements"),c=LP_get_form_save_orphans(b,!0),b={url:punycode.URLToASCII(document.location.href),formdata2:c},sendBG({cmd:"savethesite",
notificationdata:b,iframe:a}));else{for(var d=c.elements,e=0,f=0,g=0,k=0;k<d.length;k++)if("FIELDSET"!=d.tagName){var m=d[k].type;"password"==m?f++:"text"==m||"tel"==m||"email"==m?e++:"textarea"==m&&g++}if(1==e&&1==f&&0==g)if(g_isfirefox)LP.lpOpenEditWindow(0);else{c=LP_get_form_save(c,!1,[],!0);if(!c||0==c.length)c+=LP_get_form_save_orphans(b,!0);b={url:punycode.URLToASCII(document.location.href),formdata2:c};sendBG({cmd:"savethesite",notificationdata:b,iframe:a})}else g_isfirefox?LP.lpOpenEditWindow(0,
!1,!1,null,!0):(c=LP_get_form_save(c,!1,[],!0),d=!1,c&&0<c.length&&(d=!0),c+=LP_get_form_save_orphans(b,!0,d),b={url:punycode.URLToASCII(document.location.href),formdata2:c},sendBG({cmd:"savethesite",notificationdata:b,iframe:a}))}}
function lp_url_is_lastpass(a){if(null==a)return!1;var b="https://lastpass.com/";"undefined"!=typeof base_url&&(b=base_url);return 0==a.indexOf(b)||0==a.indexOf("https://lastpass.com/")||0==a.indexOf("https://lastpass.eu/")?!0:"undefined"!=typeof g_loosebasematching?(a=lp_gettld_url(a),RegExp(a+"/$").test(base_url)):!1}
function setupIcons(a,b){a||(a=g_isfirefox&&LP?LP.getBrowser().contentDocument:document);if(!a)return!1;if("undefined"!=typeof g_cpwbot&&g_cpwbot&&"undefined"!=typeof g_in_cpwbot&&g_in_cpwbot)return verbose_log("Change in Progress, skipping setupIcons"),!1;if(do_experimental_popupfill){if("undefined"!=typeof g_isie&&g_isie)if(init_LPfn()&&LPfn)LPfn.ie_reset_popupfillhint(),LPfn.ie_setup_event_handlers(a);else return verbose_log("Danger, Will Robinson"),!1;if(g_isfirefox&&LP&&20>LP.lp_getFFVersionFloat())return!1;
"undefined"!=typeof g_isfirefox&&g_isfirefox?(a.g_input_cnt=countInputs(a,!1,!0),a.g_form_cnt=countFormEquivalents(a),a.g_did_setupInputObserver=!1):(g_input_cnt=countInputs(a),g_form_cnt=countFormEquivalents(a),validate_input_indexes(a));var c="undefined"!=typeof g_isloggedin?g_isloggedin:lploggedin,d=!1;if(g_dologin_clickable||!g_dologin_clickable&&c)d=!0;try{var e;e="undefined"!=typeof punycode?punycode.URLToASCII(a.location.href):a.location.href;if(lp_url_is_lastpass(e)||LP_should_ignore_this_doc(a))return!1}catch(f){return!1}if(d&&
(b||checkForLoginForm(a)||checkDocumentForLoginOrphans(a)||checkForNonLoginForm(a)||checkForSignupForm(a)||checkDocumentForCPWOrphans(a)||checkDocumentForLoginFirstStageForm(a)||checkDocumentForLoginOrphansFirstStage(a)))c=gettldcached(a.location.href),g_isfirefox||"undefined"!=typeof g_isie&&g_isie||sendBG({cmd:"getpopupfillsites",tld:c,url:e}),g_do_icon_number_hint&&(g_icon_number_overrides={sites:-1,formfills:-1}),("undefined"!=typeof window&&window?window:a.defaultView).setTimeout(function(){doc_create_clickable_icons(a,
"",SHOULD_DO_ALWAYS,b)},50)}"function"==typeof setupInputObserver&&setupInputObserver(a);!g_isfirefox&&!g_isie&&g_create_iframe_in_top&&(g_inframe=LP_inIframe(window));return!0}function checkForLoginForm(a){if(!a)return!1;try{gettldcached(a.location.href)}catch(b){return!1}var c=MAX_FORMS_SOFT;LP_exceedFormsThreshold(a)||(c=MAX_FORMS_HARD);for(var d=a.getElementsByTagName("form"),e=!1,f=0;f<d.length&&f<c;f++){e=chk_form_has_password(a,d[f],!0);if(null==e)break;if(e)return e}return!1}
function checkForNonLoginForm(a){if(!a)return!1;try{gettldcached(a.location.href)}catch(b){return!1}var c=MAX_FORMS_SOFT;LP_exceedFormsThreshold(a)||(c=MAX_FORMS_HARD);for(var d=a.getElementsByTagName("form"),e=!1,f=0;f<d.length&&f<c;f++)if(e=chk_form_is_nonlogin_form(a,d[f]))return e;return!1}
function checkForSignupForm(a){if(!a)return!1;var b=MAX_FORMS_SOFT;LP_exceedFormsThreshold(a)||(b=MAX_FORMS_HARD);for(var c=a.getElementsByTagName("form"),d=!1,e=0;e<c.length&&e<b;e++)if(d=chk_form_ask_generate(a,c[e]))return d;return!1}
function chk_form_has_password(a,b,c){if(null==a||(null==b||!b||!(b.tagName&&"FORM"==b.tagName.toUpperCase()))||b.elements.length>MAX_FORM_ELEMENTS_HARD)return!1;var d=LP_pickFormName(a,b),e=formcacheget(a,d,"is_login");if(null!=e)return g_ctr_formcache_hits++,e;g_ctr_formcache_misses++;try{var f=gettldcached(a.location.href)}catch(g){return!1}for(var k=!1,m=e=0,j=0,p=null,r=0;r<MAX_FORM_ELEMENTS_SOFT&&r<b.elements.length;r++){var q=b.elements[r];"INPUT"==q.tagName&&("password"==q.type?e++:("text"==
q.type||"email"==q.type)&&m++);if("INPUT"==q.tagName&&"submit"==q.type||"BUTTON"==q.tagName)j++,p=q}if(1==j&&2>=m&&0<e&&checkButtonHint(p))return!0;var j=m=0,p=!lpIsVisible(b),n=!1;b=b.elements;for(r=0;r<MAX_FORM_ELEMENTS_SOFT&&r<b.length;r++)if(q=b[r],k=!1,"FIELDSET"!=q.tagName&&(check_for_ASP(a,q),valid_by_role(a,q)&&!LP_fieldIsDisabled(q)&&!LP_treat_as_hidden(q))){if("text"==q.type&&is_watermark(q.className)&&is_watermark_password(q))try{q.type="password",lpdbg("onload","switching field from text to password from chk_form_has_password")}catch(s){k=
!0}ASP_treat_text_as_password(q)&&(k=!0);if(1<e&&LP_passwordAlt(a,q))j++;else{var v=fieldIsDoublePassword(a,q);if(!("text"==q.type&&(v===DOUBLE_PW_VISIBLE||v===DOUBLE_SECRET_PW_VISIBLE)))if("password"==q.type||k||"text"==q.type&&v===DOUBLE_TEXT_VISIBLE||"text"==q.type&&v===DOUBLE_SECRET_TEXT_VISIBLE){if(!("facebook.com"==f&&"string"==typeof q.id&&q.id.match(/^[a-z0-9]{6}_\d{1,2}_ci_password$/)))if("tdbank.com"==f&&"string"==typeof q.name&&"user"==q.name)j++;else{if(g_fillaid&&c)return!0;if(g_aspx_hack&&
isASPpage()&&do_bgiconinput)verbose_log("ASP/bgicon login");else if(!lpIsVisible(q)||g_use_wacky_disp&&!is_wacky_disp(a,q))if(n=!0,p)verbose_log("EVALUATING HIDDEN FORM, NOT IGNORING HIDDEN FIELD ANYMORE "+LP_pickFormName(a,q));else continue;if(0==m&&1<e&&passwordIsFake(q))j++;else if(q=2,k="",g_aspx_hack&&(isASPpage()&&do_bgiconinput)&&(q=4,k=" [ASP]"),++m>=q)return formcacheset(a,d,"is_login",!1),verbose_log("Password Form detection: "+d+k+" has too many password fields; do not treat as login form [PW:"+
m+"/NON:"+j+"]"),null}}else if("email"==q.type||"text"==q.type||"textarea"==q.type||"tel"==q.type||"url"==q.type){if(!lpIsVisible(q)||g_use_wacky_disp&&!is_wacky_disp(a,q))if(p)verbose_log("EVALUATING HIDDEN FORM, NOT IGNORING HIDDEN FIELD ANYMORE "+LP_pickFormName(a,q));else continue;j++;if(g_aspx_hack&&5<j||!g_aspx_hack&&2<j)return formcacheset(a,d,"is_login",!1),verbose_log("Password Form detection: "+d+" has too many non-password fields; do not treat as login form [PW:"+m+"/NON:"+j+"]"),null}}}if(1==
m)return verbose_log("Password Form detection: "+d+" is a login form, has only one passwd field"),formcacheset(a,d,"is_login",!0),!0;if(g_aspx_hack&&(isASPpage()&&do_bgiconinput)&&1<m)return verbose_log("Password Form detection: "+d+" is an ASP form, treat as login form"),formcacheset(a,d,"is_login",!0),!0;n||formcacheset(a,d,"is_login",!1);return!1}
function LP_getElementByIdOrName(a,b,c){"document"==a&&(a=document);if(null==a||null==b||0==b.length||"undefined"==typeof a.getElementsByTagName)return null;c=c?c.toUpperCase():"INPUT";c.toLowerCase();for(var d=LP_getAllInputsByIdOrName(a,b,!0),e=[],f=0;f<d.length;f++)e[e.length]=d[f];var f=e.length,g=a.getElementById(b);if(null!=g){if(0==f||1==f&&(d[0]==g||null==d[0]))return g;e[e.length]=g}if(LP_name_is_inputidx(a,b)&&(b=LP_getinputidx_from_name(a,b),null!==b&&(g=LP_getElementByIdx(a,b),null!=g)))return g;
if(1==f)return e[0];if(0==f)return null;b=[];d=0;f=-1;if("undefined"!=typeof Math){for(var g=Math.floor(1E4*Math.random()),k=0;k<e.length;k++)b[k]=0,e[k].tagName.toUpperCase()==c&&(b[k]+=20,e[k]&&(e[k].tagName&&"INPUT"==e[k].tagName.toUpperCase())&&"hidden"!=e[k].type&&(b[k]+=10)),null!=e[k].style&&"none"!=e[k].style.display&&checkIsDisplayed(a,e[k],0,null,g,!0)&&(b[k]+=5),do_bgiconinput&&(e[k]&&(e[k].tagName&&"INPUT"==e[k].tagName.toUpperCase())&&inputHasLPBackground(e[k]))&&(b[k]+=7),null!=e[k].style&&
"hidden"!=e[k].style.visibility&&(b[k]+=3),e[k]==g_popupfill_parent&&null!=g_popupfill_parent?b[k]+=5:e[k]==a.g_popupfill_parent&&null!=a.g_popupfill_parent&&(b[k]+=5),b[k]>d&&(d=b[k],f=k);return 0<=f?e[f]:null}}
function LP_getAllInputsByIdOrName(a,b,c){if(null==a||null==b||0==b.length||"undefined"==typeof a.getElementsByTagName)return null;var d=!0;null!==c&&(d=c);var e=a.getElementsByName(b);c=[];for(var f=0;f<e.length;f++)c[c.length]=e[f];if(d){a=a.getElementsByTagName("input");e=a.length;e>MAX_INPUTS_SOFT&&(e=MAX_INPUTS_SOFT);for(d=0;d<e;d++)a[d].id==b&&c.push(a[d])}else(b=LP_getElementByIdOrName(a,b))&&c.push(b);return c}function looksLikePassword(a,b){return isInputFieldPassword(a,b)}
function isInputFieldPassword(a,b){if(null==a||null==b||"INPUT"!=b.tagName||"hidden"==b.type)return!1;try{var c=gettldcached(a.location.href)}catch(d){return!1}if(!valid_by_role(a,b))return!1;var e=!1;if("text"==b.type&&is_watermark(b.className)&&is_watermark_password(b))try{b.type="password"}catch(f){e=!0}if("text"==b.type&&(0==b.name.indexOf("pass")||0==b.name.toLowerCase().indexOf(lpgs("Password").toLowerCase())))return!0;g_aspx_hack&&isASPpage()&&do_bgiconinput&&"text"==b.type&&0<=b.value.toLowerCase().indexOf(lpgs("Password").toLowerCase())&&
(e=!0);return"password"==b.type||e?"facebook.com"==c&&"string"==typeof b.id&&b.id.match(/^[a-z0-9]{6}_\d{1,2}_ci_password$/)||"tdbank.com"==c&&"string"==typeof b.name&&"user"==b.name?!1:!0:!1}
function isEmptyObject(a){if("undefined"==typeof Object.keys){var b=Object,c=Object.prototype.hasOwnProperty,d=!{toString:null}.propertyIsEnumerable("toString"),e="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),f=e.length;b.keys=function(a){if("object"!==typeof a&&("function"!==typeof a||null===a))throw new TypeError("Object.keys called on non-object");var b=[],m;for(m in a)c.call(a,m)&&b.push(m);if(d)for(m=0;m<f;m++)c.call(a,e[m])&&b.push(e[m]);
return b}}return 0===Object.keys(a).length}function LP_getname(a,b){if("undefined"!=typeof a&&null!=a){if(b&&"string"==typeof a.id&&""!=a.id)return a.id;if("string"==typeof a.name&&""!=a.name)return a.name;if("string"==typeof a.id)return a.id}return""}
function LP_getWindowWidth(a){g_ctr_getWW++;if(!a)return 0;var b=a.innerWidth,c=a.document;if(!c)return 0;a=null;"undefined"!=typeof c.body?a=c.body:c.getElementById("main")&&(a=c.getElementById("main"));var d=c.getElementById("_lpinvis");null==d&&(d=c.createElement("div"),d.id.left="_lpinvis",d.style.left="0px",d.style.right="0px",d.style.top="0px",d.style.height="0px",d.style.visibility="hidden",a.appendChild(d));var e=LP_getComputedStyle("undefined"!=typeof window&&window?window:c.defaultView,
a);if(!e)return 0;c=parseInt(e.marginLeft);e=parseInt(e.marginRight);0<d.offsetWidth&&(b=0<c||0<e?d.offsetWidth+e+c:d.offsetWidth);a.removeChild(d);return b}
function checkDocumentForLoginOrphans(a){if(!a)return!1;var b=formcacheget(a,"fakedoc","orphan");if(null!=b)return g_ctr_formcache_hits++,b;g_ctr_formcache_misses++;var b=[],c=[],d=[],e=0,f,g=0;if("undefined"!=typeof Math){for(var k=Math.floor(1E4*Math.random()),m=["input"],j=0;j<m.length;j++)for(var p=a.getElementsByTagName(m[j]),r=0;r<p.length&&!(100<r);r++)if(checkIsDisplayed(a,p[r],0,null,k)){f=p[r];if(null!=f.id&&""!=f.id){var q=d[f.id];if(null==q)d[f.id]=!0;else continue}if(null!=f.name&&""!=
f.name)if(q=c[f.name],null==q)c[f.name]=!0;else continue;if(lp_in_array(LP_pickFieldName(a,f),b))verbose_log("fieldname "+b[q]+" is blacklisted, skipping");else{var n=fieldIsDoublePassword(a,f);if(null==f.form&&("password"==f.type||"text"==f.type&&n===DOUBLE_TEXT_VISIBLE||"text"==f.type&&n===DOUBLE_SECRET_TEXT_VISIBLE))if(e++,(f=LP_pickFieldName(a,f))&&f.toLowerCase().indexOf(lpgs("Password"))&&0<r)f=LP_pickFieldName(a,p[r-1]),RegExp(lpgs("ff_username_regexp"),"i").exec(f)&&g++;if(2<=e&&2<=g)break}}if(1<=
e||1==g)return formcacheset(a,"fakedoc","orphan",!0),!0;formcacheset(a,"fakedoc","orphan",!1);return!1}}
function do_icon_mouseover(a,b,c){if(null==a||null==b)return!1;var d=a.getElementById(b+"_icon");if(g_use_grey_icons&&is_your_popup_showing(a))return null!=d&&(d.style.opacity="1",d.style.filter="alpha(opacity=100)"),!1;if(null!=d){var e=!0;if(null!=a.getElementById(b)){var f=!1;c=LP_pickFieldName(a,c);if(c=getIconState(a,c))f=c.fillhint;"formfills"==f?(d.src=ff_svg,d.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+g_ff_ico+"';"),e=!1):"offersave"==f?e=!1:"generate"==f&&g_use_grey_icons&&
(d.src=pw_svg,d.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+g_pw_ico+"';"),e=!1)}e&&(d.src=sites_svg,d.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+g_sites_ico+"';"));d.style.opacity="1";d.style.filter="alpha(opacity=100)"}g_do_icon_number_hint&&(a=a.getElementById(b+"_numspan"),null!=a&&g_icon_shading&&(a.style.backgroundColor="#CCFF99"))}
function do_icon_mouseout(a,b,c){if(null==a||null==b)return!1;var d=a.getElementById(b+"_icon");if(g_use_grey_icons&&is_your_popup_showing(a))return null!=d&&(d.style.opacity="0.6"),!1;if(null!=d){if(null==a.getElementById(b))return!1;var e=!1;c=LP_pickFieldName(a,c);if(c=getIconState(a,c))e=c.fillhint;if(null==e||""===e||"sites"!==e&&"formfills"!==e&&"generate"!==e&&"offersave"!==e)e="default";"default"==e||"sites"==e?(d.src=sites_svg,d.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+
g_sites_ico+"';"),d.style.opacity="0.6",d.style.filter="alpha(opacity=60)"):"formfills"==e?(d.src=ff_svg,d.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+g_ff_ico+"';"),d.style.opacity="0.6",d.style.filter="alpha(opacity=60)"):"generate"==e&&(d.src=pw_svg,d.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+g_pw_ico+"';"),d.style.opacity="0.6",d.style.filter="alpha(opacity=60)")}g_do_icon_number_hint&&(a=a.getElementById(b+"_numspan"),null!=a&&(g_icon_shading?
a.style.backgroundColor="#FFFFFF":a.style.display=""))}
function do_icon_number_hint(a,b,c){if("undefined"!=typeof g_icon_number_overrides){g_icon_number_overrides.sites=null==a||"undefined"!=typeof parseInt&&0>parseInt(a)||"undefined"==typeof parseInt&&0>a?-1:a;g_icon_number_overrides.formfills=null==b||"undefined"!=typeof parseInt&&0>parseInt(b)||"undefined"==typeof parseInt&&0>b?-1:b;if(do_bgiconinput){if(!c&&(c=LP_derive_doc(),!c))return;refresh_input_all_icon_bg(c)}g_isfirefox&&(LP&&"undefined"!=typeof g_icon_number_in_toolbar&&g_icon_number_in_toolbar)&&
LP.lp_handle_buttons_all("refresh")}}
function do_save_site_success_msg(a){a||(a=document,!a&&LP&&(a=LP.getBrowser().contentDocument));if(a){if(g_show_save_success_msg){var b=a.createElement("div");b.id="__lpsavemsgdiv";var c=LP_getWindowWidth(window);if(!c)return!1;c=c-parseInt("210px")-30+"px";LP_elt_set_text(b,lpgs("You have saved your password to your LastPass Vault."));b.style.cssText="position:absolute !important; visibility:visible !important; z-index:"+CLICKABLE_ICON_ZINDEX+" !important; border-style:solid !important; border-width:1px !important; border-color:#4c4c4c !important; font-size:14px; font-family: Arial,Helvetica,sans-serif; width: 210px !important; top:25px !important; left:"+c+
" !important; background-color: #e6e6e6; margin: 4px !important; border-radius: 4px; padding: 5px 5px 5px 15px !important; background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAMAAABhq6zVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3BpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMi1jMDAxIDYzLjEzOTQzOSwgMjAxMC8xMC8xMi0wODo0NTozMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpDQ0JFNTgxNzA4MjA2ODExOTJCMEZBNzdDQkU2Qjg4RiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1RTA4N0Y4OEZCQUYxMUUyOTAyNEMwRUQyN0ZDRTk1QyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1RTA4N0Y4N0ZCQUYxMUUyOTAyNEMwRUQyN0ZDRTk1QyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgRWxlbWVudHMgMTEuMCBNYWNpbnRvc2giPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyMEEzMzFENkUxMjA2ODExOTJCMEZBNzdDQkU2Qjg4RiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDQ0JFNTgxNzA4MjA2ODExOTJCMEZBNzdDQkU2Qjg4RiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqEZ7U4AAAAwUExURfL6+uHMzaoWLIoDFKVJJ2oEFsQaK7cCHMtfaNWrEcFJOsg2PsqnqdWGi584RAAAAIK7gZ4AAAAQdFJOU////////////////////wDgI10ZAAAAWUlEQVR42jzMUQ4AMQQEUKpoFnX/2+403exEZN4H1DHsZjQ9/kcOgsN4fVhURXVhxkRsBkxnPmCOg8xEzRyAuAOJEwVk0cIPAbbIriG5D6Zi31Fq/dOvAAMADDMDTO9yI2MAAAAASUVORK5CYII=); background-repeat:no-repeat; background-position: left top;background-attachment: scroll;";
"undefined"!=typeof a.body?a.body.appendChild(b):a.getElementById("main")&&a.getElementById("main").appendChild(b);setTimeout(function(){destroy_save_site_success_msg(a,b.id,0);return!1},1500)}return!1}}
function destroy_save_site_success_msg(a,b,c){var d=a.getElementById(b);if(null!=d){if(null===c)return d.parentNode.removeChild(d),!1;c<FADE_MAXSTATES?("undefined"!=typeof d.style.opacity?d.style.opacity=(100-100/FADE_MAXSTATES*(c+1))/100:d.style.filter="alpha(opacity="+(100-20*(c+1))+")",c++,setTimeout(function(){destroy_save_site_success_msg(a,d.id,c);return!1},10)):d.parentNode.removeChild(d)}return!1}
function closepopupfills(a){if(do_experimental_popupfill&&(a||(a=document),null!=a)){"undefined"!=typeof g_popup_iframe_doc&&(g_popup_iframe_doc=null);g_create_iframe_in_top&&!g_isie&&!g_isfirefox&&LP_inIframe(window)&&toplevel_iframe_state_get()&&sendBG({cmd:"closepopuptoplevel"});var b,c=a.getElementsByTagName("iframe"),d=[];for(b=0;b<c.length;b++)d[b]=c[b];for(b=0;b<c.length;b++){var e=d[b];if("undefined"!=typeof e.id&&null!=e.id){var f=LPMAGICIFRAME;0==e.id.indexOf(f)&&(g_use_grey_icons&&(f=e.id.substr(f.length),
null!=LP_getElementByIdOrName(a,f)&&revert_clickable_icon(a,f)),verbose_log("deleting iframe named "+e.id),e.parentNode&&e.parentNode.removeChild(e))}}do_icon_number_hint(-1,-1,a);if(g_double_password_hack||g_double_secret_password_hack)if(g_double_secret_password_hack=g_double_password_hack=!1,g_input_cnt=0,g_isfirefox){for(a=LP.getBrowser().contentWindow;null!=a.top&&a.top!=a;)a=a.top;a=lpGetBrowserForDocument(a.document);verbose_log("checkShouldRecheck post closepopup");LP.checkShouldRecheck(a)}else g_double_password_wtf?
(g_form_cnt=g_input_cnt=0,checkShouldRecheck()):(formcachereset(a),fieldcachereset(a),setupIcons(a));g_popupfill_parent_last=g_popupfill_parent;g_popupfill_parent=null;g_minheight_override=g_minwidth_override=g_popupfill_iframe_height_save=g_popupfill_iframe_width_save=g_popupfill_ctr=0;"undefined"!=typeof g_isie&&g_isie&&"undefined"!=typeof init_LPfn&&(init_LPfn()&&LPfn)&&LPfn.ie_set_kbdnav(!1)}}
function popupfill_resize(a){do_experimental_popupfill&&(a||(a=document?document:LP.getBrowser().contentDocument),null==a&&"undefined"!=typeof g_isfirefox&&g_isfirefox?end_weasel():0<a.location.href.indexOf(".xul")||(relocate_popupfill_clickables(a),relocate_popupfill_iframes(a),!1==g_weaseled&&weasel(100),g_weaseled=!0))}var MSGDIVID="__lpsuggestmsgdiv";function do_save_suggest_msg(a,b){if(null!=b&&!do_bgiconinput)return!1}function destroy_save_suggest_msg(){return!1}
function LP_measureTextCacheSet(a,b,c,d){if(null==a||null==b||null==c||0===b.length||0===c.length||null==d)return null;"undefined"==typeof a.g_LP_measureText_cache&&(a.g_LP_measureText_cache=[]);null==a.g_LP_measureText_cache[c]&&(a.g_LP_measureText_cache[c]={});a.g_LP_measureText_cache[c][b]=d;return!0}
function LP_measureTextCacheGet(a,b,c){return null==a||(null==b||null==c||0===b.length||0===c.length)||"undefined"==typeof a.g_LP_measureText_cache?null:null!=a.g_LP_measureText_cache[c]&&null!=a.g_LP_measureText_cache[c][b]?a.g_LP_measureText_cache[c][b]:null}
function chk_form_changepw(a,b){if(null==a||null==b)return!1;for(var c=lpCheckCurrentPWField(b),d=!1,e=null,f=null,g=1;2>=g;g++){var d=!1,e=f=null,k=-1;if(1==g){if(c)for(var m=0;m<b.elements.length;m++)if(b.elements[m]==c){k=m+1;break}}else k=0;if(-1!=k){for(m=k;m<b.elements.length;m++)if(k=b.elements[m],"FIELDSET"!=k.tagName)if(isInputFieldPassword(a,k)){if(d||!e||!f)if(f=e,e=k,d&&e&&f)break;d=!0}else d=!1;if(e&&f)break}}return null!=e&&null!=f&&null!=c?!0:!1}
function change_clickable_icon_to_cancel(a,b){if(null!=a&&g_use_grey_icons){var c=a.getElementById(b+"_icon");if(null!=c){if(null==a.getElementById(b))return!1;c.src=close_svg;c.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+g_close_ico+"';");c.style.opacity="0.6";c.style.filter="alpha(opacity=60)"}}}
function revert_clickable_icon(a,b){verbose_log("entered revert_clickable_icon");if(null!=a&&g_use_grey_icons){var c=LP_getElementByIdOrName(a,b),d=getIconState(a,b),e=!1,f="sites";d&&"undefined"!=typeof d.dofloater&&(e=d.dofloater);d&&"undefined"!=typeof d.fillhint&&(f=d.fillhint);verbose_log("entered BG image revert");c?e?reset_floating_icon(a,c,f):set_input_icon_image(a,c,f):verbose_log("could not find field named "+field_id)}}
function visual_cue_frag(a,b){var c="";if(null===a||0>=a.length)return c;popup_show_menu_expand_visual_cue&&(c="",g_visual_cue_on_hover&&(c=" style='display:none;'"),c="<span id='"+a+lp_ofa(b)+"' expander='true' class='expander' "+c+"><img id='"+a+"img"+lp_ofa(b)+"' src='arrow.png' />  </span>\n");return c}
function conditional_create_popup(a,b,c){if(null==a||null==b||!g_clickable_input)return!1;if(!("undefined"!=typeof g_isloggedin?g_isloggedin:lploggedin))return!0;var d=b.form,e=form_get_username(a,d),f=form_get_password(a,d);null==d&&checkDocumentForLoginOrphans(a)&&(e=doc_get_orphan_username(a),f=doc_get_orphan_password(a));if(!(null==e||null==f)){var g=checkDocumentForLoginOrphans(a)||chk_form_has_password(a,d),k=chk_form_is_nonlogin_form(a,d),d=chk_form_ask_generate(a,d),m=LPMAGIC+LP_pickFieldName(a,
b),m=a.getElementById(m);if("undefined"!=typeof e.value&&0<e.value.length&&"undefined"!=typeof f.value&&0<f.value.length&&(g||d)&&!k){if(null!=m)return g_popup_active_username=e,g_popup_active_password=f,popuptoggle(a,null,LP_pickFieldName(a,b),NO_FORCE_GENERATE,c),!0}else if(k||d)if(isInputFieldPassword(a,b))d&&g_aspx_hack&&isASPpage()&&!isContigPW(a,b.form,b)?null!=m&&(g_popup_active_username=e,g_popup_active_password=f,popuptoggle(a,null,LP_pickFieldName(a,b),NO_FORCE_GENERATE,FORCE_SHOW_NOHITS)):
null!=m&&(g_popup_active_username=e,g_popup_active_password=f,popuptoggle(a,null,LP_pickFieldName(a,b),FORCE_OFFER_GENERATE,FORCE_SHOW_NOHITS));else if(looksLikeUsername(b)||looksLikeEmail(a,b))g_popup_active_username=e,g_popup_active_password=f,popuptoggle(a,null,LP_pickFieldName(a,b),NO_FORCE_GENERATE,FORCE_SHOW_NOHITS)}return!1}
function form_get_password(a,b){if(null==a||null==b)return null;g_ctr_form_get_password_N++;var c=b.elements;if("undefined"!=typeof Math){for(var d=Math.floor(1E4*Math.random()),e=0;e<c.length;e++){var f=c[e];if("FIELDSET"!=f.tagName&&checkIsDisplayed(a,f,0,null,d)&&isInputFieldPassword(a,f))return f}return null}}
function form_get_username(a,b){if(null==a||null==b)return null;g_ctr_form_get_username_M++;var c=b.elements;if("undefined"!=typeof Math){for(var d=Math.floor(1E4*Math.random()),e=0;e<c.length;e++){var f=c[e];if(!("FIELDSET"==f.tagName||"hidden"==f.type))if(valid_by_role(a,f)&&!LP_fieldIsDisabled(f)&&!is_search_field(a,f,!0)&&checkIsDisplayed(a,f,0,null,d)&&("text"==f.type||"email"==f.type||looksLikeUsername(f))){if(isFirstFieldNonLoginSubForm(a,f))break;return f}}return null}}
function doc_get_orphan_username(a){if(null==a)return null;g_ctr_orphan_get_username_P++;var b=["input"];if("undefined"!=typeof Math){for(var c=Math.floor(1E4*Math.random()),d=0;d<b.length;d++)for(var e=a.getElementsByTagName(b[d]),f=0;f<e.length;f++){if(100<f)return null;var g=e[f];if(null==g.form&&checkIsDisplayed(a,g,0,null,c)&&("text"==g.type||"email"==g.type||looksLikeUsername(g)))return g}return null}}
function doc_get_orphan_password(a){if(null==a)return null;g_ctr_orphan_get_password_Q++;var b=["input"];if("undefined"!=typeof Math){for(var c=Math.floor(1E4*Math.random()),d=0;d<b.length;d++)for(var e=a.getElementsByTagName(b[d]),f=0;f<e.length;f++){if(100<f)return null;var g=e[f];if(null==g.form&&checkIsDisplayed(a,g,0,null,c)&&isInputFieldPassword(a,g))return g}return null}}
function set_active_username_password(a,b){if(null==a)g_popup_active_password=g_popup_active_username=null;else{var c=null,d=null;null==b?checkDocumentForLoginOrphans(a)&&(c=doc_get_orphan_username(a),d=doc_get_orphan_password(a)):(c=form_get_username(a,b),d=form_get_password(a,b));g_popup_active_username=c;g_popup_active_password=d}}function looksLikeEmail(a,b){return null==a||null==b||!("text"==b.type||"email"==b.type)?!1:"email"==b.type||RegExp(lpgs("ff_email_regexp"),"i").exec(b.name)?!0:!1}
function is_search_field(a,b,c){if(null==a||(null==b||"INPUT"!=b.tagName)||"text"!=b.type)return!1;null===c&&(c=!1);var d=LP_pickFieldName(a,b),e=fieldcacheget(a,d,"search");if(null!=e)return g_ctr_formcache_hits++,e;g_ctr_formcache_misses++;var e=b.form,f=[];null!=e&&(f=e.elements);if(b.parentNode&&"FORM"!=b.parentNode.tagName&&b.parentNode.className&&0<=b.parentNode.className.toLowerCase().indexOf("login")&&b.className&&0<=b.className.toLowerCase().indexOf("search"))return!1;if((null!=b.className&&
0<=b.className.toLowerCase().indexOf("search")||0<=b.className.toLowerCase().indexOf("srch")||0<=b.id.toLowerCase().indexOf("search")||0<=b.id.toLowerCase().indexOf("srch")||0<=b.name.toLowerCase().indexOf("search")||0<=b.name.toLowerCase().indexOf("srch"))&&0>b.name.toLowerCase().indexOf("user")&&0>b.name.toLowerCase().indexOf("login")&&0>b.id.toLowerCase().indexOf("user")&&0>b.id.toLowerCase().indexOf("login")&&(c||5>f.length))return fieldcacheset(a,d,"search",!0),!0;c=RegExp(lpgs("ff_search_regexp"),
"i");if(c.exec(b.name)||c.exec(b.id))if(c=b.name&&b.name.match(/[qQ]/)||b.id&&b.id.match(/[qQ]/),e=RegExp(lpgs("ff_email_regexp"),"i"),f=RegExp(lpgs("ff_username_regexp"),"i"),c&&b.name&&!b.name.match(/^[qQ]/)&&(!b.id||b.id&&!b.id.match(/^[qQ]/)))pass;else if(c&&b.id&&!b.id.match(/^[qQ]/)&&(!b.name||b.name&&!b.name.match(/^[qQ]/)))pass;else if(c&&(f.exec(b.name)||f.exec(b.id)||e.exec(b.name)||e.exec(b.id)))pass;else return verbose_log("field "+d+" appears to be a search field based on regexp"),fieldcacheset(a,
d,"search",!0),!0;c=b.getAttribute("placeholder");if(null!=c&&0<=c.toLowerCase().indexOf("search"))return verbose_log("field "+d+" appears to be a search field based on placeholder text"),fieldcacheset(a,d,"search",!0),True;if("rds-instances-filter-txtbx"==b.id)return verbose_log("field "+d+" appears to be a search field based on manually added searchtext"),fieldcacheset(a,d,"search",!0),!0;if(b.parentNode&&"FORM"!=b.parentNode.tagName&&b.parentNode.className&&(0<=b.parentNode.className.toLowerCase().indexOf("search")||
0<=b.parentNode.className.toLowerCase().indexOf("srch"))||"search"==b.getAttribute("role"))return fieldcacheset(a,d,"search",!0),!0;c=b.getAttribute("spellcheck");if(b.className&&0<=b.className.indexOf("tt-input")&&c&&"false"===c)return fieldcacheset(a,d,"search",!0),!0;fieldcacheset(a,d,"search",!1);return!1}
function is_date_field(a){if(!a)return!1;var b=a.name,c=/(?:date)|(?:calendar)/i,d=/(?:validate)/i,b=a.name,e=a.id,f=a.className;if(c.exec(b)||c.exec(e)||c.exec(f))return d.exec(b)||d.exec(e)||d.exec(f)?!1:!0;if(a=a.getAttribute("placeholder"))if(a=a.toLowerCase(),-1!=a.indexOf("yyyy")||-1!=a.indexOf("/yy")||-1!=a.indexOf("mm/"))return!0;return!1}
function is_search_form(a,b){if(null==a||null==b||"FORM"!=b.tagName)return!1;var c=LP_pickFormName(a,b),d=formcacheget(a,c,"search");if(null!=d)return g_ctr_formcache_hits++,d;g_ctr_formcache_misses++;if(null!=b.id&&0<b.id.length&&"undefined"!=typeof b.id.toLowerCase&&(0<=b.id.toLowerCase().indexOf("search")||0<=b.id.toLowerCase().indexOf("srch"))||null!=b.name&&0<b.name.length&&"undefined"!=typeof b.name.toLowerCase&&(0<=b.name.toLowerCase().indexOf("search")||0<=b.name.toLowerCase().indexOf("srch")))return verbose_log("form "+
c+" appears to be a search form based on name/id "),formcacheset(a,c,"search",!0),!0;if("search"==b.getAttribute("role"))return formcacheset(a,c,"search",!0),!0;formcacheset(a,c,"search",!1);return!1}function LP_pickFormName(a,b){var c="none";if(null!=b&&(c=LP_getname(b,LP_GETNAME_FAVOR_ID_OVER_NAME),null==c||0>=c.length))c=null!=b.action&&0<=b.action.length||null!=b.className&&0<=b.className.length?"FF"+b.action+b.className:"none";return c}
function looksLikeUsername(a,b){if("undefined"==typeof b||null===b)b=!1;g_ctr_looksLikeUsername_R++;if(!b&&"text"!=a.type&&"email"!=a.type)return!1;var c=RegExp(lpgs("ff_username_regexp"),"i");if(c.exec(a.name)||a.id&&c.exec(a.id))return!0;var d=a.getAttribute("placeholder");if(null!=d&&0<=d.indexOf("Login"))return!0;d=RegExp(lpgs("ff_loginform_regexp"),"i");if(a.form)for(var e=a.form.elements,f=0;f<e.length;f++)if("submit"==e[f].type&&(e[f].name&&c.exec(e[f].name)||d.exec(e[f].name)))return!0;c=
/^id$|.*-id|online.*id$|.*Id$/i;if(c.exec(a.name))return!0;if(g_is_specialsite){c=RegExp(lpgs("ff_bankacctnum_regexp"),"i");if(c.exec(a.name))return!0;c=RegExp(lpgs("ff_company_regexp"),"i");if(c.exec(a.name))return!0;c=RegExp(lpgs("ff_email_regexp"),"i");if(c.exec(a.name))return!0}return!1}function formHasUsernameField(a){if(a=a.form){a=a.elements;for(var b=0;b<a.length;b++){var c=a[b];if("text"==c.type||"email"==c.type)return!0}}return!1}
var DOUBLE_TEXT_VISIBLE=1,DOUBLE_PW_VISIBLE=2,DOUBLE_SECRET_TEXT_VISIBLE=3,DOUBLE_SECRET_PW_VISIBLE=4,NOT_DOUBLE_PW=0;
function fieldIsDoublePassword(a,b){"document"==a&&(a=document,b=LP_getElementByIdOrName(a,b));if(null==a&&(a=document,!a))return!1;if(null==b||"checkbox"==b.type||"button"==b.type||"submit"==b.type||"select-one"==b.type)return NOT_DOUBLE_PW;var c=null,d=null,e=null,f=null;if("undefined"!=typeof b.previousElementSibling)c=b.previousElementSibling;else if((c=b.previousSibling)&&null!=c.nodeType&&3==c.nodeType)c=c.previousSibling;if("undefined"!=typeof b.nextElementSibling)d=b.nextElementSibling;else if((d=
b.nextSibling)&&null!=d.nodeType&&3==d.nodeType)d=d.nextSibling;c&&"INPUT"!=c.tagName&&(c=null);d&&"INPUT"!=d.tagName&&(d=null);if(c){if("undefined"!=typeof c.previousElementSibling)e=c.previousElementSibling;else if((e=c.previousSibling)&&null!=e.nodeType&&3==e.nodeType)e=e.previousSibling;e&&"INPUT"!=e.tagName&&(e=null)}if(d){if("undefined"!=typeof d.nextElementSibling)f=d.nextElementSibling;else if((f=d.nextSibling)&&null!=f.nodeType&&3==f.nodeType)f=f.nextSibling;f&&"INPUT"!=f.tagName&&(f=null)}if("undefined"!=
typeof Math){var g=Math.floor(1E4*Math.random());if("password"==b.type&&!checkIsDisplayed(a,b,-1,null,g)&&c&&"text"==c.type&&!checkIsDisplayed(a,c,-1,null,g)&&d&&"text"==d.type&&checkIsDisplayed(a,d,-1,null,g)&&f&&"text"==f.type&&checkIsDisplayed(a,f,-1,null,g)||"text"==b.type&&checkIsDisplayed(a,b,-1,null,g)&&c&&"text"==c.type&&checkIsDisplayed(a,c,-1,null,g)&&e&&"password"==e.type&&!checkIsDisplayed(a,e,-1,null,g))return verbose_log("field "+LP_pickFieldName(a,b)+" needs double secret password hack"),
g_double_secret_password_hack=!0,DOUBLE_SECRET_TEXT_VISIBLE;if("password"==b.type&&checkIsDisplayed(a,b,-1,null,g)&&c&&"text"==c.type&&!checkIsDisplayed(a,c,-1,null,g)||"text"==b.type&&!checkIsDisplayed(a,b,-1,null,g)&&d&&"password"==d.type&&checkIsDisplayed(a,d,-1,null,g))return verbose_log("field "+LP_pickFieldName(a,b)+" needs double password hack"),g_double_password_hack=!0,DOUBLE_PW_VISIBLE;var e=null!=b&&lpIsVisible(b,!0),f=null!=c&&lpIsVisible(c,!0),g=null!=d&&lpIsVisible(d,!0),k=null!=b&&
looksLikeUsername(b),m=null!=c&&looksLikeUsername(c),j=null!=d&&looksLikeUsername(d);return"password"==b.type&&!e&&c&&"text"==c.type&&f&&!m||"text"==b.type&&e&&!k&&d&&"password"==d.type&&!g||"password"==b.type&&!e&&d&&"text"==d.type&&g&&!j||"text"==b.type&&e&&!k&&c&&"password"==c.type&&!f?(verbose_log("field "+LP_pickFieldName(a,b)+" needs double password hack"),g_double_password_hack=!0,DOUBLE_TEXT_VISIBLE):"password"==b.type&&e&&c&&"text"==c.type&&!f&&!m||"text"==b.type&&!e&&d&&"password"==d.type&&
g||"password"==b.type&&e&&d&&"text"==d.type&&!g&&!j||"text"==b.type&&!e&&c&&"password"==c.type&&f?(verbose_log("field "+LP_pickFieldName(a,b)+" needs double password hack"),g_double_password_hack=!0,DOUBLE_PW_VISIBLE):NOT_DOUBLE_PW}}var g_did_setupInputObserver=!1;
function setupInputObserver(a){null==a&&(a=document);var b;if(b=do_experimental_popupfill)b="undefined"!=typeof g_isfirefox&&g_isfirefox?a?a.g_did_setupInputObserver:null:g_did_setupInputObserver,b=!b;if(b){b="undefined"!=typeof window&&window?window:a.defaultView;var c=null;if("undefined"!=typeof WebKitMutationObserver)c=new WebKitMutationObserver(function(a){mutationObserverCallBack(a)});else if("undefined"==typeof MutationObserver)if("undefined"!=typeof b.MutationObserver){if(a&&a.location&&a.location.href.indexOf(".xul"))return;
c=new b.MutationObserver(function(a){mutationObserverCallBack(a)})}else return;null!=c&&(c.observe(a,{childList:!0,subtree:!0}),"undefined"!=typeof g_isfirefox&&g_isfirefox?a&&(a.g_did_setupInputObserver=!0):g_did_setupInputObserver=!0)}}
function mutationObserverCallBack(a){g_ctr_mutation_observer++;var b=!1;a.forEach(function(a){g_isfirefox&&LP.getBrowser();var c;if(!1==b)for(c=0;c<a.addedNodes.length;c++){var f=a.addedNodes[c];if("INPUT"==f.tagName||"SCRIPT"==f.tagName&&""!=f.src&&""===f.innerHTML){b=!0;break}}if(!1==b)for(c=0;c<a.removedNodes.length;c++)if("INPUT"==a.removedNodes[c].tagName){b=!0;break}});a=(new Date).getTime();if(b){if(g_isfirefox){for(var c=LP.getBrowser().contentWindow;null!=c.top&&c.top!=c;)c=c.top;c=lpGetBrowserForDocument(c.document);
verbose_log("mutation observer triggers checkShouldRecheck");LP.checkShouldRecheck(c)}else checkShouldRecheck();g_last_recheck=a}}
function enableScrollOnIframe(a,b){null==b&&(b=document?document:LP.getBrowser().contentDocument);if(null==b)return null;verbose_log("enabling Scroll on Iframe for "+b.location.href);var c=b.getElementsByTagName("IFRAME"),d,e=null;if(null!=c&&0<c.length)for(d=0;d<c.length;d++){var e=c[d],f=a.replace(/^(https:|http:)/,"");verbose_log("checking iframe src="+lp_ofa(e.src)+" passed href="+lp_ofa(a));if(e.src==a||0<e.src.indexOf(a)||0<e.src.indexOf(f))"undefined"!=typeof g_isie&&g_isie?(e.setAttribute("scrolling",
"auto"),e.style.overflow="visible",e.style.maxHeight="none"):(e.setAttribute("scrolling","auto"),e.style.overflow="auto"),verbose_log("enabling scroll on iframe to "+lp_ofa(a))}}
function enableScrollWithinIframe(a,b){null==a&&(a=document);null==b&&(b=window);if(is_your_popup_showing(a)&&b.self!=b.top)if(verbose_log("enabling scroll on body of iframe"),g_isfirefox)a.body.style.overflow="auto";else if(g_isie){var c=0;"undefined"!=typeof init_LPfn&&(init_LPfn()&&LPfn)&&(c=LPfn.getDocumentMode(document));7<c?(a.body.style.overflow="visible",a.body.setAttribute("scroll","auto")):a.body.setAttribute("overflow","auto")}else a.body.style.overflow="auto"}
function LP_getIframeBySrc(a,b){null==a&&(a=document);var c=a.getElementsByTagName("IFRAME"),d;for(d=0;d<c.length;d++)if(c[d].src==b)return c[d];return null}function destroy_clickables(a){do_experimental_popupfill&&(a||(a=document),null!=a&&(end_weasel(a),closepopupfills(a),closeclickableicons(a),g_save_suggest_msg&&setTimeout(function(){destroy_save_suggest_msg(a,MSGDIVID,null);return!1},0),g_isie&&remove_LPfn()))}
function closeclickableicons(a){if(do_experimental_popupfill&&(a||(a=document),null!=a)){verbose_log("closeclickableicons called on "+a.location.href);var b=getAllIconStates(),c,d;for(c=0;c<b.length;c++){var e=b[c];(d=e.IHTMLElement)||(d=LP_getElementByIdOrName(a,e.idorname));if(!e.dofloat&&e.inframe&&!d)if(g_isfirefox)try{var f,g,k=a.getElementsByTagName("IFRAME");for(f=0;f<k.length;f++)g=k[f].contentDocument,(d=LP_getElementByIdOrName(g,e.idorname))&&"INPUT"==d.tagName&&removeLPBackground(d)}catch(m){verbose_log("Error frame traverse "+
m.message),g=null}else!g_isie&&g_create_iframe_in_top&&pass;else!e.dofloater&&(d&&inputHasLPBackground(d))&&removeLPBackground(d);resetAllIconStates()}b=LP_get_icon_divs(a);for(f in b)b.hasOwnProperty(f)&&null!=a.getElementById(b[f])&&(g_do_icon_number_hint&&LP_delete_floating_icon_hint(a,b[f]),LP_delete_floating_icon(a,b[f]));LP_reset_icon_divs(a)}}
function sort_popupfill_bylasttouch(a,b){return(null==b||null==b.last_touch||0==b.last_touch?1073741824:b.last_touch)-(null==a||null==a.last_touch||0==a.last_touch?1073741824:a.last_touch)}
function ContigPWHack(a,b,c){null===a&&(a=document);if(null===a||"undefined"==typeof a.getElementsByTagName)return!1;var d=lpCountInputFields(b);if("undefined"!=typeof Math){b=Math.floor(1E4*Math.random());if((3==d.passwordvisible||4==d.passwordvisible)&&!0===d.passwordsContiguous)for(var e=a.getElementsByTagName("input"),d=0;d<e.length&&!(100<d);d++)if(e[d]==c){if("undefined"!=typeof e[d+1]&&"password"==e[d+1].type&&"undefined"!=typeof e[d+2]&&"password"==e[d+2].type&&checkIsDisplayed(a,e[d],-1,
null,b)&&checkIsDisplayed(a,e[d+1],-1,null,b)&&checkIsDisplayed(a,e[d+2],-1,null,b))return!0;break}return!1}}
function isContigPW(a,b,c){null==b&&(b=a);var d=b.getElementsByTagName("input");if("undefined"!=typeof Math){var e=Math.floor(1E4*Math.random());for(b=0;b<d.length;b++)if(d[b]==c&&"password"==d[b].type){if("undefined"!=typeof d[b+1]&&"password"==d[b+1].type&&checkIsDisplayed(a,d[b],-1,null,e)&&checkIsDisplayed(a,d[b+1],-1,null,e)||"undefined"!=typeof d[b-1]&&"password"==d[b-1].type&&checkIsDisplayed(a,d[b],-1,null,e)&&checkIsDisplayed(a,d[b-1],-1,null,e))return!0;break}return!1}}
function get_prev_field(a,b){if("undefined"!=typeof b.previousElementSibling)prev_field=b.previousElementSibling;else if((prev_field=b.previousSibling)&&null!=prev_field.nodeType&&prev_field.nodeType==TEXT_NODE)prev_field=prev_field.previousSibling}function get_next_field(a,b){if("undefined"!=typeof b.nextElementSibling)next_field=b.nextElementSibling;else if((next_field=b.nextSibling)&&null!=next_field.nodeType&&next_field.nodeType==TEXT_NODE)next_field=next_field.nextSibling}
function is_modifier_key(a){if("undefined"!=typeof KeyEvent){if(a==KeyEvent.DOM_VK_ALT||a==KeyEvent.DOM_VK_SHIFT||a==KeyEvent.DOM_VK_CONTROL||a==KeyEvent.DOM_VK_WIN||a==KeyEvent.DOM_VK_META)return!0}else if(16==a||17==a||18==a||91==a||92==a||224==a)return!0;return!1}var tldcache=[];
function gettldcached(a){try{if("undefined"!=typeof tldcache[a])return tldcache[a];var b="undefined"!=typeof punycode?lp_gettld_url(punycode.URLToASCII(a)):lp_gettld_url(a);return tldcache[a]=b}catch(c){return lp_gettld_url(a)}}TUTORIAL_FLAG_LPOV=1;TUTORIAL_FLAG_CONTEXT=2;g_context_tip_shown=0;
function setup_input_icon(a,b,c,d,e){if(null==b)return verbose_log("setup_input_icon: ERROR passed null field"),!1;g_isfirefox&&(LP&&"undefined"!=typeof g_icon_number_in_toolbar&&g_icon_number_in_toolbar)&&LP.lp_handle_buttons_all("refresh");var f=null,f="undefined"!=typeof LP&&"function"==typeof LP.lpGetCurrentWindow?"undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument:g_isfirefox?top.document:document;if(!do_experimental_popupfill)return!1;
a||(a=f);var g=LP_pickFieldName(a,b);if(null==b||(!f||!a)||LP_explicit_ignored(a,b))return!1;var k=getIconState(a,g);if(k&&k.IHTMLElement==b&&(inputHasLPBackground(b)||LP_floating_icon_exists(a,g)))return!1;k=null;if("generate"==c||!e&&shouldOfferGenerate(a,b))c="generate";var m=gettldcached(a.location.href),k=shouldCreateFloatingIcon(a,b,m),j=LP_get_text_dir(b);!1===j&&pass;f=a!=f;g_create_iframe_in_top&&(!g_isie&&!g_isfirefox&&LP_inIframe(window))&&(f=!0);e={fillhint:c,fillhintnumber:d[c],inframe:f,
idorname:g,doctld:m,dofloater:k?1:0,no_check_generate:e?1:0,IHTMLElement:b,textdir:j};if(k)if(g_isfirefox&&verbose_log("setup_input_icon step3b"),lpIsVisible(b)&&(null==b.form||b.form&&lpIsVisible(b.form)))saveIconState(g,e,b),LP_create_floating_icon(a,b,c,d);else return!1;else saveIconState(g,e,b),set_input_icon_image(a,b,c,!1);set_bg_highlight_effect_handlers(a,b,c);LP_didDocumentEscapeEvent(a)||(LP_setDocumentEscapeEvent(a),LP_addEventHandler(a,"keydown",function(a){LP_keypress_handler(a)},!1));
LP_didFieldKeyEvent(a,b)?verbose_log("skip KEYDOWN HANDLER ON "+LP_pickFieldName(a,b)):(verbose_log("SETTING KEYDOWN HANDLER ON "+LP_pickFieldName(a,b)),LP_setFieldKeyEvent(a,b),LP_addEventHandler(b,"keydown",function(d){LP_field_keypress_handler(d,b,c,a)},!1),g_isfirefox&&LP_addEventHandler(b,"keyup",function(c){handle_form_text_change(a,b,b.form,c)},!1));return!1}function refresh_input_icon_bg(a,b,c){if(!a&&(a=LP_derive_doc(),!a))return null;b&&set_input_icon_image(a,b,c,!1)}
function refresh_input_all_icon_bg(a){null==a&&(a=document);if(null!=a){try{if(0<a.location.href.indexOf(".xul"))return;verbose_log("refreshing input icons on "+a.location.href)}catch(b){return}var c=getAllIconStates(),d;for(d=0;d<c.length;d++){var e=c[d].idorname,f=c[d].fillhint,g=c[d].dofloater,k=c[d].IHTMLElement;element_is_detached(a,k,0)&&(k=null);k||(k=LP_getElementByIdOrName(a,e));k&&!g&&refresh_input_icon_bg(a,k,f)}}}
function saveIconState(a,b,c){try{a=null;a="undefined"!=typeof LP&&"function"==typeof LP.lpGetCurrentWindow?"undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument:g_isfirefox?top.document:document;"undefined"==typeof a.lpiconarr&&(a.lpiconarr=[]);var d;for(d=0;d<a.lpiconarr.length;d++){var e=a.lpiconarr[d];if(e.idorname==b.idorname&&e.IHTMLElement==b.IHTMLElement&&e.inframe==b.inframe){if(!checkIsDisplayed(c.ownerDocument,
c,null,null,null,!0))return;a.lpiconarr.splice(d,1)}}a.lpiconarr.push(b)}catch(f){verbose_log("save error "+f.message)}}
function getIconState(a,b){var c=null,c="undefined"!=typeof LP&&"function"==typeof LP.lpGetCurrentWindow?"undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument:g_isfirefox?top.document:document,d={};if("undefined"!=typeof c.lpiconarr){var e;for(e=0;e<c.lpiconarr.length;e++){var f=c.lpiconarr[e];if(f.idorname==b&&(!g_isfirefox||f.inframe==(a!=c)))d=f}}return d}
function hasIconState(a,b){return getIconState(a,b)?!0:!1}
function deleteIconState(a,b){var c=null,c="undefined"!=typeof LP&&"function"==typeof LP.lpGetCurrentWindow?"undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument:g_isfirefox?top.document:document;verbose_log("delete icon state from "+c.location.href+" for "+b);if("undefined"!=typeof c.lpiconarr){var d;for(d=0;d<c.lpiconarr.length;d++){var e=c.lpiconarr[d];e.idorname==b&&(!g_isfirefox||e.inframe==(a!=c))&&c.lpiconarr.splice(d,
1)}}}function getAllIconStates(){var a=null,a="undefined"!=typeof LP&&"function"==typeof LP.lpGetCurrentWindow?"undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument:g_isfirefox?top.document:document;verbose_log("getting all icon states for "+a.location.href);return"undefined"!=typeof a.lpiconarr?a.lpiconarr:[]}
function resetAllIconStates(){var a=null,a="undefined"!=typeof LP&&"function"==typeof LP.lpGetCurrentWindow?"undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument:g_isfirefox?top.document:document;verbose_log("resetting icon states for "+a.location.href);a.lpiconarr=[]}var origstyle={};
function set_input_icon_image(a,b,c,d){var e,f=[];f[0]=g_sites_light_ico;f[1]=g_pw_light_ico;f[3]=g_close_light_ico;f[-1]="";f[2]=g_ff_light_ico;f[16]=g_sites_ico;f[17]=g_pw_ico;f[19]=g_close_ico;f[-17]="";f[18]=g_ff_ico;if(null==b)return!1;"undefined"==typeof c||null==c?e=0:"formfills"==c?e=2:"sites"==c?e=0:"generate"==c?e=1:"cancel"==c&&(e=3);d&&(e|=16);var g=LP_fieldGetWidth(b),k=!1;if("sites"==c||g_is_specialsite)k=!0;if(!LP_iconFieldWidthOK(b,g,k))return!0;c=b.style.border;g=b.style.backgroundImage;
if(""==g)if(origstyle[b]=m,"undefined"!=typeof g_isie&&g_isie&&b.currentStyle)g=b.currentStyle.backgroundImage,c=b.currentStyle.border;else try{var m=b.ownerDocument.defaultView.getComputedStyle(b,""),g=m.backgroundImage;c=m.border}catch(j){"undefined"!=typeof b.currentStyle&&(g=b.currentStyle.backgroundImage,c=b.currentStyle.border)}"none"==g&&(g="");0<=e&&("undefined"==typeof f[e]&&verbose_log("no icon defined for iconval="+e),a=("undefined"!=typeof g_isloggedin?g_isloggedin:lploggedin)?0==e||16==
e?getnumbericon(a,b,d):f[e]:f[e],g!="url("+a+")"&&(b.style.backgroundImage="url("+a+")",a=b.ownerDocument.location.href,0<=a.indexOf("live.com")?b.style.paddingRight="18px":0<=a.indexOf("twitter.com")&&(b.style.paddingRight="16px"),g_issafari&&""!==c&&0<c.indexOf("inset")&&c.replace("inset",""),"no-repeat"!=b.style.backgroundRepeat&&(b.style.backgroundRepeat="no-repeat"),"scroll"!=b.style.backgroundAttachment&&(b.style.backgroundAttachment="scroll"),"center right"!=b.style.backgroundPosition&&(b.style.backgroundPosition=
"center right")));return!0}
function set_bg_highlight_effect_handlers(a,b,c){b&&(LP_didFieldMouseEvent(a,b)||(LP_setFieldMouseEvent(a,b),LP_addEventHandler(b,"mouseover",function(d){bg_highlight_effect_mouseover(d,a,b,c)}),LP_addEventHandler(b,"mouseout",function(d){bg_highlight_effect_mouseout(d,a,b,c)}),LP_addEventHandler(b,"mousemove",function(d){bg_highlight_effect_mousemove(d,a,b,c)})),"sites"==c&&("undefined"!=typeof g_isloggedin?g_isloggedin:lploggedin)&&(!g_isfirefox&&!g_isie)&&b.setAttribute("autocomplete","off"))}
function bg_highlight_effect_mousemove(a,b,c){null==a&&(a=window.event);a=LP_getMousePos(a);if(!(0>=a.x&&0>=a.y))if(b=LP_getAbsolutePos(b,c),0>=b.width&&0>=b.height)verbose_log("skipping field "+obj.idorname+" : no valid position");else{var d=b.left+b.width-20;d<b.left&&(d=b.left);c.style.cursor=d<a.x&&b.left+b.width>a.x&&b.top<a.y&&b.top+b.height>a.y?"pointer":"auto"}}
function bg_highlight_effect_mouseover(a,b,c,d){null==a&&(a=window.event);if(!(is_your_popup_showing(b)&&b.g_popupfill_parent==c)&&LP_getEventTarget(a)==c){a=d;d=!1;var e=getIconState(b,LP_pickFieldName(b,c));!a&&(e&&e.hint)&&(a=e.hint);e&&e.dofloater&&(d=e.dofloater);a&&!d&&set_input_icon_image(b,c,a,!0)}}
function bg_highlight_effect_mouseout(a,b,c,d){if(!(is_your_popup_showing(b)&&b.g_popupfill_parent==c)){a=d;d=!1;var e=getIconState(b,LP_pickFieldName(b,c));!a&&(e&&e.hint)&&(a=e.hint);e&&e.dofloater&&(d=e.dofloater);a&&!d&&set_input_icon_image(b,c,a,!1)}}
function lp_docinfoFromEvent(a){var b=null,b="undefined"!=typeof LP&&"function"==typeof LP.lpGetCurrentWindow?"undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument:g_isfirefox?top.document:document,c=null,d=LP_getEventTarget(a).ownerDocument;if(d!=b){c=d;try{verbose&&(c&&c.location)&&verbose_log("click inside iframe "+c.location.href)}catch(e){pass}}a=LP_getEventTarget(a);var f=LP_pickFieldName(d,a);return{topdoc:b,
framedoc:c,eventdoc:d,target:a,targetname:f}}
function icon_click_handler(a){var b=lp_docinfoFromEvent(a),c=b.topdoc,d=b.framedoc,e=b.eventdoc,f=b.target,b=b.targetname,g=!1,k=LP_getMousePos(a);if(0>=k.x&&0>=k.y){if(e&&e.location&&e.location.href&&0<e.location.href.indexOf(".xul"))return!0;verbose_log("icon_click_handler FATAL, failed to position of moouse")}else{verbose_log("mouse click at ["+k.x+","+k.y+"]");try{c&&c.body&&c.body.getAttribute("data-fouc-class-names")&&0<=c.body.getAttribute("data-fouc-class-names").indexOf("swift-loading")&&(0<
getAllIconStates().length?refresh_input_all_icon_bg(c):window&&window.setTimeout(function(){g_input_cnt=-1;doc_create_clickable_icons(c,"",SHOULD_DO_ALWAYS,g_is_specialsite)},50))}catch(m){}for(var j=getAllIconStates(),p=0;p<j.length;p++){var r=j[p].IHTMLElement,q=j[p].idorname,e=j[p].fillhint;g_isfirefox&&j[p].inframe?element_is_detached(d,r,0)&&(r=LP_getElementByIdOrName(d,q),refresh_input_icon_bg(d,r,e),j[p].IHTMLElement=r):element_is_detached(c,r,0)&&(r=LP_getElementByIdOrName(c,q),refresh_input_icon_bg(c,
r,e),j[p].IHTMLElement=r)}var j=getAllIconStates(),p;for(p=0;p<j.length;p++){q="";r=null;e=j[p];if(g_isfirefox&&e.inframe)if(d)(r=j[p].IHTMLElement)||(r=LP_getElementByIdOrName(d,e.idorname)),r&&(q=e.idorname);else{if(r=j[p].IHTMLElement)d=r.ownerDocument}else if(""!=b&&b==e.idorname){if(f!=j[p].IHTMLElement){q=!1;for(r=p;r<j.length;r++)if(f==j[r].IHTMLElement){q=!0;break}if(q)continue}r=f}else(r=j[p].IHTMLElement)||(r=LP_getElementByIdOrName(c,e.idorname)),r&&(q=e.idorname);if(d){if(r&&checkIsDisplayed(d,
r,0))if(q=LP_getAbsolutePos(d,r),!q||0>=q.width&&0>=q.height)verbose_log("skipping field "+e.idorname+" : no valid position");else{var n=q.left+q.width-20;n<q.left&&(n=q.left);if(n<k.x&&q.left+q.width>k.x&&q.top<k.y&&q.top+q.height>k.y){f=!1;b=!0;k=g=!1;verbose_log("icon_click_handler calling popuptoggle() [iframe]");"generate"==e.fillhint?f=!0:e.no_check_generate||(f=shouldOfferGenerate(d,r));"formfills"==e.fillhint&&(k=!0);c.g_popupfill_parent=r;popuptoggle(c,d,e.idorname,f,b,g,k,e.fillhint,e.fillhintnumber);
g=!0;LP_stopEventPropagation(a);break}}}else if(r&&checkIsDisplayed(c,r,0))if(q=LP_getAbsolutePos(c,r),!q||0>=q.width&&0>=q.height)verbose_log("skipping field "+e.idorname+" : no valid position");else{if(n=q.left+q.width-20,n<q.left&&(n=q.left),n<k.x&&q.left+q.width>k.x&&q.top<k.y&&q.top+q.height>k.y){f=!1;b=!0;k=g=!1;"generate"==e.fillhint?f=!0:e.no_check_generate||(f=shouldOfferGenerate(c,r));"formfills"==e.fillhint&&(k=!0);c.g_popupfill_parent=r;popuptoggle(c,d,e.idorname,f,b,g,k,e.fillhint,e.fillhintnumber,
r);g=!0;LP_stopEventPropagation(a);break}}else verbose_log("skipping field "+e.idorname+" : not found/visible")}return g}}
function LP_getMousePos(a){var b;a=a||window.event;b=LP_getEventTarget(a).ownerDocument;if(!b||null==b.location||0<b.location.href.indexOf(".xul"))return{x:0,y:0};var c=b.documentElement,d=typeof("number"==c.scrollLeft)?c.scrollLeft:b.body.scrollLeft,e=typeof("number"==c.scrollTop)?c.scrollTop:b.body.scrollTop,f=c=0;if(g_bodystyle_relative){var g=LP_get_cached_body_rect(b),k=LP_get_cached_body_style(b);g&&(k&&"relative"==k.position)&&(f=g.left,c=g.top)}g_isie&&(g=LP_get_cached_body_rect(b),e="undefined"!=
typeof window&&window?window:b.defaultView,"pageXOffset"in e?(d=e.pageXOffset,b=e.pageYOffset):(d=1,"undefined"!=typeof g_isie&&g_isie&&"undefined"!=typeof b.querySelector&&"undefined"==typeof b.addEventListener?g=1:(g&&(d=Math.round(100*((g.right-g.left)/b.body.offsetWidth))/100),g=d),d=Math.round(b.documentElement.scrollLeft/g),b=Math.round(b.documentElement.scrollTop/g)),e=b);b=a.pageX||a.clientX+d;a=a.pageY||a.clientY+e;b=parseInt(b);a=parseInt(a);g_bodystyle_relative&&(b-=f,a-=c);return{x:b,
y:a}}
function popuptoggle(a,b,c,d,e,f,g,k,m,j){if(j)m=j;else if(b){if(0<b.location.href.indexOf(".xul"))return!0;m=LP_getElementByIdOrName(b,c)}else{if(0<a.location.href.indexOf(".xul"))return!0;m=LP_getElementByIdOrName(a,c)}"undefined"!=typeof reset_forcefill_without_fillbest&&reset_forcefill_without_fillbest();j="sites";d?j="generate":f?j="save":g&&(j="formfills");if(is_your_popup_showing(a))closepopupfills(a),g_isfirefox?b?(b.g_popupfill_parent_last=b.g_popupfill_parent,b.g_popupfill_parent=null):(a.g_popupfill_parent_last=
a.g_popupfill_parent,a.g_popupfill_parent=null):(g_popupfill_parent_last=g_popupfill_parent,g_popupfill_parent=null);else{verbose_log("iframe does not exist, now create it");g="undefined"!=typeof g_isloggedin?g_isloggedin:lploggedin;if(!g){if("undefined"!=typeof LP&&"undefined"!=typeof LP.lpOpenLogin){LP.lpOpenLogin();return}if(!g_isie){sendBG({cmd:"dologinaction"});return}}g_isfirefox?b?b.g_popupfill_parent=m:a.g_popupfill_parent=m:g_popupfill_parent=m;f=f?!0:!1;g_isie?"undefined"!=typeof init_LPfn&&
init_LPfn()&&LPfn.ie_set_lpifmsg(a,m,d,f,j,k):g_isfirefox||(k=LP_pickFormName(m.ownerDocument,m.form),d=d?1:0,sendBG({cmd:"setpopupfilllastactive",active:k,activefieldid:LP_pickFieldName(document,m),ask_generate:d,opentosave:f,activefieldtype:m.type,start_type:j}));!g_isfirefox&&!g_isie&&(g=document.location.href,"undefined"!=typeof punycode&&(g=punycode.URLToASCII(document.location.href)),sendBG({cmd:"popupregister",docnum:g_docnum,url:g}));k=("function"==typeof ff_calculate_iframe_pos?ff_calculate_iframe_pos:
calculate_iframe_pos)(a,m,"300px");d=k.posx;k=k.posy;if(g_isfirefox)ff_popupfill_create_iframe(a,d,k,c,null,null,m,j);else{f=chk_form_is_nonlogin_form(document,m.form);j=checkDocumentForLoginOrphans(document)||checkDocumentForLoginOrphansFirstStage(document);g=checkDocumentForLoginFirstStageForm(document);g=j||g||chk_form_has_password(document,m.form);j=g_popupfill_rows;f&&!g&&(j=g_popupfill_rows_FF);f=g_popupfill_widest+40;120>f&&(f=120);f<g_popupfill_parent.offsetWidth&&(f=g_popupfill_parent.offsetWidth,
f+=2*Math.abs(POPUP_FIELD_OFFSET));if(1==j&&!create_onerow_iframe){g=null;g_fillaid&&(g=g_fillaid);isEmptyObject(g_autofillsites)||(g=g_autofillsites[0].aid);if(null!=g){sendBG({cmd:"autofillaid",aid:g});verbose_log("filling only, not creating 1 row iframe");return}verbose_log("tried to fill form with invalid acct")}if(0==j&&!do_popup_actions||0==j&&e==NO_FORCE_NOHITS)verbose_log("not creating empty iframe");else if(g="undefined"!=typeof g_isloggedin?g_isloggedin:lploggedin,g_dologin_clickable&&!g&&
(!g_isie||g_isie&&e==FORCE_SHOW_NOHITS_NOLOGIN)){verbose_log("login state: checking whether to issue Chrome login prompt");if(e==FORCE_SHOW_NOHITS_NOLOGIN)return;if(!g_isie){sendBG({cmd:"dologinaction"});return}}if(g_create_iframe_in_top&&!g_isie&&!g_isfirefox&&LP_inIframe(window)&&LP_do_toplevel_iframe_hack(window)){(k=calculate_iframe_pos(a,m,"300px",!0))?(d=parseInt(k.posx),k=parseInt(k.posy)):k=d=0;var p=e="";try{e=window.name,p=document.location.href}catch(r){}g=a.location.href;"undefined"!=
typeof punycode&&(g=punycode.URLToASCII(a.location.href));sendBG({cmd:"createpopuptoplevelfromframe",posx:d,posy:k,id:c,rows:j,width:f,minheight:g_minheight_override,framename:e,framesrc:p,url:g})}else popupfill_create_iframe(a,d,k,c,j,f,g_minheight_override);g_popupfill_iframe_width_save=f}g_isfirefox?b?relocate_popupfill_iframes(b):relocate_popupfill_iframes(a):(!g_create_iframe_in_top||!LP_inIframe(window)||g_isie||g_isfirefox)&&relocate_popupfill_iframes(a);a=b?b:a;b=!1;if(e=getIconState(a,c))b=
e.dofloater;b?change_clickable_icon_to_cancel(a,LPMAGIC+c):set_input_icon_image(a,m,"cancel",!0)}}
function isFirstFieldNonLoginSubForm(a,b){if(null==a||null==b||"INPUT"!=b.tagName||"password"==b.type||"hidden"==b.type)return!1;if("text"==b.type){regexp=RegExp(lpgs("ff_firstname_regexp"),"i");if(regexp.exec(b.name)||regexp.exec(b.id))return!0;regexp=/register|signup|enroll|create/i;if(b.parentNode&&regexp.exec(b.parentNode.name)||regexp.exec(b.parentNode.id)||b.parentNode&&b.parentNode.parentNode&&regexp.exec(b.parentNode.parentNode.name)||regexp.exec(b.parentNode.parentNode.id))return!0}return!1}
function isUsernameFieldLoginSubForm(a,b){return null==a||null==b||"INPUT"!=b.tagName||"password"==b.type||"hidden"==b.type?!1:FoundNonLoginSubForm(a)?False:looksLikeUsername(b)?!0:!1}function FoundNonLoginSubForm(a){if(null==a)return!1;if(isASPpage()){a=getAllIconStates();var b;for(b=0;b<a.length;b++)if("formfills"==a[b].fillhint)return True}return False}
function isPasswordFieldLoginSubForm(a,b){if(null==a||(null==b||"INPUT"!=b.tagName)||"hidden"==b.type)return!1;if(FoundNonLoginSubForm(a))return False;if("password"==b.type){var c=a.getElementsByTagName("INPUT"),d;for(d=0;d<c.length&&d<MAX_INPUTS_HARD&&b!=c[d];d++);if(b==c[d]&&0<d){var e=LP_pickFieldName(a,b);if(e&&e.toLowerCase().indexOf(0<=lpgs("Password"))&&(c=LP_pickFieldName(a,c[d-1]),RegExp(lpgs("ff_username_regexp"),"i").exec(c)))return!0}}return!1}
function isASPpage(){var a=!1;if(g_isfirefox){var b;(b="undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument)?a=b.g_found_aspx:verbose_log("unable to get g_found_aspx in isASPpage() for "+b?b.location.href:"null")}else a=g_found_aspx;a||(a=!1);return a}
function setASPpage(a){null==a&&(a=!0);if(g_isfirefox){var b;(b="undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument)?ret=b.g_found_aspx=a:verbose_log("unable to set g_found_aspx in isASPpage() for "+b?b.location.href:"null")}else g_found_aspx=a,ret=!0;ret||(ret=!1);return ret}
function LP_getname_or_idx(a,b,c){if(!a&&(a=document,!a))return"";c=LP_getname(b,c);if(""===c||null===c)if("INPUT"==b.tagName||"input"==b.tagName)c=LP_inputidx_to_name(a,LP_getinputidx(a,b));return c}function LP_getinputidx(a,b){if(!a&&(a=document,!a))return"";for(var c=a.getElementsByTagName("INPUT"),d=0,d=0;d<c.length;d++)if(c[d]==b)return d;return""}var LPMAGICINPUTIDX="input_idx_";function LP_inputidx_to_name(a,b){if(null!==b&&is_valid_input_indexes(a))return LPMAGICINPUTIDX+b}
function LP_name_is_inputidx(a,b){return b&&0==b.indexOf(LPMAGICINPUTIDX)&&b.length>LPMAGICINPUTIDX.length?!0:!1}function LP_getinputidx_from_name(a,b){return is_valid_input_indexes(a)&&0==b.indexOf(LPMAGICINPUTIDX)?b.substr(LPMAGICINPUTIDX.length):null}function LP_getElementByIdx(a,b){var c=null;is_valid_input_indexes(a)&&(c=a.getElementsByTagName("INPUT")[b]);return c}function invalidate_input_indexes(a){if(!a&&(a=document,!a))return;a.g_need_to_recompute_input_index=!0}
function validate_input_indexes(a){if(!a&&(a=document,!a))return;a.g_need_to_recompute_input_index=!1}function is_valid_input_indexes(){return!0}
function inputHasLPBackground(a){if(null==a)return!1;var b=null;if(g_isie&&"undefined"!=typeof a.currentStyle)"undefined"!=typeof a.currentStyle&&(b=a.currentStyle);else try{b=a.ownerDocument.defaultView.getComputedStyle(a,"")}catch(c){"undefined"!=typeof a.currentStyle&&(b=a.currentStyle)}if(b&&("INPUT"==a.tagName||"input"==a.tagName)&&""!=b.backgroundImage){if(-1!=b.backgroundImage.indexOf(g_sites_light_ico)||-1!=b.backgroundImage.indexOf(g_pw_light_ico)||-1!=b.backgroundImage.indexOf(g_close_light_ico)||
-1!=b.backgroundImage.indexOf(g_ff_light_ico)||-1!=b.backgroundImage.indexOf(g_sites_ico)||-1!=b.backgroundImage.indexOf(g_pw_ico)||-1!=b.backgroundImage.indexOf(g_close_ico)||-1!=b.backgroundImage.indexOf(g_ff_ico)||-1!=b.backgroundImage.indexOf(getnumbericon(a.ownerDocument,a,!0))||-1!=b.backgroundImage.indexOf(getnumbericon(a.ownerDocument,a,!1)))return!0;var d;for(d=0;9>=d;d++)if(-1!=b.backgroundImage.indexOf(getnumbericon(a.ownerDocument,a,!0,d))||-1!=b.backgroundImage.indexOf(getnumbericon(a.ownerDocument,
a,!1,d)))return verbose_log("icon "+LP_getname(a)+" has icon with number "+d),!0}return!1}function removeLPBackground(a){if(!a)return!1;try{a.style.backgroundImage="none",a.style.backgroundRepeat="repeat",a.style.backgroundAttachment="scroll",a.style.backgroundPosition="0% 0%"}catch(b){return verbose_log("removeLPBackground error: "+b.message),!1}return!0}var KEY_ESCAPE=27;
function LP_keypress_handler(a){a||(a=window.event);var b="undefined"!=typeof document?document:a&&a.target?a.target.ownerDocument:null;if(!b)return!1;a=a.keyCode;verbose_log("received key "+a);a==KEY_ESCAPE&&is_your_popup_showing(b)&&closepopupfills(b);return!1}var KEY_TAB=9,KEY_UP=38,KEY_DOWN=40,KEY_ENTER=13,KEY_SHIFT=16,KEY_RIGHT=39,KEY_LEFT=37,KEY_PAGEDOWN=34,KEY_PAGEUP=33,KEY_END=35,KEY_HOME=36;
function LP_field_keypress_handler(a,b,c,d){a||(a=window.event);if("undefined"!=typeof g_isloggedin?g_isloggedin:lploggedin){d||(d="undefined"!=typeof document?document:a&&a.target?a.target.ownerDocument:null);if(!d||null==d.location)if(d=b.ownerDocument,g_isfirefox&&void 0!=typeof LP&&(!d||null==d.location))d="undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument;if(d){if(null==d.location)return verbose_log("LP_field_keypress_handler given a firefox zombie document?"),
a="undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument,closepopupfills(a),!1;c=a.keyCode;if(c==KEY_ESCAPE)is_your_popup_showing(d)&&closepopupfills(d);else if(c==KEY_TAB)is_your_popup_showing(d)&&closepopupfills(d);else if(c==KEY_DOWN){if(!is_your_popup_showing(d)){set_active_username_password(d,b.form);"undefined"!=typeof g_isie&&g_isie&&"undefined"!=typeof init_LPfn&&(init_LPfn()&&LPfn)&&LPfn.ie_set_kbdnav(!0);
var e=LP_pickFieldName(d,b);if(e=getIconState(d,e)){var f=!1,g=!1;"generate"==e.fillhint&&(f=!0);"formfills"==e.fillhint&&(g=!0);popuptoggle(d,null,e.idorname,f,FORCE_SHOW_NOHITS,!1,g,e.fillhint,e.fillhintnumber)}else LP_pickFieldName(d,b),popuptoggle(d,null,LP_pickFieldName(d,b),NO_FORCE_GENERATE,FORCE_SHOW_NOHITS)}}else if(c!=KEY_UP&&!(c==KEY_SHIFT||0==c)&&!(c==KEY_RIGHT&&a.altKey)&&!is_modifier_key(c)&&c!=KEY_ENTER){if(g_ischrome&&g_setup_hotkey_handler){if(is_hotkey_event(a))return}else if(g_isie){if(e=
""+(a.ctrlKey?"control ":""),e+=a.metaKey?"meta ":"",e+=a.altKey?"alt ":"",e+=a.shiftKey?"shift ":"",verbose_log("keycode == "+c+" "+e),"undefined"!=typeof a.metaKey&&a.metaKey||"undefined"!=typeof a.altKey&&a.altKey||"undefined"!=typeof a.ctrlKey&&a.ctrlKey)return}else if(g_isfirefox&&(e=""+(a.ctrlKey?"control ":""),e+=a.metaKey?"meta ":"",e+=a.altKey?"alt ":"",e+=a.shiftKey?"shift ":"",verbose_log("keycode == "+c+" "+e),is_hotkey_event(d,a)))return;if("password"==b.type&&formHasUsernameField(b))if(g_clickable_input_on_password)!is_your_popup_showing(d)&&
!chk_form_ask_generate(d,b.form)&&conditional_create_popup(d,b,FORCE_SHOW_NOHITS_NOLOGIN);else return;if(!chk_form_has_password(d,b.form))return;is_your_popup_showing(d)||(g_clickable_input_on_password?(e=getIconState(d,LP_pickFieldName(d,b)))&&(e.fillhint&&"sites"==e.fillhint)&&conditional_create_popup(d,b,FORCE_SHOW_NOHITS_NOLOGIN):(LP_pickFieldName(d,b),popuptoggle(d,null,LP_pickFieldName(d,b),NO_FORCE_GENERATE,FORCE_SHOW_NOHITS)),g_keyboardNav=!0)}if(is_your_popup_showing(d)){c==KEY_UP&&(g_isfirefox?
ff_do_popupfocusdecrement(1):g_isie||sendBG({cmd:"popupfillinputfocusdecrement",count:1}),g_keyboardNav=!0,g_ischrome&&g_setup_hotkey_handler&&handle_hotkey(a),LP_stopEventPropagation(a));c==KEY_DOWN&&(g_extended_kbd_nav&&a.altKey&&g_hide_navbar?is_your_popup_showing(d)&&!g_isfirefox&&(g_isie||sendBG({cmd:"popupfillinputshownavbar"})):(g_isfirefox?ff_do_popupfocusincrement(1):g_isie||sendBG({cmd:"popupfillinputfocusincrement",count:1}),g_keyboardNav=!0),g_ischrome&&g_setup_hotkey_handler&&handle_hotkey(a),
LP_stopEventPropagation(a));if(c==KEY_ENTER&&(verbose_log("Enter Received, checking field"),(g_isfirefox?d.g_popupfill_parent:g_popupfill_parent)==b&&g_keyboardNav))g_isfirefox?(verbose_log("Enter Received, Choose Action"),ff_do_popupfocuschoose(!0)):g_isie||sendBG({cmd:"popupfillinputfocuschoose"}),g_ischrome&&g_setup_hotkey_handler&&handle_hotkey(a),g_isfirefox&&is_hotkey_event(d,a),LP_stopEventPropagation(a);c==KEY_PAGEUP&&(g_isfirefox?ff_do_popupfocusdecrement(12):g_isie||sendBG({cmd:"popupfillinputfocusdecrement",
count:12}),g_keyboardNav=!0,g_ischrome&&g_setup_hotkey_handler&&handle_hotkey(a),g_isfirefox&&is_hotkey_event(d,a),LP_stopEventPropagation(a));c==KEY_PAGEDOWN&&(g_isfirefox?ff_do_popupfocusincrement(12):g_isie||sendBG({cmd:"popupfillinputfocusincrement",count:12}),g_keyboardNav=!0,g_ischrome&&g_setup_hotkey_handler&&handle_hotkey(a),g_isfirefox&&is_hotkey_event(d,a),LP_stopEventPropagation(a));c==KEY_END&&(g_isfirefox?ff_do_popupfocusincrement(1073741824):g_isie||sendBG({cmd:"popupfillinputfocusincrement",
count:1073741824}),g_keyboardNav=!0);c==KEY_HOME&&(g_isfirefox?ff_do_popupfocusdecrement(1073741824):g_isie||sendBG({cmd:"popupfillinputfocusdecrement",count:1073741824}),g_keyboardNav=!0)}return!1}}}
function shouldCreateFloatingIcon(a,b,c){if(!a&&(a=LP_derive_doc(),!a)||!a||!b)return!1;if("stripe.com"==c)return!0;if("dominos.com"==c)return!1;if("metlife.com"==c&&-1!=a.location.href.indexOf("mybenefits.metlife.com"))return!0;if((a=LP_get_live_style(b))&&a.backgroundImage&&"none"!=a.backgroundImage&&!inputHasLPBackground(b))b=0<=a.backgroundImage.indexOf("blank")?!1:!0;else{if(a=g_trial_bg_expt)b?(b.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGP6zwAAAgcBApocMXEAAAAASUVORK5CYII=)",
a=LP_get_live_style(b),b=!a||("none"==a.backgroundImage||!a.backgroundImage)||g_stylesheet_grubbing&&LP_input_has_bg_style_override(b.ownerDocument)?!1:!0):b=!1,a=!b;b=a?!0:!1}return b}
function LP_create_floating_icon(a,b,c,d){if(!a&&(a=LP_derive_doc(),!a))return!1;var e=a.getElementsByTagName("body")[0],f,g;f=LP_pickFieldName(a,b);getIconState(a,f);var k=LPMAGIC+f;if(null==LP_getElementByIdOrName(a,LPMAGIC+f))g=a.createElement("div"),g.id=k,"undefined"!=typeof g_isfirefox&&g_isfirefox?(null==a.g_popup_divs&&(a.g_popup_divs={}),a.g_popup_divs[g.id]=g.id):g_popup_divs[g.id]=g.id,f=a.createElement("img"),b.offsetHeight<LPICON_WIDTH&&(f.height=b.offsetHeight,f.width=f.height),f.id=
g.id+"_icon",k=!0,null!=c&&("formfills"==c?(f.src=ff_svg,f.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+g_ff_ico+"';"),f.style.opacity="0.6",f.style.filter="alpha(opacity=60)",k=!1):"generate"==c&&(f.src=pw_svg,f.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+g_pw_ico+"';"),f.style.opacity="0.6",f.style.filter="alpha(opacity=60)",k=!1)),k&&(f.src=sites_svg,f.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+g_sites_ico+"';"),f.style.opacity=
"0.6",f.style.filter="alpha(opacity=60)"),g.appendChild(f),"sites"==c&&("undefined"!=typeof g_isloggedin?g_isloggedin:lploggedin)&&(!g_isfirefox&&!g_isie)&&b.setAttribute("autocomplete","off"),g_do_icon_number_hint&&LP_create_floating_icon_hint(a,g.id,c,d)&&LP_set_floating_icon_hint(a,g.id,c,d),e.appendChild(g),g.style.maxHeight=LPICON_WIDTH+"px",g.style.verticalAlign="top",f.style.verticalAlign="top","undefined"!=typeof g_docnum&&verbose_log("["+g_docnum+"] setting up click listener on icon for "+
LP_pickFieldName(a,b)),g_icon_hover&&(LP_addEventHandler(g,"mouseover",function(c){do_icon_mouseover(a,g.id,b);LP_stopEventPropagation(c);return!1}),LP_addEventHandler(g,"mouseout",function(c){do_icon_mouseout(a,g.id,b);LP_stopEventPropagation(c);return!1})),g_icon_parent_hover&&(LP_addEventHandler(b,"mouseover",function(c){do_icon_mouseover(a,g.id,b);LP_stopEventPropagation(c);return!1}),LP_addEventHandler(b,"mouseout",function(c){do_icon_mouseout(a,g.id,b);LP_stopEventPropagation(c);return!1})),
LP_addEventHandler(e,"DOMsubtreemodified",function(){popupfill_resize(a);return!1},!1),LP_addEventHandler(e,"resize",function(){popupfill_resize(a);return!1},!1),e.onresize=onresize_handler,setprops_floating_icon(a,b,g,c,d);else return!1;return!0}
function move_floating_icon(a,b,c,d){a||(a=g_isfirefox&&LP?LP.getBrowser().contentDocument:document);if(!a)return!1;a.getElementsByTagName("body");var e;e=LP_pickFieldName(a,b,LP_GETNAME_FAVOR_ID_OVER_NAME);if(!c){var f=getIconState(a,e);f&&(c=f.fillhint)}if(e=LP_getElementByIdOrName(a,LPMAGIC+e))g_do_icon_number_hint&&(LP_getloggedin()?LP_set_floating_icon_hint(a,e.id,c,d):LP_delete_floating_icon_hint(a,e.id)),setprops_floating_icon(a,b,e,c,d)}
function setprops_floating_icon(a,b,c,d,e){function f(a,b){var c=a.getElementsByTagName("body")[0],d=b.parentNode;d&&d!=c&&(d.removeChild(b),c.appendChild(b))}if(a&&b&&c){f(a,c);"absolute"!=c.style.position?(c.style.position="absolute",g_ctr_setposition_H++):g_ctr_nosetposition_H++;var g=LP_getAbsolutePos(a,b);if(null!=g){if(b.offsetHeight>LPICON_WIDTH){var k=g.top+(b.offsetHeight-LPICON_WIDTH)/2+"px";c.style.top!=k?(g_ctr_settop_E++,c.style.top=k):g_ctr_nosettop_E++}else c.style.top!=g.top+"px"?
(g_ctr_settop_F++,c.style.top=g.top+"px"):g_ctr_nosettop_F++;g=g.left+b.offsetWidth-LPICON_WIDTH-2+"px";c.style.left!=g?(g_ctr_setleft_G++,c.style.left=g):g_ctr_nosetleft_G++;if(g_do_icon_number_hint){var m;null==m&&(m=a.getElementById(c.id+"_icon"));var g=parseInt(c.style.left),k=parseInt(c.style.top),j=a.getElementById(c.id+"_numspan");if(null!=j)if(f(a,j),null!=d&&null!=e&&null!=e[d]&&1<e[d]){var p=e[d];0<e[d]&&9>e[d]&&(p=" "+e[d]);p=LP_measureText(a,lp_of(p,a),null,"font-size: 9px;font-family: Helvetica,Arial,sans-serif;font-weight:bold;line-height:11px;");
if(null!=p){var r=k+("undefined"==typeof m.height||0==m.height?LPICON_HEIGHT:m.height)-p.height+6+"px",q=g+("undefined"==typeof m.width||0==m.width?LPICON_WIDTH:m.width)-p.width+2+"px",p="#ff2200";g_use_grey_icons&&(p="#808080");p="position:absolute !important; visibility:visible !important; border:0px !important; font-size:9px !important; font-family: Helvetica Neue,Helvetica,Arial,sans-serif; top:"+r+" !important; left:"+q+" !important; background-color: "+p+"; padding: 1px 2px !important; font-weight: bold !important; color:#ffffff !important; cursor: default; line-height:11px !important; max-width: 10px !important; ";
m="undefined"!=typeof window&&window?window:a.defaultView;m=LP_getComputedStyle(m,j);d=m.zIndex;""!==d&&"auto"!=d&&(p=p+"z-index:"+d+" !important;");"absolute"!=m.position||"visible"!=m.visibility||"9px"!=m.fontSize||"1px 2px"!=m.padding||"11px"!=m.lineHeight||m.top!=r||m.left!=q?(j.style.cssText=p,g_ctr_numspan_setzindex_L++):g_ctr_numspan_nosetzindex_L++}else p="display:none;",j.style.cssText=p}else p="display:none;",j.style.cssText=p}}else verbose_log("ERROR: unable to relocate clickable icon");
d=getZIndex(a,b,0,0);null!=d?d++:d=CLICKABLE_ICON_ZINDEX;c.style.zIndex!=d?(g_ctr_setzindex_J++,c.style.zIndex=d):g_ctr_nosetzindex_J++;g_do_icon_number_hint&&null!=j&&(p=p+"z-index:"+(d+1)+" !important;",m="undefined"!=typeof window&&window?window:a.defaultView,m=LP_getComputedStyle(m,j),"absolute"!=m.position||"visible"!=m.visibility||"9px"!=m.fontSize||"1px 2px"!=m.padding||"11px"!=m.lineHeight||m.top!=r||m.left!=q||m.zIndex!=d+1?(j.style.cssText=p,g_ctr_numspan_setzindex_K++):g_ctr_numspan_nosetzindex_K++);
c.style.display=checkIsDisplayed(a,b,0)?"":"none";m=c.childNodes[0];parseInt(b.offsetHeight)<LPICON_WIDTH?(b.offsetHeight!=m.height?(g_ctr_setheight_A++,m.height=parseInt(b.offsetHeight)):g_ctr_nosetheight_A++,b.offsetHeight!=m.height?(g_ctr_setwidth_B++,m.width=m.height):g_ctr_nosetwidth_B++):(m.height!=LPICON_WIDTH?(g_ctr_setheight_C++,m.height=LPICON_WIDTH):g_ctr_nosetheight_C++,m.width!=LPICON_WIDTH?(g_ctr_setwidth_D++,m.width=LPICON_WIDTH):g_ctr_nosetwidth_D++)}}
function refresh_floating_icon_number_hints(a){null==a&&(a=document);if(null!=a)if(LP_get_icon_divs(a),LP_getloggedin())for(i in iconidhash);else for(i in iconidhash){var b=a.getElementById(iconidhash[i]+"_numspan");b&&(b.parentNode.removeChild(b),verbose_log("deleting icon number for "+iconidhash[i]))}}function LP_getloggedin(){return"undefined"!=typeof g_isloggedin?g_isloggedin:lploggedin}
function LP_reset_icon_divs(a){"undefined"!=typeof g_isfirefox&&g_isfirefox?a.g_popup_divs={}:g_popup_divs={};return!0}function LP_store_icon_div(a,b){"undefined"!=typeof g_isfirefox&&g_isfirefox?(null==a.g_popup_divs&&(a.g_popup_divs={}),a.g_popup_divs[b]=b):g_popup_divs[b]=b;return!0}function LP_delete_icon_div(a,b){"undefined"!=typeof g_isfirefox&&g_isfirefox?a&&delete a.g_popup_divs[b]:delete g_popup_divs[b];return!0}
function LP_get_icon_divs(a){return"undefined"!=typeof g_isfirefox&&g_isfirefox?null==a.g_popup_divs?{}:a.g_popup_divs:null==g_popup_divs?{}:g_popup_divs}
function LP_set_floating_icon_hint(a,b,c,d){if(a&&LP_getloggedin()){var e=a.getElementById(b+"_numspan");null!=e?(a="",b=LP_elt_get_text(e),null!=c&&null!=d&&null!=d[c]&&0<d[c]?("formfills"==c||"generate"==c)&&!1===g_show_icon_number_for_formfills?""!=b&&LP_elt_set_text(e,""):(a=9>d[c]?" "+d[c]:9<d[c]?"9+":" "+d[c],b!=a&&LP_elt_set_text(e,a)):LP_elt_set_text(e,"")):LP_create_floating_icon_hint(a,b,c,d);return!0}}
function LP_create_floating_icon_hint(a,b,c){if(!a)return!1;var d=a.getElementsByTagName("body")[0];if(a.getElementById("newid")||("formfills"==c||"generate"==c)&&!1===g_show_icon_number_for_formfills)return!1;a=a.createElement("div");a.id=b+"_numspan";a.style.position="absolute";a.style.top="-1000px";a.style.left="-1000px";d.appendChild(a);g_defensive&&LP_addEventHandler(a,"mousedown",function(a){LP_stopEventPropagation(a);return!1});return!0}
function LP_delete_floating_icon_hint(a,b){if(!a)return!1;var c=a.getElementById(b+"_numspan");return null!=c?(c.parentNode.removeChild(c),!0):!1}function LP_delete_floating_icon(a,b){if(!a)return!1;var c=a.getElementById(b);return null!=c?(c.parentNode.removeChild(c),!0):!1}
function reset_floating_icon(a,b,c){verbose_log("entered reset_floating_icon");a||(a=g_isfirefox&&LP?LP.getBrowser().contentDocument:document);if(!a)return!1;b=LP_pickFieldName(a,b);var d=getIconState(a,b);!c&&d&&(c=d.fillhint);d=LP_getElementByIdOrName(a,LPMAGIC+b);a=LP_getElementByIdOrName(a,LPMAGIC+b+"_icon");return d&&a?("formfills"==c?(a.src=ff_svg,a.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+g_ff_ico+"';")):"generate"==c?(a.src=pw_svg,a.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+
g_pw_ico+"';")):(a.src=sites_svg,a.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+g_sites_ico+"';")),a.style.opacity="0.6",a.style.filter="alpha(opacity=60)",!0):!1}
function should_do_lastpass_here(a){var b=null;if(!a)return!1;if(null!=a.g_content_check_result)return a.g_content_check_result;try{var c=a.location.href;if(0<c.indexOf(".xul")||0<c.indexOf("libsyn.com/embed")||0<c.indexOf("platform.twitter.com/tweet_button")||0<=c.indexOf("facebook.com/plugins/"))b=a.g_content_check_result=!1;null===b&&("complete"!=a.readyState&&"interactive"!=a.readyState)&&(verbose_log("answer hazy, try again later"),b=!0);if(null===b){var d=a.body,e=d.innerText.length;if(null===
b&&2<e&&("{"==d.innerHTML[0]||"("==d.innerHTML[0]))b=a.g_content_check_result=!1}}catch(f){return a.g_content_check_result=!1}null===b&&(b=a.g_content_check_result=!0);return b}function LP_is_inframe(a){if(!a)return!1;try{var b="undefined"!=typeof window&&window?window:a.defaultView;return b.self!==b.top}catch(c){return!1}}
function valid_by_role(a,b){if(!b)return!1;a||(a=b.ownerDocument);if(!a)return!1;var c=b.getAttribute("role");!c&&"INPUT"!=b.tagName&&(c=b.parentNode.getAttribute("role"));if(!c)return!0;switch(c){case "navigation":case "banner":case "contentinfo":case "note":case "search":case "seealso":return!1;case "columnheader":case "presentation":case "toolbar":case "directory":return!1;default:return!0}}
function treat_text_as_password(a){return!a?!1:"text"==a.type&&(0==a.name.indexOf("pass")||0<=a.name.toLowerCase().indexOf(lpgs("Password").toLowerCase()))&&-1==a.name.toLowerCase().indexOf("hint")&&-1==a.name.toLowerCase().indexOf("placeholder")?!0:!1}function ASP_treat_text_as_password(a){return treat_text_as_password(a)}
function LP_pickFieldName(a,b){if(!a||!b)return null;var c=fieldcacheget(a,b,"lpname");if(c)return c;c=LP_getname_or_idx(a,b,LP_GETNAME_FAVOR_ID_OVER_NAME);fieldcacheset(a,b,"lpname",c);return c}function fieldcacheget(a,b,c){return null==a||(null==b||null==c||0===c.length)||"undefined"==typeof a.g_field_attr_cache?null:null!=a.g_field_attr_cache[b]&&null!=a.g_field_attr_cache[b][c]?a.g_field_attr_cache[b][c]:null}
function fieldcacheset(a,b,c,d){if(null==a||null==b||null==c||0===c.length)return null;"undefined"==typeof a.g_form_attr_cache&&(a.g_form_attr_cache=[]);null==a.g_form_attr_cache[b]&&(a.g_form_attr_cache[b]={});a.g_form_attr_cache[b][c]=d;return!0}function fieldcachereset(a){null!=a&&(a.g_field_attr_cache=[]);return!0}function LP_looksLikeOTPField(a,b){return!a||!b||"INPUT"!=b.tagName?!1:LP_pickFieldName(a,b).toLowerCase().match(/^otp[_\W]|[_\W]otp$|^otp$|[_\W]otp[_\W]/)?!0:!1}
function doc_create_clickable_icons(a,b,c,d){if(do_experimental_popupfill){if(!a&&(a=g_isfirefox&&LP?LP.getBrowser().contentDocument:document,!a))return;if(g_isfirefox){b=LP.lpGetCurrentWindow().document;var e="undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument;verbose_log("doc_create_clickable_icons: xuldoc is "+b.location.href);verbose_log("doc_create_clickable_icons: passed doc is "+a.location.href);verbose_log("doc_create_clickable_icons: toplevel doc is "+
e.location.href)}(b=9==a.nodeType?a.body:null)||(b=a.getElementsByTagName("body")[0]);if(b){b=!1;if(g_isfirefox){if(never_icons(lpcanonizeUrl(a.location.href),lp_gettld_url(a.location.href))||never_icons(lpcanonizeUrl(e.location.href),lp_gettld_url(e.location.href)))return;b=!0}else{var e=check_nevers(a,g_nevers,a.location.href),f=!0,g=!0,k=!0,m=!0;null!=e&&(f=e.show_for_formfill,g=e.show_for_save,k=e.show_for_autofill,m=e.show_for_clickable_icon);if((0<g_popupfill_rows&&k||0==g_popupfill_rows&&g||
f)&&m)b=!0}if(b){var e=a.getElementsByTagName("input"),j;b={};var p=checkDocumentForLoginOrphans(a)||checkDocumentForLoginOrphansFirstStage(a),r=checkDocumentForCPWOrphans(a),q=checkDocumentForLoginFirstStageForm(a);if(g_aspx_hack&&!isASPpage())for(j=0;j<e.length&&5>j&&!isASPpage();j++)check_for_ASP(a,e[j]);var n=null;if("undefined"!=typeof Math){var s=Math.floor(1E4*Math.random()),v=e.length;if(g_aspx_hack&&isASPpage())create_icons_on_ASP(a,d);else if(p||r||q)create_icons_generic(a,d);else{var w=
MAX_INPUTS_SOFT;LP_exceedInputsThreshold(a)||(w=MAX_INPUTS_HARD);for(j=0;j<v&&j<w;j++)if(d||popupfill_shoulddofield(a,e[j],c))try{var u=e[j],C=LP_pickFormName(a,u.form),F=p||q||chk_form_has_password(a,u.form),A=r||chk_form_is_nonlogin_form(a,u.form);if(d)if(looksLikeUsername(e[j]))F=!0,A=!1,verbose_log("SPECIAL SITE: create icon on field "+LP_pickFieldName(a,u));else if(isInputFieldPassword(a,u))F=!0,A=!1,verbose_log("SPECIAL SITE: create icon on field "+LP_pickFieldName(a,u));else{verbose_log("SPECIAL SITE: ignoring field "+
LP_pickFieldName(a,u));continue}var G=chk_form_ask_generate(a,u.form),D=!1;null!=n&&(null!=C&&C!=n)&&(D=!0,G=chk_form_ask_generate(a,u.form,D));var P=LP_fieldGetWidth(u);if(!(null!=b[C]&&1<=b[C]&&!isInputFieldPassword(a,u)&&(!F||G)&&!g_show_icon_only_on_focus&&(!isASPpage()||!isFirstFieldNonLoginSubForm(a,u))))if(g_isfirefox&&(F||A||G)||(F&&(0<g_popupfill_rows&&k||0==g_popupfill_rows&&g)||(A&&!F||G)&&f)&&m)if((F||G)&&!LP_iconFieldWidthOK(u,P,!0))verbose_log("skipping loginform icon create on "+LP_pickFieldName(a,
u)+"because field is too thin");else if(!F&&!G&&A&&!LP_iconFieldWidthOK(u,P,!1))verbose_log("skipping nonloginform icon create on "+LP_pickFieldName(a,u)+"because field is too thin");else if(!F&&!G&&!A&&!LP_iconFieldWidthOK(u,P,!1))verbose_log("skipping default-icon create on "+LP_pickFieldName(a,u)+"because field is too thin");else{var E;if(A&&is_search_field(a,u,!0))verbose_log("skipping nonloginform icon create on "+LP_pickFieldName(a,u)+"because it looks like a search field");else if(A&&LP_fieldIsReadOnly(u))verbose_log("skipping nonloginform icon create on "+
LP_pickFieldName(a,u)+"because it is read-only");else if(F&&!G?(n=C,g_isie?init_LPfn()&&LPfn&&LPfn.ie_setpopupfillhint({formid:C,rowtype:"sites"}):g_isfirefox||sendBG({cmd:"setpopupfillhint",formid:C,rowtype:"sites"}),g_do_icon_number_hint&&(E="sites")):F&&G?g_aspx_hack&&isASPpage()?(g_isie?init_LPfn()&&LPfn&&LPfn.ie_setpopupfillhint({formid:C,rowtype:"sites"}):g_isfirefox||sendBG({cmd:"setpopupfillhint",formid:C,rowtype:"sites"}),g_do_icon_number_hint&&(E="sites")):(verbose_log("CONFLICT: form "+
C+" is a signup form and login form; treat as a signup form and present formfill options"),g_isie?init_LPfn()&&LPfn&&LPfn.ie_setpopupfillhint({formid:C,rowtype:"formfills"}):g_isfirefox||sendBG({cmd:"setpopupfillhint",formid:C,rowtype:"formfills"}),g_do_icon_number_hint&&(E=isInputFieldPassword(a,u)?u.form&&lpCheckCurrentPWField(u.form)?"sites":"generate":"formfills")):!F&&G&&chk_form_changepw(a,u.form)?(g_isie?init_LPfn()&&LPfn&&LPfn.ie_setpopupfillhint({formid:C,rowtype:"sites"}):g_isfirefox||sendBG({cmd:"setpopupfillhint",
formid:C,rowtype:"sites"}),g_do_icon_number_hint&&(E="sites")):r?g_do_icon_number_hint&&(E="sites"):(g_isie?init_LPfn()&&LPfn&&LPfn.ie_setpopupfillhint({formid:C,rowtype:"formfills"}):g_isfirefox||sendBG({cmd:"setpopupfillhint",formid:C,rowtype:"formfills"}),g_do_icon_number_hint&&(E="formfills")),checkIsDisplayed(a,u,0,null,s)){verbose_log("icon create on displayed field "+LP_pickFieldName(a,u)+" for form "+C);if(g_do_icon_number_hint){D=[];if(g_isfirefox){E||(E="sites");var J=LP.getMatchingSites(a.location.href,
SKIP_GENPWS);D[E]=J&&J.length?J.length:0}else D=g_icon_numbers;if(isASPpage()&&isFirstFieldNonLoginSubForm(a,u))setup_input_icon(a,u,"formfills",D);else{if("formfills"==E&&!isFirstFieldNonLoginSubForm(a,u)&&!lpIsVisible(u,!0)&&u.form&&lpIsVisible(u.form))continue;setup_input_icon(a,u,E,D)}}else setup_input_icon(a,u);g_isfirefox||g_save_suggest_msg&&(E&&null!=typeof g_icon_numbers&&null!=typeof g_icon_numbers.sites&&1>g_icon_numbers.sites)&&LP_addEventHandler(u,"click",function(b){var c=LP_getEventTarget(b);
setTimeout(function(){do_save_suggest_msg(c,a)},0);LP_stopEventPropagation(b);return!1},!1);if(g_clickable_input&&(!("password"==u.type&&formHasUsernameField(u))||g_clickable_input_on_password)&&!LP_didFieldClickEvent(a,u)&&"sites"==E)LP_setFieldClickEvent(a,u),LP_addEventHandler(u,"click",function(b){var c=LP_getEventTarget(b),d=LPMAGIC+LP_pickFieldName(a,c);if(null!=a.getElementById(d))g_clickable_input_on_password?is_your_popup_showing(a)||conditional_create_popup(a,c,FORCE_SHOW_NOHITS_NOLOGIN):
(set_active_username_password(a,u.form),popuptoggle(a,null,LP_pickFieldName(a,c),NO_FORCE_GENERATE,FORCE_SHOW_NOHITS));else if(g_input_click_intercept)try{verbose_log("CLICK ON INPUT, process it"),icon_click_handler(b)}catch(e){}return!1},!1);verbose_log("FORM "+C+" touched");null==b[C]?b[C]=1:b[C]++}else verbose_log("skip icon create on hidden field "+LP_pickFieldName(a,u)+" for form "+C)}}catch(B){verbose&&alert("error: "+B.message+" stack: "+B.stack)}}g_isfirefox||(!1==g_weaseled&&setTimeout(function(){weasel(100)},
500),g_weaseled=!0)}}}}}function ForceFillFieldClicked(a,b,c,d){if(!b||!d)return!1;c=b.form&&!c?LP_getname(b.form):"";var e=b.type?b.type:"";return"password"==e?LP_setval(a,LP_getname(b),d.p,0,d.a,c,e,d.sharedsite,null,d.automaticallyFill,d.reqinfo):LP_setval(a,LP_getname(b),d.u,0,d.a,c,e,d.sharedsite,null,d.automaticallyFill,d.reqinfo)}
function ForceFillFormClicked(a,b,c,d){if(!b)return!1;c=null;if(b=b.getElementsByTagName("INPUT")){if(c=GuessUserPassFields(b,!0,!0,!0))c.text&&ForceFillFieldClicked(a,c.text,!1,d),c.password&&ForceFillFieldClicked(a,c.password,!1,d);return!0}return!1}
function GuessUserPassFields(a,b,c,d){if(!a||0>=a.length)return null;var e,f=a.length,g=null,k=null,m=!1;for(e=0;e<f;e++){var j=a[e];if(j)if(c&&(LP_fieldIsReadOnly(j)||LP_fieldIsDisabled(j)))verbose_log("Skipping disabled field");else if(d&&!lpIsVisible(j,!0))verbose_log("Skipping non-displayed field");else{if(b){var p=RegExp(lpgs("ff_search_regexp"),"i");if(p.exec(j.name)||p.exec(j.id)){var p=j.name&&j.name.match(/[qQ]/)||j.id&&j.id.match(/[qQ]/),r=RegExp(lpgs("ff_username_regexp"),"i"),q=RegExp(lpgs("ff_email_regexp"),
"i");if(p&&j.name&&!j.name.match(/^[qQ]/)&&(!j.id||j.id&&!j.id.match(/^[qQ]/)))pass;else if(p&&j.id&&!j.id.match(/^[qQ]/)&&(!j.name||j.name&&!j.name.match(/^[qQ]/)))pass;else if(p&&(r.exec(j.name)||r.exec(j.id)||q.exec(j.name)||q.exec(j.id)))pass;else{verbose_log("Skipping field that smells like a search field");continue}}}if(("text"==j.type||"tel"==j.type||"email"==j.type)&&!k)b?(p=RegExp(lpgs("ff_username_regexp"),"i"),p.exec(j.name)||p.exec(j.id)?(g=j,m=!0):m||(g=j)):g=j;"password"==j.type&&!k&&
(b?(p=RegExp(lpgs("ff_username_regexp"),"i"),!m&&(p.exec(j.name)||p.exec(j.id))?g=j:k=j):k=j)}}a={};g&&(a.text=g);k&&(a.password=k);return isEmptyObject(a)?null:a}function LP_getActiveElement(a){return!a?null:a.activeElement}function LP_docHasFocus(a){return!a?null:!0}
function ForceFillClicked(a,b,c){var d=g_popupfill_parent;d||(d=g_popupfill_parent_last);if(!d){if(g_force_fill_active_element){var e=LP_getActiveElement(a);e&&("INPUT"==e.tagName&&LP_docHasFocus(a)&&hasIconState(a,LP_pickFieldName(a,e)))&&(d=e,verbose_log("hotkey or contextmenu triggered autofill detect & force"))}if(!d)return!1}if(!a&&(a=d.ownerDocument,!a))return!1;var e=chk_form_has_password(a,d.form),f=chk_form_ask_generate(a,d.form);return d.form&&e&&!f?!ForceFillFormClicked(a,d.form,b,c)||
""===d.value?ForceFillFieldClicked(a,d,b,c):!0:null==d.form?ForceFillOrphanFieldClicked(a,d,c):ForceFillFieldClicked(a,d,b,c)}function isMultiStageLoginForm(){}var MAX_INPUTS_HARD=200,MAX_INPUTS_SOFT=100;
function LP_exceedInputsThreshold(a){if(!a)return!0;var b=MAX_INPUTS_HARD,c=MAX_INPUTS_SOFT;a=a.getElementsByTagName("input");var d=a.length;if(d>b)return verbose_log("EIT: hard threshold exceed"),!0;if(d<c)return!1;var b=0,e;for(e=0;e<d;e++)if(a[e]){var f=a[e].type;("text"==f||"passwd"==f)&&b++}return b>c?(verbose_log("EIT: soft threshold exceed"),!0):!1}var MAX_FORMS_HARD=20,MAX_FORMS_SOFT=10;
function LP_exceedFormsThreshold(a){if(!a)return!0;var b=MAX_FORMS_HARD,c=MAX_FORMS_SOFT,d=a.getElementsByTagName("form"),e=d.length;if(e>b)return verbose_log("EFT: hard threshold exceed"),!0;if(e<c)return!1;var b=0,f=RegExp(lpgs("ff_loginform_regexp"),"i"),g;for(g=0;g<e;g++)if(d[g]&&(d[g]&&!d[g].disabled&&b++,b>c)){var k=d[g].id;if(f.exec(d[g].name)||f.exec(k))return verbose_log("EFT: soft threshold exception for login form "+LP_pickFormName(a,d[g])),!1}return b>c?(verbose_log("EFT: soft threshold exceed"),
!0):!1}var MAX_FORM_ELEMENTS_HARD=500,MAX_FORM_ELEMENTS_SOFT=100;function LP_exceedFormElementsThreshold(a,b){if(!a||!b)return!0;var c=MAX_FORM_ELEMENTS_SOFT,d=b.elements,e=d.length;if(e>MAX_FORM_ELEMENTS_HARD)return verbose_log("EFET: hard threshold exceed"),!0;if(e<c)return!1;var f=0,g;for(g=0;g<e;g++)if(d[g]&&d[g]&&(!d[g].disabled&&"FIELDSET"!=d[g].tagName)&&"input"==d[g].tagName){var k=inputs[g].type;("text"==k||"passwd"==k)&&f++}return f>c?(verbose_log("EFET: soft threshold exceed"),!0):!1}
function LP_passwordAlt(a,b){return!a||!b||"INPUT"!=b.tagName?!1:"nyckel"==LP_pickFieldName(a,b).toLowerCase()&&"password"==b.type?!0:!1}function LP_explicit_ignored(a,b){if(!a||!b||"undefined"==typeof b.getAttribute)return!0;var c=b.getAttribute("data-lpignore");if("true"===c)return!0;c=b.dataset?b.dataset.lpignore:!1;if("true"===c)return!0;c=b.getAttribute("lpignore");return"true"===c||"true"===b.lpignore?!0:!1}
function countFormEquivalents(a){var b=0,c=a.getElementsByTagName("FORM"),d=c.length;LP_exceedFormsThreshold(a)&&(d=MAX_FORMS_HARD);for(a=0;a<c.length&&a<d;a++)(lpIsVisible(c[a]),!0)&&b++;return b}
function LP_implicit_ignored(a,b){if(!b||!a&&(a=LP_derive_doc(),!a))return!1;var c=b.id,d=b.name,e=a.body;if(d&&"post_title"==d&&e&&e.className&&0<=e.className.indexOf("wp-admin")||"text"==b.type&&c&&(0<c.indexOf("_note")||0<c.indexOf("-note")))return!0;e=RegExp(lpgs("ff_combineddummy_regexp"),"i");return e.exec(c)||e.exec(d)?(verbose_log("combineddummy ignore on "+c+"/"+d),!0):!1}function LP_read_website_hint(){}function LP_didFieldClickEvent(a,b){return!a||!b?!1:1==(LP_getBits(a,b)&1)}
function LP_didFieldMouseEvent(a,b){return!a||!b?!1:2==(LP_getBits(a,b)&2)}function LP_didFieldKeyEvent(a,b){return!a||!b?!1:4==(LP_getBits(a,b)&4)}function LP_didDocumentEscapeEvent(a){if(!a)return!1;var b=a.body;null==b&&(b=a.documentElement);return 8==(LP_getBits(a,b)&8)}function LP_setFieldClickEvent(a,b){if(!a||!b)return!1;var c=LP_getBits(a,b);LP_setBits(a,b,c|1);return!0}function LP_setFieldMouseEvent(a,b){if(!a||!b)return!1;var c=LP_getBits(a,b);LP_setBits(a,b,c|2);return!0}
function LP_setFieldKeyEvent(a,b){if(!a||!b)return!1;var c=LP_getBits(a,b);LP_setBits(a,b,c|4);return!0}function LP_setBits(a,b,c){if(!a||!b)return!1;if("undefined"==typeof c||null===c)c=0;if(g_isie){if(init_LPfn()&&LPfn)return LPfn.ie_set_lpstates(b,c)}else b=LP_pickFieldName(a,b),verbose_log("lpsetbits "+b+" = "+c),a.lpstates[b]=c;return!0}
function LP_getBits(a,b){if(!a||!b)return 0;var c=0;if(g_isie)init_LPfn()&&LPfn&&(c=LPfn.ie_get_lpstates(b));else{a.lpstates||(a.lpstates={});var c=a.lpstates,d=LP_pickFieldName(a,b);verbose_log("lpstates for "+d+" == "+c[d]);c="undefined"!=typeof c[d]?c[d]:0}return c}function LP_setDocumentEscapeEvent(a){if(!a)return!1;var b=a.body;null==b&&(b=a.documentElement);var c=LP_setBits(a,b);return LP_setBits(a,b,c|8)}
function LP_resetAllBits(a){if(!a)return!1;if(g_isie){if(init_LPfn()&&LPfn)return LPfn.ie_reset_lpstates()}else return a.lpstates={},!0;return!1}function LP_fieldIsDisabled(a){return!a?!1:"undefined"!=typeof a.disabled&&a.disabled||"true"===a.getAttribute("aria-disabled")?!0:!1}function LP_fieldIsReadOnly(a){return!a?!1:"undefined"!=typeof a.readOnly&&a.readOnly||"true"===a.getAttribute("aria-readonly")?!0:!1}
function LP_fieldIsDecorative(a){return!a?!1:"presentation"===a.getAttribute("role")?!0:!1}
function create_clickable_icon_on_active_field(a,b){if(do_experimental_popupfill){var c=check_nevers(document,g_nevers,document.location.href),d=!0,e=!0,f=!0;null!=c&&(d=c.show_for_save,e=c.show_for_autofill,f=c.show_for_clickable_icon);var c=checkDocumentForLoginOrphans(a)||checkDocumentForLoginOrphansFirstStage(a),g=checkDocumentForLoginFirstStageForm(a),k;if(b.form&&lpIsVisible(b.form)){var m=null,m=LP_pickFormName(document,b.form),g=c||g||chk_form_has_password(document,b.form);chk_form_is_nonlogin_form(document,
b.form);g_is_specialsite&&looksLikeUsername(b)&&(g=!0);var j=chk_form_ask_generate(document,b.form);g&&!j||g_is_specialsite?(sendBG({cmd:"setpopupfillhint",formid:m,rowtype:"sites"}),g_do_icon_number_hint&&(k="sites")):g_aspx_hack&&isASPpage()?(sendBG({cmd:"setpopupfillhint",formid:m,rowtype:"sites"}),g_do_icon_number_hint&&(k="sites")):!g&&j&&chk_form_changepw(document,b.form)?(sendBG({cmd:"setpopupfillhint",formid:m,rowtype:"sites"}),g_do_icon_number_hint&&(k="sites")):(g=form_get_username(a,b.form),
j=form_get_password(a,b.form),g_do_icon_number_hint?(k=isInputFieldPassword(a,b)||g==b||j==b?"sites":"formfills",sendBG({cmd:"setpopupfillhint",formid:m,rowtype:k})):sendBG({cmd:"setpopupfillhint",formid:m,rowtype:"formfills"}))}if(c||g_is_specialsite||checkForLoginForm(document)){var p=punycode.URLToASCII(document.location.href),r=lp_gettld_url(p);setTimeout(function(){sendBG({cmd:"getpopupfillsites",tld:r,url:p})},0);if((0<g_popupfill_rows&&e||0==g_popupfill_rows&&d)&&f)if(LP_getname_or_idx(document,
b,LP_GETNAME_FAVOR_ID_OVER_NAME),g_do_icon_number_hint?setTimeout(function(){var c=LP_pickFieldName(a,b),d=!1;if((c=getIconState(a,c))&&c.fillhint)k=c.fillhint,d=c.no_check_generate;setup_input_icon(document,b,k,g_icon_numbers,d)},50):setTimeout(function(){setup_input_icon(document,b)},50),g_save_suggest_msg&&(k&&null!=typeof g_icon_numbers&&null!=typeof g_icon_numbers.sites&&1>g_icon_numbers.sites)&&b.addEventListener("click",function(){var a=event.target;setTimeout(function(){do_save_suggest_msg(a,
document)},0);event.preventDefault();event.stopPropagation();return!1},!1),g_clickable_input&&(!("password"==b.type&&formHasUsernameField(b))||g_clickable_input_on_password)&&!LP_didFieldClickEvent(document,b)&&k&&"sites"==k)LP_setFieldClickEvent(document,b),b.addEventListener("click",function(){var a=event.target,c=LPMAGIC+LP_getname_or_idx(document,a,LP_GETNAME_FAVOR_ID_OVER_NAME);null!=document.getElementById(c)&&(g_clickable_input_on_password?is_your_popup_showing(document)||conditional_create_popup(document,
a,FORCE_SHOW_NOHITS_NOLOGIN):(set_active_username_password(document,b.form),do_bgiconinput?popuptoggle(document,null,LP_getname_or_idx(document,b,LP_GETNAME_FAVOR_ID_OVER_NAME),NO_FORCE_GENERATE,FORCE_SHOW_NOHITS):popupfilltoggle(document,c,a,NO_FORCE_GENERATE,FORCE_SHOW_NOHITS)));return!1},!1)}}return!0}
function relocate_popupfill_clickables(a){if(!a&&(a=LP_derive_doc(),!a))return null;if("function"==typeof a.getElementsByName){g_isfirefox&&verbose_log("relocate_popupfill_clickables doc is "+a.location.href);var b=LP_get_icon_divs(a);if(isEmptyObject(b))return null;try{var c,d=0;for(c in b)if(b.hasOwnProperty(c)){var e=b[c].substr(LPMAGIC.length);if(null!=e&&0<e.length){var f=e,g=LP_getElementByIdOrName(a,f);if(null==g&&!g_double_password_hack&&!g_double_secret_password_hack)LP_delete_floating_icon(a,
b[c])&&(verbose_log("relocate: deleting orphaned icon container for "+e),d++),g_do_icon_number_hint&&LP_delete_floating_icon_hint(a,b[c])&&(verbose_log("relocate: deleting orphaned icon number for "+e),d++),delete b[c];else if(g_do_icon_number_hint){if(null!=a.getElementById(b[c])){var k="",m=getIconState(a,f);m&&(k=m.fillhint);null!=k&&"sites"!=k&&(k=null);f={};g_isfirefox?f[k]=m.fillhintnumber:(f.sites=0<g_icon_number_overrides.sites?g_icon_number_overrides.sites:g_icon_numbers.sites,f.formfills=
0<g_icon_number_overrides.formfills?g_icon_number_overrides.formfills:g_icon_numbers.formfills);move_floating_icon(a,g,k,f)}}else move_floating_icon(a,g)}}}catch(j){verbose_log("relocate_popupfill_clickables caught error:"+j.message),g_isfirefox&&end_weasel(a)}if(0<d)if(g_isfirefox){var p=lpGetBrowserForDocument(a);setTimeout(function(){LP.checkShouldRecheck(p)},500)}else setTimeout(function(){checkShouldRecheck()},500)}}
function LP_getFormEquivalent(a,b){if(!b)return null;a||(a=b.ownerDocument);return!a?null:b.form?b.form:null}
function create_icons_on_ASP(a,b){if(do_experimental_popupfill){if(!a&&(a=g_isfirefox&&LP?LP.getBrowser().contentDocument:document,!a))return!1;verbose_log("trying alternate strategy for ASP page "+a.location.href);var c=[];if(g_do_icon_number_hint)if(g_isfirefox){var d=LP.getMatchingSites(a.location.href,SKIP_GENPWS);c[v]=d&&d.length?d.length:0}else c=g_icon_numbers;var d=a.getElementsByTagName("FORM"),e,f,g=SHOULD_DO_ALWAYS,k=MAX_FORMS_SOFT;LP_exceedFormsThreshold(a)||(k=MAX_FORMS_HARD);var m=0;
for(f=0;f<d.length&&f<k;f++){var j=d[f].elements;chk_form_has_password(a,d[f]);chk_form_is_nonlogin_form(a,d[f]);chk_form_ask_generate(a,d[f]);var p=form_get_username(a,d[f]),r=form_get_password(a,d[f]),q=MAX_INPUTS_SOFT;LP_exceedInputsThreshold(a)||(q=MAX_INPUTS_HARD);for(e=0;e<j.length&&e<q;e++){var n=!1,s=j[e],v="sites";if("INPUT"==s.tagName){var w=!1;if(popupfill_shoulddofield(a,s,g)){var u=LP_fieldGetWidth(s),C=!0;if(b){if(looksLikeUsername(s)||isInputFieldPassword(a,s))v="sites",n=!0}else if(p==
s)v="sites",n=!0;else if(isInputFieldPassword(a,s))s==lpCheckCurrentPWField(d[f],!0)?(v="sites",w=n=!0):r==s?(v="sites",w=n=!0):isContigPW(a,s.form,s)?(v="generate",n=!0):(v="sites",w=n=!0);else if(isFirstFieldNonLoginSubForm(a,s))v="formfills",n=!0,C=!1;else if(isUsernameFieldLoginSubForm(a,s)||isPasswordFieldLoginSubForm(a,s))v="sites",w=n=!0;if(n&&LP_iconFieldWidthOK(s,u,C)&&(m++,setup_input_icon(a,s,v,c,w),g_clickable_input&&(!("password"==s.type&&formHasUsernameField(s))||g_clickable_input_on_password)&&
LP_didFieldClickEvent(a,s)&&v&&"sites"==v))LP_setFieldClickEvent(a,s),s.addEventListener("click",function(){var b=event.target,c=LPMAGIC+LP_getname_or_idx(a,b,LP_GETNAME_FAVOR_ID_OVER_NAME);null!=document.getElementById(c)&&(g_clickable_input_on_password?is_your_popup_showing(a)||conditional_create_popup(a,b,FORCE_SHOW_NOHITS_NOLOGIN):(set_active_username_password(a,s.form),do_bgiconinput?popuptoggle(a,null,LP_getname_or_idx(a,s,LP_GETNAME_FAVOR_ID_OVER_NAME),NO_FORCE_GENERATE,FORCE_SHOW_NOHITS):
popupfilltoggle(a,c,b,NO_FORCE_GENERATE,FORCE_SHOW_NOHITS)));return!1},!1)}}}}verbose_log("created "+m+" icons on ASP page")}}
function check_for_ASP(a,b){if(b&&!isASPpage()&&g_aspx_hack){if((0===b.name.indexOf("ctl00$")||null!=b.form&&("ctl00"==b.form.name||"landingform"==b.form.name||"landingForm"==b.form.name||"aspnetForm"==b.form.name||"aspnetForm"==b.form.id)||0===b.name.indexOf("ctl00_"))&&!isASPpage())setASPpage(!0),verbose_log("detected ASP.NET form, one if by land");try{a.location&&(a.location.href&&0<a.location.href.indexOf(".aspx"))&&(b.form&&(b.form.elements&&b.form.elements.length&&6<b.form.elements.length)&&
!isASPpage())&&(setASPpage(!0),verbose_log("detected ASP.NET form, two if by sea"))}catch(c){verbose_log("check_for_ASP:"+c.message)}}}
function LP_fieldGetWidth(a){var b={},c=0;if("undefined"!=typeof g_isie&&g_isie){if("undefined"!=typeof a.offsetWidth&&(c=parseInt(a.offsetWidth)),!c)if("undefined"!=typeof a.currentStyle)(b=a.currentStyle)&&(c=parseInt(b.width));else return 0}else if(c=a.style.width.replace(/px/,""),0<c.indexOf("%")&&(c=c.replace(/%/,"")),""==c)try{b=a.ownerDocument.defaultView.getComputedStyle(a,""),c=b.width.replace(/px/,"")}catch(d){"undefined"!=typeof a.currentStyle&&(b=a.currentStyle,c=b.width.replace(/px/,
""))}if("NaN"==c||""===c)c=0;return c}
function LP_iconFieldWidthOK(a,b,c){if(!a||null===b)return!1;var d=a.ownerDocument;if(!d)return verbose_log("iconFieldWidthOK: no doc???"),!1;if("undefined"==typeof c||null===c)if(isInputFieldPassword(d,a))c=!0;else{var e=a.form;e&&chk_form_has_password(d,e)&&(c=!0)}c?0<b&&40>b?a=!1:(a?(b=a.getAttribute("size"),c=a.getAttribute("maxlength"),null==b&&(b=a.size),null==c&&(c=a.maxLength),a=""==a.style.width&&b&&2>b&&0<=b||c&&3>c&&0<=c?!1:!0):a=!1,a=!a?!1:!0):a=0<b&&100>b?!1:!0;return a}
function end_weasel(a){if(do_experimental_popupfill&&(a||(a=document?document:LP.getBrowser().contentDocument),a)){var b;b=a&&null!=a.g_weasel_id?a.g_weasel_id:g_weasel_id;null!=b&&clearTimeout(b);g_isfirefox?a&&(a.g_weasel_id=null,a.g_weaseled=!1):(g_weasel_id=null,g_weaseled=!1)}}
function relocate_popupfill_iframes(a,b){if(do_experimental_popupfill)try{var c=a;g_isfirefox&&(c="undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument);if(!a||!c)return null;if(g_isfirefox&&null==a.location){verbose_log("relocate_popupfill_iframes given zombie document?");var d="undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument;
closepopupfills(d)}else{var e=d=!1;if(!f){var f=a.defaultView;f||(f=a.parentWindow)}var g,k=c.getElementsByTagName("iframe");for(g=0;g<k.length;g++){var m=k[g];if("undefined"!=typeof m.id&&null!=m.id){var j=LPMAGICIFRAME;if(0==m.id.indexOf(j)){var p=m.id.substr(j.length),j=p,d=!0,r=LP_getElementByIdOrName(a,p),q=!b;if(g_isfirefox||null!=r&&lpIsVisible(r,q)){var n=null;g_isfirefox?(n=ff_get_iframe_pos(a,f,r,j,c),null!=n&&(e=!0)):n=calculate_iframe_pos(a,r,0<g_minwidth_override?g_minwidth_override:
0);null!=n&&(verbose_log("PLACING IFRAME"),g_fixed_iframe_position?place_iframe_fixed(a,f,m,n,c):place_iframe_absolute(a,f,m,n,c))}else g_create_iframe_in_top&&!g_isie&&!g_isfirefox&&!LP_inIframe(f)&&toplevel_iframe_state_get()?(n=LP_getAbsolutePos(a,m,!0),n.posx=n.left,n.posy=n.top,place_iframe_absolute(a,f,m,n,c)):!g_isfirefox&&(!g_double_password_hack&&!g_double_secret_password_hack)&&closepopupfills(a)}}}g_isfirefox&&(!e&&d)&&(verbose_log("found orphan iframe, remove it"),closepopupfills(a))}}catch(s){lplog("relocate_popupfill_iframe failed, "+
s.message),do_bgiconinput||end_weasel(a),g_isfirefox&&closepopupfills(a)}}function LP_getElementByXPath(a,b){return!a&&(a=LP_derive_doc(),!a)?null:LP_lookupElementByXPath(a,b)}
function LP_createXPathFromElement(a,b){if(!a&&(a=LP_derive_doc(),!a))return null;var c=a.getElementsByTagName("*");for(segs=[];b&&1==b.nodeType;b=b.parentNode)if(b.hasAttribute("id")){for(var d=0,e=0;e<c.length&&!(c[e].hasAttribute("id")&&c[e].id==b.id&&d++,1<d);e++);if(1==d)return segs.unshift('id("'+b.getAttribute("id")+'")'),segs.join("/");segs.unshift(b.localName.toLowerCase()+'[@id="'+b.getAttribute("id")+'"]')}else if(b.hasAttribute("class"))segs.unshift(b.localName.toLowerCase()+'[@class="'+
b.getAttribute("class")+'"]');else{i=1;for(sib=b.previousSibling;sib;sib=sib.previousSibling)sib.localName==b.localName&&i++;segs.unshift(b.localName.toLowerCase()+"["+i+"]")}return segs.length?"/"+segs.join("/"):null}function LP_lookupElementByXPath(a,b){return"undefined"==typeof XPathEvaluator?null:(new XPathEvaluator).evaluate(b,a.documentElement,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}
function LP_lookupElementsByXPath(a,b){var c=[];if("undefined"==typeof XPathEvaluator)return c;var d=(new XPathEvaluator).evaluate(b,a.documentElement,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null);if(d)for(elt=d.iterateNext();elt;)elt&&c.push(elt),elt=d.iterateNext();return c}
function handle_form_text_change(a,b,c,d){if(do_experimental_popupfill){if(!a&&(a=LP_derive_doc(),!a))return null;if(!(null==c||null==b||null==d||null==d.keyCode||0==d.keyCode|16==d.keyCode)&&"lpwebsiteeventform"!=c.name&&"lpmanualform"!=c.name&&popupfill_shoulddofield(a,b,SHOULD_DO_ALWAYS)){var e=b.value,f=LP_pickFieldName(a,b);if(g_clickable_input_on_password){var g=g_popup_active_username,k=g_popup_active_password;null==g&&(g="undefined"==typeof b.form||null==b.form?doc_get_orphan_username(a):
form_get_username(a,b.form));null==k&&(k="undefined"==typeof b.form||null==b.form?doc_get_orphan_password(a):form_get_password(a,b.form));var m=checkDocumentForLoginOrphans(a)||checkDocumentForLoginOrphansFirstStage(a),j=checkDocumentForCPWOrphans(a),m=m||chk_form_has_password(a,c),j=j||chk_form_is_nonlogin_form(a,c),p=chk_form_ask_generate(a,c);if(g&&k&&(m||p)&&!j){if(b!=g){b==k?(g_isie||(e=g.value,g_isfirefox||sendBG({cmd:"popupfillinputsave",inputstr:e,inputid:f,inputtype:"password"})),verbose_log("KEYPASS4 username="+
e)):(g_isie||(g_isfirefox?d&&(d.keyCode&&d.keyCode!=KEY_TAB&&d.keyCode!=KEY_UP&&d.keyCode!=KEY_DOWN&&d.keyCode!=KEY_SHIFT&&d.keyCode!=KEY_LEFT&&d.keyCode!=KEY_RIGHT)&&ff_do_popupinputupdate(""):sendBG({cmd:"popupfillinputsave",inputstr:"",inputid:f})),verbose_log('KEYPASS5 username=""'));return}}else{g_isie||(verbose_log('KEYPASS6 formfill? username=""'),g_isfirefox?ff_do_popupinputupdate(""):sendBG({cmd:"popupfillinputsave",inputstr:"",inputid:f}));return}}if(null==e||0==e.length)g_isie||(g_isfirefox?
ff_do_popupinputupdate(""):sendBG({cmd:"popupfillinputsave",inputstr:"",inputid:f})),verbose_log("KEYPASS7 empty username");else{d=0;for(var r in g_autofillsites)d++;if(!(0>=d)||g_change_icon_on_input){r=0;d=null;for(var q in g_autofillsites)0==g_autofillsites[q].useusername.indexOf(e)&&(r++,d=g_autofillsites[q]);if(1==r)do_autofill_if_matched?g_isie||(g_isfirefox?ff_autofill(a,d.aid):sendBG({cmd:"autofillaid",aid:d.aid})):(g_isie||(g_isfirefox?ff_do_popupinputupdate(e):sendBG({cmd:"popupfillinputsave",
inputstr:e,inputid:f,inputtype:b.type,issaveall:issaveall(c)})),verbose_log("KEYPASS8 match>0 username="+e));else if(g_isie||(g_isfirefox?ff_do_popupinputupdate(e):sendBG({cmd:"popupfillinputsave",inputstr:e,inputid:f,inputtype:b.type,issaveall:issaveall(c)})),verbose_log("KEYPASS9 match>1 username="+e),chk_form_has_password(a,c),g_change_icon_on_input&&(b=c.elements,"undefined"!=typeof Math&&(c=Math.floor(1E4*Math.random()),null!=b)))for(e=0;e<b.length&&!(f=b[e],checkIsDisplayed(a,f,0,null,c)&&isInputFieldPassword(a,
f)&&null!=f.value&&0<f.value.length);e++);}}}}}function LP_derive_doc(){var a=null,a="undefined"!=typeof g_isfirefox&&g_isfirefox&&LP?LP.getBrowser().contentDocument:document;return!a?null:a}
function checkDocumentForCPWOrphans(a){if(!a&&(a=LP_derive_doc(),!a))return null;var b=formcacheget(a,"fakedoc","cpw");if(null!=b)return g_ctr_formcache_hits++,b;g_ctr_formcache_misses++;for(var b=null,c=0,d=a.getElementsByTagName("INPUT"),e=0;e<d.length;e++){elt=d[e];if(e>MAX_INPUTS_HARD)break;if(null==elt.form){if(isInputFieldPassword(a,elt)&&lpIsVisible(elt)){c++;var f=lpIsFieldCurrentPWField(elt);if(f){if(b)return!1;b=f}}if(4<=c)return formcacheset(a,"fakedoc","cpw",!1),!1}}if(2<=c&&b)return formcacheset(a,
"fakedoc","cpw",!0),!0;formcacheset(a,"fakedoc","cpw",!1);return!1}
function create_icons_generic(a,b){if(do_experimental_popupfill){if(!a&&(a=LP_derive_doc(),!a))return null;verbose_log("trying generic strategy "+a.location.href);var c=[];if(g_do_icon_number_hint)if(g_isfirefox){var d=LP.getMatchingSites(a.location.href,SKIP_GENPWS);c[g]=d&&d.length?d.length:0}else c=g_icon_numbers;var d=a.getElementsByTagName("INPUT"),e,f=d.length,g=MAX_INPUTS_SOFT;LP_exceedInputsThreshold(a)||(g=MAX_INPUTS_HARD);f>g&&(f=g);var k=SHOULD_DO_ALWAYS,m=checkDocumentForLoginOrphans(a);
LP_firstVisibleOrphan(a);var j=0;for(e=0;e<f;e++){var p=d[e].form,r=null,q=null;p?(r=form_get_username(a,p),q=form_get_password(a,p)):q=r=null;var n=d[e],s=!1,g="sites",v=!1;if(popupfill_shoulddofield(a,n,k)){var w=LP_fieldGetWidth(n),u=!0;if(b){if(looksLikeUsername(n)||isInputFieldPassword(a,n))g="sites",s=!0}else if(r==n)g="sites",s=!0;else if(isInputFieldPassword(a,n))p&&n==lpCheckCurrentPWField(p,!0)?(g="sites",v=s=!0):lpIsFieldCurrentPWField(n)?(g="sites",v=s=!0):q==n?(g="sites",v=s=!0):isContigPW(a,
n.form,n)?(g="generate",s=!0):(g="sites",v=s=!0);else if(isFirstFieldNonLoginSubForm(a,n))g="formfills",s=!0,u=!1;else if(isUsernameFieldLoginSubForm(a,n)||isPasswordFieldLoginSubForm(a,n))g="sites",v=s=!0;else if(null==n.form&&m&&(looksLikeUsername(n)||isInputFieldPassword(a,n)))g="sites",s=!0;if(s&&LP_iconFieldWidthOK(n,w,u)&&(j++,setup_input_icon(a,n,g,c,v),g_clickable_input&&(!("password"==n.type&&formHasUsernameField(n))||g_clickable_input_on_password)&&LP_didFieldClickEvent(a,n)&&g&&"sites"==
g))LP_setFieldClickEvent(a,n),n.addEventListener("click",function(){var b=event.target,c=LPMAGIC+LP_getname_or_idx(a,b,LP_GETNAME_FAVOR_ID_OVER_NAME);null!=document.getElementById(c)&&(g_clickable_input_on_password?is_your_popup_showing(a)||conditional_create_popup(a,b,FORCE_SHOW_NOHITS_NOLOGIN):(set_active_username_password(a,n.form),do_bgiconinput?popuptoggle(a,null,LP_getname_or_idx(a,n,LP_GETNAME_FAVOR_ID_OVER_NAME),NO_FORCE_GENERATE,FORCE_SHOW_NOHITS):popupfilltoggle(a,c,b,NO_FORCE_GENERATE,
FORCE_SHOW_NOHITS)));return!1},!1)}}verbose_log("created "+j+" icons on generic page")}}
function draw_context_tip(a,b){if(!g_context_tip_shown&&checkIsDisplayed(a,b,0,lp_gettld_url(punycode.URLToASCII(a.location.href)),0,!0)){g_context_tip_shown=1;var c=LP_getAbsolutePos(a,b),d=c.left+c.width-10-300+22,e=a.createElement("iframe");e.frameborder=0;e.setAttribute("frameborder",0);e.style.width="300px";e.style.height="200px";e.style.position="absolute";e.style.left=d+"px";e.style.top=c.top+c.height+"px";e.style.zIndex=CLICKABLE_ICON_ZINDEX;e.id="lpttipif";e.src=getchromeurl("tip_context.html");
a.body.appendChild(e);var f=a.createElement("div");f.style.width="300px";f.style.height="200px";f.style.position="absolute";f.style.left=d+"px";f.style.top=c.top+c.height+"px";f.style.zIndex=CLICKABLE_ICON_ZINDEX+1;f.id="lpttipdv";a.body.appendChild(f);f.addEventListener("click",function(){a.body.removeChild(e);a.body.removeChild(f);g_tutorial_flags|=TUTORIAL_FLAG_CONTEXT;save_tutorial_flags()},!1)}}
function element_is_detached(a,b,c){if(!b||!a&&(a=b.ownerDocument,!a))return!1;var d=null;try{15<c&&(d=!1),null==b.parentNode&&(d=!0),b.parentNode==a.body&&(d=!1)}catch(e){d=!0}return null==d?element_is_detached(a,b.parentNode,c+1):d}
function ForceFillOrphanFieldClicked(a,b,c){if(!a&&(a=elt.ownerDocument,!a))return!1;var d=!0;if(d=ForceFillFieldClicked(a,b,!1,c))for(var e=a.getElementsByTagName("INPUT"),f=0,f=0;f<e.length&&f<MAX_INPUTS_HARD;f++)if(e[f]==b&&e[f+1]&&f+1<e.length&&f+1<MAX_INPUTS_HARD){isInputFieldPassword(a,e[f+1])&&!lpIsFieldCurrentPWField(e[f+1])&&(d=ForceFillFieldClicked(a,e[f+1],!1,c));break}return d}
function LP_inIframe(a){a||(a=window);if(null==g_inframe)try{return a.self!==a.top}catch(b){return!0}else return g_inframe}function toplevelpopupsetstate_handler(a){g_create_iframe_in_top&&toplevel_iframe_state_set(a?!0:!1)}function toplevel_iframe_state_get(){return g_toplevel_iframe_exists}function toplevel_iframe_state_set(a){g_toplevel_iframe_exists=a}
function LP_computeFixedPos(a,b,c){if(!a||!c)return null;var d,e,f,g;try{b?(d=parseInt(b.top)+"px",e=parseInt(b.left)+"px"):e=d="10px";if(0>parseInt(d)||!d||"NaNpx"==d)d="10px";if(0>parseInt(e)||!e||"NaNpx"==e)e="10px";f=g_minheight_override;g=g_minwidth_override;f=0>parseInt(f)||!f||"NaNpx"==f?"90px":parseInt(f)+"px";g=0>parseInt(g)||!g||"NaNpx"==g?"300px":parseInt(g)+"px";if(0>parseInt(d)||!d||"NaNpx"==d)d="10px";if(0>parseInt(e)||!e||"NaNpx"==e)e="10px";return{left:e,top:d,width:g,height:f}}catch(k){}return null}
function place_iframe_fixed(a,b,c,d){if(!c)return!1;if(!a&&(a=LP_derive_doc(),!a))return null;b||(b=window);var e,f,g,k,m="";try{if(toplevel_iframe_state_get()){var j=LP_computeFixedPos(a,d,b);j?(e=j.top,k=j.width,g=j.height,f=j.left):(e="10px",k="300px",g="90px",f="10px");g=0>parseInt(g)||!g||"NaNpx"==g?"90px":parseInt(g)+"px";k=0>parseInt(k)||!k||"NaNpx"==k?"240px":parseInt(k)+"px";m="width: "+k+" !important; height: "+g+" !important; top:"+e+" !important; left:"+f+" !important; position: fixed;"}else pass;
a="display:block; position:fixed !important; visibility:visible !important; z-index:"+CLICKABLE_ICON_ZINDEX+" !important; border-style:none !important;"+m;c.style.cssText!=a&&(c.style.cssText=a)}catch(p){return verbose&&alert("place_fixed: "+p.message),!1}return!0}
function place_iframe_absolute(a,b,c,d,e){if(!c||!a||!b||!d)return!1;var f=null,g;if("undefined"!=typeof Math){try{var k=d.posx,m=d.posy,j=parseInt(k)+"px",p=parseInt(m)+"px";d=0;0<parseInt(g_minwidth_override)?(d=Math.max(parseInt(g_popupfill_iframe_width_save),parseInt(g_minwidth_override))+"px",(g=LP_getWindowWidth(b))&&parseInt(d)+parseInt(j)>g&&(j=g-parseInt(d)-20+"px")):0<parseInt(g_popupfill_iframe_width_save)?d=parseInt(g_popupfill_iframe_width_save)+"px":(null==f&&(f=LP_getComputedStyle(b,
c)),d=f.width);0>parseInt(j)&&(j="0px");g=0;0<parseInt(g_minheight_override)?g=Math.max(parseInt(g_popupfill_iframe_height_save),parseInt(g_minheight_override))+"px":""!=g_popupfill_iframe_height_save&&0<parseInt(g_popupfill_iframe_height_save)?g=parseInt(g_popupfill_iframe_height_save)+"px":(null==f&&(f=LP_getComputedStyle(b,c)),f&&(g=f.height));if(g_iframe_scroll_hack&&!g_frame_scrollable_set){var r=parseInt(g),q=parseInt(d),n;n=b&&"undefined"!=typeof b.getComputedStyle?g_isfirefox?LP_getComputedStyle(b,
a.documentElement):LP_getComputedStyle(b,a.body):"undefined"!=typeof a.documentElement?LP_getComputedStyle(b,a.documentElement):LP_getComputedStyle(b,a.body);parseInt(n.height);parseInt(n.width);var s=b.innerHeight,v=b.innerWidth;if(null!=r&&0<r&&null!=s&&0<s||null!=q&&0<q&&null!=v&&0<v)if((parseInt(m)+r>s||parseInt(k)+q>v)&&LP_inIframe(b)){if(g_isfirefox){enableScrollWithinIframe(a,b);var w=LP.getBrowser(),u=w?w.contentDocument:null;u&&u!=a&&enableScrollOnIframe(a.location.href,e)}else g_isie||(verbose_log("ensuring this frame/iframe has scrolling enabled"),
sendBG({cmd:"iframescrollenable",href:a.location.href}));g_frame_scrollable_set=!0}}if("NaNpx"==p||""===p||"NaNpx"==j||""===j||"NaNpx"==d||""===d||"NaNpx"==g||""===g)verbose_log("invalid iframe pos"),closepopupfills(a);a=g_frame_css_str+("width: "+d+" !important; height: "+g+" !important; top:"+p+" !important; left:"+j+" !important; position: absolute;");c.style.cssText!=a&&(c.style.cssText=a)}catch(C){verbose&&alert("place_abs "+C.message)}return True}}
function ff_get_iframe_pos(a,b,c,d,e){if(!g_isfirefox||!e)return null;var f;b=null;c=[];try{var g=e.getElementsByTagName("iframe");for(f=0;f<g.length&&50>f;f++)url_is_lpfirefox_iframe(g[f].src)||(c[c.length]=g[f]);g=e.getElementsByTagName("frame");for(f=0;f<g.length&&50>f;f++)c[c.length]=g[f];var k=getIconState(a,d);if(k)if(g=f=a=null,k&&k.inframe){verbose_log("Input is in frame!");for(k=k=0;k<c.length;k++){f=null;verbose_log("Trying frame "+c[k].src);try{f=c[k].contentDocument;var m=LP_getElementByIdOrName(f,
d);if(m&&"INPUT"==m.tagName){verbose_log("Found INPUT "+d+" in "+f.location.href);g=LP_getAbsolutePos(e,c[k]);break}}catch(j){verbose_log("Error frame traverse "+j.message);return}}if(f&&g&&(verbose_log("computing iframe position [against iframe]"),a=LP_getElementByIdOrName(f,d))){var p=ff_calculate_iframe_pos(f,a,0<g_minwidth_override?g_minwidth_override:0);b={posx:parseInt(p.posx)+g.left+"px",posy:parseInt(p.posy)+g.top+"px"};verbose_log("computed x="+b.posx+" y="+b.posy)}}else null!=k&&!isEmptyObject(k)?
(verbose_log("computing iframe position [against toplevel]"),(a=LP_getElementByIdOrName(e,d))&&(b=ff_calculate_iframe_pos(e,a,0<g_minwidth_override?g_minwidth_override:0))):verbose_log("data object is missing for "+d)}catch(r){verbose&&alert("ff_pos "+r.message)}return b}function LP_do_toplevel_iframe_hack(a){return!a||g_isie||g_isfirefox?!1:!0}function LP_floating_icon_exists(a,b){return!a&&(a=LP_derive_doc(),!a)?!1:null==LP_getElementByIdOrName(a,LPMAGIC+b)}
function checkDocumentForNonLoginOrphans(a){if(null==a)return!1;var b=formcacheget(a,"fakedoc","orphan-signup"),c=formcacheget(a,"fakedoc","orphan-registration"),d=formcacheget(a,"fakedoc","orphan-cc"),b=b||c||d;if(null!=b)return g_ctr_formcache_hits++,b;g_ctr_formcache_misses++;b=RegExp(lpgs("ff_firstname_regexp"),"i");c=RegExp(lpgs("ff_lastname_regexp"),"i");d=RegExp(lpgs("ff_cctype_regexp"),"i");lpgs("ff_address1_regexp");lpgs("ff_forgot_regexp");lpgs("ff_remember_regexp");var e=!1,f=!1,g=!1,k=
!1,m=!1;try{gettldcached(a.location.href)}catch(j){return!1}for(var p=0,r=a.getElementsByTagName("INPUT"),q=0;q<r.length&&20>q;q++){var n=r[q];if("INPUT"==n.tagName){LP_isRememberCheckbox(n)&&(lpIsVisible(n)&&!LP_fieldIsDisabled(n))&&p++;if("email"==n.type||"text"==n.type||"password"==n.type){if(LP_fieldIsDisabled(n))continue;if(!0==n.disabled)continue;if(!valid_by_role(a,n))continue;if(!lpIsVisible(n))continue;if(is_search_field(a,n,!0))continue;var s=n.name,v=n.id?n.id:"",w=lpGetTextBeforeFormField(n);
looksLikeUsername(n)?e=!0:isInputFieldPassword(a,n)?f=!0:b.exec(v)||b.exec(s)||b.exec(w)?g=!0:c.exec(v)||c.exec(s)||c.exec(w)?k=!0:d.exec(v)||d.exec(s)||d.exec(w)?m=!0:regexp_address1.exec(v)||regexp_address1.exec(s)||regexp_address1.exec(w);p++}if(3<=p){if(e&&f&&!m)return verbose_log("document appears to be have orphan signup fields"),formcacheset(a,"fakedoc","orphan-signup",!0),formcacheset(a,"fakedoc","orphan-cc",!1),formcacheset(a,"fakedoc","orphan-registration",!1),!0;if(m&&!e&&!f)return verbose_log("document appears to be have orphan credit card fields"),
formcacheset(a,"fakedoc","orphan-cc",!0),formcacheset(a,"fakedoc","orphan-signup",!1),formcacheset(a,"fakedoc","orphan-registration",!1),!0;if((g||k)&&e)return verbose_log("document appears to be have orphan registration fields"),formcacheset(a,"fakedoc","orphan-registration",!0),formcacheset(a,"fakedoc","orphan-signup",!1),formcacheset(a,"fakedoc","orphan-cc",!1),!0}}}formcacheset(a,"fakedoc","orphan-signup",!1);formcacheset(a,"fakedoc","orphan-cc",!1);formcacheset(a,"fakedoc","orphan-registration",
!1);return!1}function checkDocumentHasOrphanSignup(a){if(!a)return!1;var b=formcacheget(a,"fakedoc","orphan-signup");if(null!=b)return g_ctr_formcache_hits++,b;checkDocumentForNonLoginOrphans(a);return formcacheget(a,"fakedoc","orphan-signup")}function checkDocumentHasOrphanCC(a){if(!a)return!1;var b=formcacheget(a,"fakedoc","orphan-cc");if(null!=b)return g_ctr_formcache_hits++,b;checkDocumentForNonLoginOrphans(a);return formcacheget(a,"fakedoc","orphan-cc")}
function checkDocumentHasOrphanRegistration(a){if(!a)return!1;var b=formcacheget(a,"fakedoc","orphan-registration");if(null!=b)return g_ctr_formcache_hits++,b;checkDocumentForNonLoginOrphans(a);return formcacheget(a,"fakedoc","orphan-registration")}
function LP_should_ignore_this_doc(a){if(!a||!a.location)return!0;a=a.location.href;return 0==a.indexOf("chrome:")||(0==a.indexOf("chrome-extension://")||0==a.indexOf("safari-extension://")||0==a.indexOf("about:")||0==a.indexOf("javascript:")||0==a.indexOf("resource:"))||0<a.indexOf(".xul")?!0:!1}function LP_elt_get_text(a){return!a?"":"undefined"!=typeof g_isfirefox&&g_isfirefox?null==a.textContent?"":a.textContent:null==a.innerText?"":a.innerText}
function LP_elt_set_text(a,b){if(!a)return!1;"undefined"!=typeof g_isfirefox&&g_isfirefox?a.textContent=b:a.innerText=b;return!0}
function checkDocumentForLoginOrphansFirstStage(a){if(!a)return!1;var b=formcacheget(a,"fakedoc","orphan-first");if(null!=b)return g_ctr_formcache_hits++,b;g_ctr_formcache_misses++;if("undefined"!=typeof Math){for(var b=[],c=[],d=0,e=!1,f=Math.floor(1E4*Math.random()),g=["input"],k=0;k<g.length;k++)for(var m=a.getElementsByTagName(g[k]),j=0;j<m.length;j++){elt=m[j];if(20<j)break;if(!m[j].form&&checkIsDisplayed(a,m[j],0,null,f)){verbose_log("checking "+LP_pickFieldName(a,elt));if(null!=elt.id&&""!=
elt.id){var p=c[elt.id];if(null==p)c[elt.id]=!0;else continue}if(null!=elt.name&&""!=elt.name)if(p=b[elt.name],null==p)b[elt.name]=!0;else continue;looksLikeUsername(elt)&&d++;if(isInputFieldPassword(a,elt)){e=!0;break}if(2<d)break}}if(0<d&&4>=d&&!1==e)return verbose_log("orphan and isolated login field found"),formcacheset(a,"fakedoc","orphan-first",!0),!0;formcacheset(a,"fakedoc","orphan-first",!1);return!1}}
function checkDocumentForLoginFirstStageForm(a){if(!a)return!1;var b=MAX_FORMS_SOFT;LP_exceedFormsThreshold(a)||(b=MAX_FORMS_HARD);for(var c=a.getElementsByTagName("form"),d=!1,e=0;e<c.length&&e<b;e++)if(d=checkFormForLoginFirstStage(a,c[e]))return d;return!1}
function checkFormForLoginFirstStage(a,b){if(null==a||null==b||"FORM"!=b.tagName)return!1;var c=LP_pickFormName(a,b);verbose_log("checking "+c+" for first stage of multi-stage login");var d=formcacheget(a,c,"multi-first");if(null!=d)return g_ctr_formcache_hits++,d;g_ctr_formcache_misses++;if("undefined"==typeof Math)return False;for(var d=0,e=!1,f,g=Math.floor(1E4*Math.random()),k=0,m=0;20>m&&m<b.elements.length;m++)if(f=b.elements[m],"INPUT"==f.tagName&&checkIsDisplayed(a,f,0,null,g)){looksLikeUsername(f)&&
d++;("text"==f.type||"tel"==f.type||"url"==f.type||"email"==f.type||"textarea"==f.type)&&k++;if(isInputFieldPassword(a,f)){e=!0;break}if(2<=d)break;if(2<=k)break}if(0<d&&3>=d&&!1==e&&2>k)return verbose_log("isolated login field/initial stage of multi-stage found"),formcacheset(a,c,"multi-first",!0),!0;formcacheset(a,c,"multi-first",!1);return!1}
function computeFingerprint(a){if(!a)return"";var b="",c=a.getElementsByTagName("INPUT"),d;for(d=0;d<c.length&&20>d;d++)b+=c[d].id?c[d].id:c[d].name;a=a.getElementsByTagName("DIV");return b+=a.length.toString()}function LP_firstVisibleOrphan(a){if(!a)return null;a=a.getElementsByTagName("INPUT");var b,c=null;for(b=0;b<a.length&&50>b;b++)if(c=a[b],!c.form&&("text"==c.type||"password"==c.type||"url"==c.type||"email"==c.type)&&lpIsVisible(c))return c;return null}
function LP_has_textlike_type(a){if(!a||"INPUT"!=a.tagName)return!1;var b="text number email tel url textarea".split(" "),c;for(c in b)if(b.hasOwnProperty(c)&&a.type==b[c])return True;return False}function LP_get_cached_body_rect(a){if(!a)return null;var b;b=LP_get_body_reference(a);"undefined"==typeof a.g_posbodyrect_cache&&b?(b=b.getBoundingClientRect(),a.g_posbodyrect_cache=b):b=a.g_posbodyrect_cache;return b}
function LP_get_body_reference(a){if(!a)return null;var b=null;"undefined"!=typeof a.body?b=a.body:a.getElementById("main")&&(b=a.getElementById("main"));return b}
function LP_get_cached_body_style(a){if(!a)return null;var b=LP_get_body_reference(a);if("undefined"==typeof a.g_posbodystyle_cache){var c="undefined"!=typeof window&&window?window:a.defaultView,b=c&&"undefined"!=typeof c.getComputedStyle?c.getComputedStyle(b,null):b.currentStyle;a.g_posbodystyle_cache=b}else b=a.g_posbodystyle_cache;return b}
function LP_get_live_style(a){if(!a||!a.ownerDocument||!g_isie&&!a.ownerDocument.defaultView)return null;var b;if(g_isie&&a.currentStyle)b=a.currentStyle;else try{b=a.ownerDocument.defaultView.getComputedStyle(a,"")}catch(c){"undefined"!=typeof a.currentStyle&&(b=a.currentStyle)}return b}function LP_treat_as_hidden(a){return!a||"hidden"==a.type||!a.parentNode||0==a.id.indexOf("hidden")&&("none"==a.style.display||"none"==a.parentNode.style.display)?!0:!1}
function LP_input_has_bg_style_override(a){if(!a||!g_stylesheet_grubbing)return!1;var b=!1;try{var c=formcacheget(a,"fakedoc","input-bg-style");if(null!=c)return g_ctr_formcache_hits++,c;g_ctr_formcache_misses++;var d=c=0,e=/(background|background-color):[^:].*!important/,f=a.styleSheets;if(f&&e)for(c=0;c<f.length&&32>c;c++){var g=null;"undefined"!=typeof f[c].rules?g=f[c].rules:"undefined"!=typeof f[c].cssRules&&(g=f[c].cssRules);if(g){for(d=0;d<g.length;d++)if(g[d]&&g[d].selectorText&&g[d].cssText&&
-1!=g[d].selectorText.indexOf("input:focus")){var k=g[d].cssText;if(k&&e.exec(k)){verbose_log("focus hack:"+k);b=!0;break}}if(b)break}}}catch(m){}formcacheset(a,"fakedoc","input-bg-style",b);return b}
function is_wacky_disp(a,b){a||(a=LP_derive_doc());if(!a||!b)return!1;if(b==a.body)return!0;var c=!0;try{var d=LP_get_live_style(b);if(d){if("none"==d.display||"hidden"==d.visibility)c=!1;if(!0==c&&(!b.offsetHeight||!b.offsetHeight))c=!1;if(!0==c&&(0==d.height||0==d.width))c=!1;if(!0==c&&(2>parseInt(d.height)||2>parseInt(d.width)))c=!1;if(!0==c&&(0>parseInt(d.left)&&"auto"!=d.left||0>parseInt(d.top)&&"auto"!=d.top))c=!1;!0==c&&("-1px"==d.marginTop&&1==b.offsetHeight)&&(c=!1);if(!0==c&&(3>b.offsetHeight||
3>b.offsetWidth))c=!1;if(!0==c&&("transparent"==d.backgroundColor&&"transparent"==d.color||g_isie&&"transparent"==d.backgroundColor&&""==d.color||"rgba(0, 0, 0, 0)"==d.backgroundColor&&"rgba(0, 0, 0, 0)"==d.color))c=!1;!0==c&&(d.opacity&&0.02>parseFloat(d.opacity))&&(c=!1);if(!0==c&&g_isie&&d.filter){var e=/alpha\(opacity=(\d+)\)/.exec(d.filter);e&&(e[1]&&2>parseInt(e[1]))&&(c=!1)}}}catch(f){c=!0}if(c)try{var g=b.parentNode;g||(c=!1);var k=LP_get_live_style(g);if(k){if(!0==c&&("none"==k.display||
"hidden"==k.visibility))c=!1;if(!0==c&&(0>parseInt(k.left)&&"auto"!=k.left||0>parseInt(k.top)&&"auto"!=k.top))c=!1;if(!0==c&&(3>parseInt(k.height)&&"auto"!=k.height||3>parseInt(k.width)&&"auto"!=k.width)&&("hidden"==k.overflowY||"hidden"==k.overflow))c=!1}}catch(m){c=!0}return c}function LP_get_text_dir(a){var b=!0;if(a){var c=LP_get_live_style(a);c&&"rtl"==c.direction?b=!1:"rtl"==a.getAttribute("dir")&&(b=!1)}return b}
function is_random_hashstr(a){return!a?!1:(16==a.length||32==a.length)&&a.match(/^[a-zA-Z0-9]+$/)&&a!=a.toLowerCase()&&a.match(/[0-9]/)&&a!=a.toUpperCase()||32==a.length&&a.match(/^[a-f0-9]+$/)||a.match(/_\d{18}[A-Z]{4}_/)||17==a.length&&"a"==a.charAt(0)&&a.match(/^[a-zA-Z0-9_]+$/)&&a!=a.toLowerCase()&&a.match(/[0-9]/)&&a!=a.toUpperCase()?!0:!1}
var LPCFG={do_popup_actions:!0,popup_show_sitename_suffix:!0,popup_show_menu_expand_visual_cue:!0,g_do_icon_number_hint:!0,g_creditcard_profile_annotate:!0,g_visual_cue_on_hover:!0,RETRY_TIMEOUT_QUANTUM:30,__FINAL:0},LPIFRAMEVARS={g_genpws:[],g_myprefs:{},g_should_set_prefs:!0,g_sites:null,g_formfills:null,g_favicons:null,_FINAL:0},LPpop={create_popup_obj:function(a,b){function c(a){var b=0,c;for(c in a)b++;return b}if(do_experimental_popupfill){var d="undefined"!=typeof g_isfirefox&&g_isfirefox?
"html:":"",e=null,f=null,g=null,k=null,k=a.createElement(d+"div");k.style.display="block";k.style.border="0";if(!k)return null;var m=f=null,j=f=null,p,r,q,n=0,g=0;LPCFG.popup_show_menu_expand_visual_cue&&(g=24);r="undefined"!=typeof measureText?measureText:LP_measureText;var s={};"undefined"!=typeof b.favicons&&(s=LPJSON.parse(b.favicons));f=a.createElement(d+"div");if(!f)return null;f.setAttribute("id","popupcontainer");k.appendChild(f);m=a.createElement(d+"table");if(!m)return null;m.setAttribute("id",
"lptabpopup");f.appendChild(m);f=a.createElement(d+"div");if(!f)return null;f.setAttribute("id","popupcontainerff");k.appendChild(f);j=a.createElement(d+"table");if(!j)return null;j.setAttribute("id","lptabpopupformfills");j.style.display="none";f.appendChild(j);tbodyff=a.createElement(d+"tbody");tbodyff.setAttribute("id","lptbodyff");j.appendChild(tbodyff);if("undefined"==typeof b.sites)j=0;else for(q in p=LPpop.getAutoFillArray(a,LPJSON.parse(b.sites),!0),j=c(p),p)if(p.hasOwnProperty(q)&&null!=
p[q]&&null!=p[q].useusername){var v=p[q].useusername;0>=v.length&&(v=p[q].name);var w=v,e=a.createElement(d+"tr");if(!e)return null;e.setAttribute("id","trpopuprow"+lp_ofa(q));e.setAttribute("aid",p[q].aid);e.setAttribute("sitename",p[q].name);e.setAttribute("username",p[q].useusername);e.className="popuprow";m.appendChild(e);f=a.createElement(d+"td");if(!f)return null;f.setAttribute("id","tdpopuprow"+lp_ofa(q));f.setAttribute("aid",lp_ofa(p[q].aid));e.appendChild(f);"undefined"!=typeof s[p[q].aid]&&
(e=LPpop.gen_image_frag(a,LPpop.lookup_favicon(p[q].aid)))&&f.appendChild(e);e=a.createElement(d+"span");if(!e)return null;e.setAttribute("id","spanpopuprow"+lp_ofa(q));e.className="popcell shortenstr";LP_elt_set_text(e,v);f.appendChild(e);LPCFG.popup_show_menu_expand_visual_cue&&(e=LPpop.visual_cue_frag(a,"expand",q))&&f.appendChild(e);LPCFG.popup_show_sitename_suffix&&(e=LPpop.subscript_name_frag(a,p[q].name))&&f.appendChild(e);f=r(a,lp_of(w,a),null,"font-size: 14px;font-family: Helvetica,Arial,sans-serif;font-weight:bold;");
f.width+20+g>n&&(n=f.width+20+g)}if("undefined"==typeof b.formfills)r=0;else{m=LPJSON.parse(b.formfills);r=c(m);for(p=0;1>=p;p++)for(q in m)if(m.hasOwnProperty(q)&&null!=m[q]&&null!=m[q].decprofilename&&null!=m[q].profiletype&&parseInt(m[q].profiletype)===p){e=a.createElement(d+"tr");if(!e)return null;e.setAttribute("id","trpopupffrow"+lp_ofa(q));e.setAttribute("ffid",m[q].ffid);e.setAttribute("profilename",m[q].decprofilename);e.setAttribute("formtype",p);""!=m[q].ccnum&&0==m[q].profiletype&&e.setAttribute("hascc",
"1");e.className="popuprow";tbodyff.appendChild(e);f=a.createElement(d+"td");if(!f)return null;f.setAttribute("id","tdpopupffrow"+lp_ofa(q));f.setAttribute("ffid",m[q].ffid);e.appendChild(f);"undefined"!=typeof s[m[q].ffid]&&(e=LPpop.gen_image_frag(a,LPpop.lookup_favicon(m[q].ffid)))&&f.appendChild(e);w=lp_of(m[q].decprofilename,a);e=a.createElement(d+"span");e.className="popcell shortenstr";e.setAttribute("id","spanpopupffrow"+lp_ofa(q));LP_elt_set_text(e,lp_of(m[q].decprofilename,a));f.appendChild(e);
LPCFG.g_creditcard_profile_annotate&&1==p&&(v=a.createElement(d+"span"),v.className="cc",LP_elt_set_text(v,"("+lpgs("Credit Card")+")"),e.appendChild(v),w+=lpgs("Credit Card"));LPCFG.popup_show_menu_expand_visual_cue&&(e=LPpop.visual_cue_frag(a,"expandff",q))&&f.appendChild(e);f=measureText(a,w,null,"font-size: 14px;font-family: Helvetica,Arial,sans-serif;font-weight:bold;");f.width+20+g>n&&(n=f.width+20+g)}}if(LPCFG.do_popup_actions){if(0<r){e=a.createElement(d+"tr");if(!e)return null;e.className=
"tablerow_sep";tbodyff.appendChild(e);f=a.createElement(d+"td");if(!f)return null;e.appendChild(f);g=a.createElement(d+"hr");if(!g)return null;f.appendChild(g)}}else if(0>=j&&0>=r)return null;300<n&&(n=300);g_popupfill_widest=n;return k}},visual_cue_frag:function(a,b,c){var d=null,e="undefined"!=typeof g_isfirefox&&g_isfirefox?"html:":"";if(!b||!a)return null;if(LPCFG.popup_show_menu_expand_visual_cue){d=a.createElement(e+"span");if(!d)return null;d.setAttribute("id",b+lp_ofa(c));d.setAttribute("expander",
"true");d.className="expander";LPCFG.g_visual_cue_on_hover&&(d.style.display="none");if(a=LPpop.gen_image_frag(a,"arrow.png"))a.setAttribute("id",b+"img"+lp_ofa(c)),a.setAttribute("alt","+"),d.appendChild(a)}return d},subscript_name_frag:function(a,b){var c=null;if(!a)return null;var d="undefined"!=typeof g_isfirefox&&g_isfirefox?"html:":"";b&&0<b.length&&(c=a.createElement(d+"p"),c.className="subtext",LP_elt_set_text(c,lp_of(b,a)));return c},gen_image_frag:function(a,b){if(!a)return null;var c="undefined"!=
typeof g_isfirefox&&g_isfirefox?"html:":"",d=null;if(g_isfirefox){d=a.createElement("image");if(!d)return null;d.setAttribute("src",b);d.style.padding="2px"}else{d=a.createElement(c+"img");if(!d)return null;d.setAttribute("src",b);d.style.padding="2px";d.setAttribute("alt","")}return d},set_icon_hint_from_data:function(a,b){function c(a){var b=0,c;for(c in a)b++;return b}if(LPCFG.g_do_icon_number_hint){var d,e;"undefined"==typeof b.sites?d=0:(d=LPpop.getAutoFillArray(a,LPJSON.parse(b.sites),!0),d=
c(d));"undefined"==typeof b.formfills?e=0:(e=LPJSON.parse(b.formfills),e=c(e));g_icon_numbers.sites=d;g_icon_numbers.formfills=e}},getAutoFillArray:function(a,b,c){var d=[];a=punycode.URLToASCII(a.location.href);lpcanonizeUrl(a);for(var e in b)if(!b[e].genpw||c)d[e]=b[e];return d},lookup_username:function(a){var b;if(LPIFRAMEVARS&&LPIFRAMEVARS.g_sites&&null!==a)for(b in LPIFRAMEVARS.g_sites)if(LPIFRAMEVARS.g_sites[b]&&LPIFRAMEVARS.g_sites[b].aid==a){a=LPIFRAMEVARS.g_sites[b];if(a.useusername)return a.useusername;
if(a.unencryptedUsername)return a.unencryptedUsername;break}return""},lookup_sitename:function(a){var b;if(LPIFRAMEVARS&&LPIFRAMEVARS.g_sites&&null!==a)for(b in LPIFRAMEVARS.g_sites)if(LPIFRAMEVARS.g_sites[b]&&LPIFRAMEVARS.g_sites[b].aid==a){a=LPIFRAMEVARS.g_sites[b];if(a.sitename)return a.sitename;if(a.name)return a.name;break}return""},lookup_profile:function(a){var b;if(LPIFRAMEVARS&&LPIFRAMEVARS.g_formfills&&null!==a)for(b in LPIFRAMEVARS.g_formfills)if(LPIFRAMEVARS.g_formfills[b]&&LPIFRAMEVARS.g_formfills[b].ffid==
a){a=LPIFRAMEVARS.g_formfills[b];if(a.decprofilename)return a.decprofilename;if(a.decprofilename)return a.profilename;break}return""},lookup_favicon:function(a){if(LPIFRAMEVARS&&LPIFRAMEVARS.g_favicons&&null!==a)return(a=LPIFRAMEVARS.g_favicons[a])?a:null},__FINAL__:0},build_id="lastpass",CPWbot_cs;CPWbot_cs||(CPWbot_cs=new CPWbot_cs_lib);
function CPWbot_cs_lib(){this.JSON=JSON;JSON||(this.JSON=LPJSON);this.alert=alert;this.fill_field=function(a,b){a||(a=LP_derive_doc());if(!b||!a)return!1;var c=0,d=this.getElementByType(a,b);d?g_isfirefox?this.alert("TODO"):(verbose_log("filling element ty="+b.id_type+" val="+b.id_value),d.focus(),d.value=b.field_value,fire_onchange(d),c=1):verbose_log("unable to find element ty="+b.id_type+" val="+b.id_value);sendBG({cmd:"cpwbot_fill_ack",url:a.location.href,docstate:a.readyState,id_type:b.id_type,
id_value:b.id_value,found:c?1:0});return!0};this.click_field=function(a,b){a||(a=LP_derive_doc());if(!b||!a)return!1;var c=this.getElementByType(a,b),d=0;c?(verbose_log("[docnum:"+g_docnum+"][state:"+b.pwchangestate+"] clicking element ty="+b.id_type+" val="+b.id_value),this.do_click(a,c),d=1):verbose_log("[docnum:"+g_docnum+"][state:"+b.pwchangestate+"] unable to find element in this frame to click : ty="+b.id_type+" val="+b.id_value);g_isfirefox?alert("TODO"):sendBG({cmd:"cpwbot_click_ack",url:a.location.href,
docstate:a.readyState,pwchangestate:b.pwchangestate,msgid:b.msgid,id_type:b.id_type,id_value:b.id_value,found:d?1:0})};this.clear_field=function(a,b){a||(a=LP_derive_doc());return!b||!a?!1:!0};this.execute_script=function(a,b){a||(a=LP_derive_doc());if(!b||!a)return!1;var c=b.js;c&&(verbose_log("["+g_docnum+"] executing JS: "+c),c="try{"+c+"}catch(e) {}",g_isfirefox?(this.alert("TODO"),pass):run_custom_js(a,c));return!0};this.getElementByType=function(a,b){a||(a=LP_derive_doc());if(!b||!a)return null;
var c=null,d=null,d=b.id_type,e=b.id_value,f=666;if(d&&e)switch(d){case "id":c=a.getElementById(e);break;case "name":(d=a.getElementsByName(e))&&0<d.length&&(c=d[0]);break;case "xpath":g_isie&&"undefined"!=typeof init_LPfn&&(init_LPfn()&&LPfn)&&(f=LPfn.getDocumentMode(a));8>f?alert("old IE - does not bundle in XPATH support. TODO "):c=LP_getElementByXPath(a,e);break;default:pass}return c};this.getElementsByType=function(a,b){a||(a=LP_derive_doc());if(!b||!a)return null;var c=null,d=[],e=b.type,f=
b.val,g=666;if(e&&f)switch(e){case "id":(c=a.getElementById(f))&&d.push(c);break;case "name":a.getElementsByName(f);break;case "xpath":g_isie&&"undefined"!=typeof init_LPfn&&(init_LPfn()&&LPfn)&&(g=LPfn.getDocumentMode(a));8>g?this.alert("old IE - does not bundle in XPATH support. TODO "):LP_getElementsByXPath(a,f);break;default:pass}return c};this.click_submit_field=function(a,b){a||(a=LP_derive_doc());return!b||!a?null:!0};this.field_is_displayed=function(a,b){a||(a=LP_derive_doc());return!b||!a?
!1:lpIsVisible(a,b)&&is_wacky_disp(a,b)?!0:!1};this.do_click=function(a,b){a||(a=LP_derive_doc());if(!b||!a||!this.field_is_displayed(a,b))return!1;b.focus();g_isfirefox?fireEvent(b,"click","MouseEvents"):LP_fireEvent(b,"click","MouseEvents");return!0};this.decode_fields_metainfo=function(a){var b="";a&&(b=this.JSON.parse(a));return b};this.validate_page_fields=function(a,b,c,d,e,f,g){if(!a)return null;e=!0;var k={};verbose_log("running validate_page_fields in frame "+g_docnum+" for "+b);c||(c=[]);
d||(d=[]);b=!1;var m=0,j=0,p=0,r;if(f){r=RegExp(f,"i");var q=punycode.URLToASCII(a.location.href);if(r.exec(q))return k.num_ok_matches=null,k.num_okfields=null,k.found_bad_match=null,k.num_badfields=null,k.url_success_match=!0,k.url_failure_match=!1,k.do_retry=!1,k.retval=!0,L("["+g_docnum+"] returning true, matched success url "+f),k}if(g&&(r=RegExp(g,"i"),q=punycode.URLToASCII(a.location.href),r.exec(q)))return k.num_ok_matches=null,k.num_okfields=null,k.found_bad_match=null,k.num_badfields=null,
k.url_failure_match=!0,k.url_success_match=!1,k.do_retry=!1,k.retval=!1,L("["+g_docnum+"] returning false, matched failure url "+g),k;for(f=0;f<c.length;f++)if(r=c[f].id_type,g=c[f].id_value,r=this.getElementByType(a,{id_type:r,id_value:g}))m++,j++;else{verbose_log("["+g_docnum+"] DID NOT FIND REQUIRED FIELD "+g);break}j<c.length&&(b=!0,e=null);if(e)for(f=0;f<d.length;f++)if(r=d[f].id_type,g=d[f].id_value,r=this.getElementByType(a,{id_type:r,id_value:g})){m++;p=1;verbose_log("["+g_docnum+"] FOUND REJECT FIELD "+
g);b=e=!1;break}else b=!0;if(0===m&&(0<c.length||0<d.length))e=null;k&&(k.num_ok_matches=j,k.num_okfields=c.length,k.found_bad_match=p,k.num_badfields=d.length,k.do_retry=b,k.retval=e,k.url_success_match=!1,k.url_failure_match=!1);return k};this.interrogate=function(a,b,c){if(b&&!(10<c)){var d=b.desc;"undefined"==typeof c&&(c=1);"complete"!=a.readyState?(verbose_log("["+g_docnum+"] retry "+d+" in 500ms doc state is "+a.readyState),setTimeout(function(){CPWbot_cs.interrogate(a,b,c+1)},500)):g_cpwbot&&
CPWbot_cs&&CPWbot_cs.interrogate_validate(a,b)}};this.interrogate_validate=function(a,b,c){if(!b||10<c)return!1;if("undefined"==typeof c||null===c)c=1;var d=b.desc,e=b.required_fields,f=b.rejected_fields,g=b.required_url,k=b.rejected_url,m=b.id,j=b.validate_timeout,p=b.timestamp,p=((new Date).getTime()-p)/1E3;if("undefined"==typeof j||null===j)j=0;if(0<j&&c>=j/2E3)return L("terminate loop  ["+g_docnum+"] VT:"+j+" T:1000 ctr"+c+" elapsed time is "+p+" sec"),!1;L("WTF??  ["+g_docnum+"] VT:"+j+" T:1000 ctr"+
c+" elapsed time is "+p+" sec");var r=CPWbot_cs.decode_fields_metainfo(e),q=CPWbot_cs.decode_fields_metainfo(f);if(0===r.length&&0===q.length&&!k&&!g)return verbose_log("["+g_docnum+"] warning: interrogate rcvd no inputs or urls to check against"),j=!0,sendBG({cmd:"cpwbot_validate_state_result",state:"STATE"+c,url:a.location.href,docstate:a.readyState,desc:d,id:m,required_fields:e,rejected_fields:f,required_url:g,rejected_url:k,result_obj:CPWbot_cs.JSON.stringify(n),result:CPWbot_cs.JSON.stringify(j)}),
!0;var n=CPWbot_cs.validate_page_fields(a,d,r,q,j,g,k);if(null===n)return null;j=n.retval;n.do_retry&&null===j?(verbose_log("["+g_docnum+"] ctr="+c+" elapsed="+p+" sec, validate_page_fields "+d+" retry in 1 second"),setTimeout(function(){var j=CPWbot_cs.interrogate_validate(a,b,c+1);j||(j=0===r.length&&0<q.length||0<r.length&&0<q.length&&0<n.num_ok_matches?!0:!1,g_isfirefox?pass:sendBG({cmd:"cpwbot_validate_state_result",state:"STATE_TIMEDOUT",url:a.location.href,docstate:a.readyState,desc:d,id:m,
required_fields:e,rejected_fields:f,required_url:g,rejected_url:k,result_obj:CPWbot_cs.JSON.stringify(n),result:CPWbot_cs.JSON.stringify(j)}))},1E3)):(null===j&&(verbose_log("["+g_docnum+"] cpwbot_validate_state_result retval===null FIXME"),j=!1),g_isfirefox?pass:sendBG({cmd:"cpwbot_validate_state_result",state:"STATE"+c,url:a.location.href,docstate:a.readyState,desc:d,id:m,required_fields:e,rejected_fields:f,required_url:g,rejected_url:k,result_obj:CPWbot_cs.JSON.stringify(n),result:CPWbot_cs.JSON.stringify(j)}));
return!0};return!0}
function display_cpw_message(a,b){if(a){var c=a.createElement("div");c.style.width="100%";c.style.height=window.innerHeight+"px";c.style.opacity="0.7";c.style.backgroundColor="#666666";c.id="cpwbg";c.style.position="absolute";c.style.top="0px";c.style.left="0px";a.body.appendChild(c);var d=a.createElement("div");d.id="cpwmsg";d.style.top="100px";d.style.left="100px";d.style.position="absolute";c.appendChild(d);d.style.backgroundColor="white";d.style.color="black";d.style.fontSize="40px";g_isfirefox?
d.textContent=b:d.innerText=b}}function cpw_hide_overlay(a){if(!a)return!1;(a=a.getElementById("lpiframeoverlaycpwmsg"))&&a.parentNode.removeChild(a);return!0}function do_cpw_overlay_handler(a){if(CPWbot_cs&&CPWbot_cs.JSON&&a.msg){var b=CPWbot_cs.JSON.parse(a.msg);b?(b=encodeURIComponent(b.msg),verbose_log("show overlay msg="+b),showoverlay(a,"&cpwbot="+b)):verbose_log("failure, !msg")}}var g_doexttable=1,g_cpwbot=!1,g_isdebug=!1;
