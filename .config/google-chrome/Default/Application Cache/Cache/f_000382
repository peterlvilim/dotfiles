Zc.prototype.extend=Y(1,function(a){for(var b=0;b<arguments.length;b++)vc(arguments[b],function(a,b){this.add(b,a)},this)});AM("appsshare");function f2a(){return'<div class="shared-parent-change"><span class="shared-parent-change-desc">Some settings cannot be changed because they are inherited from a shared folder.</span><span>[<span class="shared-parent-change-link" role="link">Change</span>]</span></div>'};function u$(a){this.hb=a;this.kd=void 0}u$.prototype.ya=function(){return this.hb};u$.prototype.setData=function(a){this.kd=a};u$.prototype.rb=function(){var a={};a["shsc-type"]=this.hb;a["shsc-data"]=this.kd;return ud(a)};function g2a(a){u$.call(this,"shsc-set-visible");this.setData(a)}w(g2a,u$);g2a.prototype.$=function(){return this.kd};function v$(a){u$.call(this,"shsc-set-ids");this.setData(a)}w(v$,u$);v$.prototype.nja=function(){return this.kd};function w$(a,b,c){x.call(this);this.zXa=a;this.Vua=b||null;this.YXa={};this.Ok={};this.I=new H(this);y(this,this.I);this.I.listen(c||n.window,"message",this.qk)}w(w$,x);w$.prototype.sendMessage=function(a){this.Vua&&this.Vua.postMessage(a.rb(),this.zXa)};w$.prototype.qk=function(a){a=a.Cc;if(a.origin==this.zXa){var b=a.data?sd(a.data):{};a=b["shsc-type"];var b=b["shsc-data"],c=this.YXa[a];if(c){var d=null;try{d=c(b)}catch(f){}d&&B(this.Ok[a],function(a){a.call(null,d)})}}};
function h2a(a,b){a.YXa[b]=i2a(b);a.Ok[b]||(a.Ok[b]=[])}function i2a(a){return function(){return new u$(a)}}function j2a(a,b,c){var d=a.Ok[b];d||(d=[],a.Ok[b]=d);d.push(c)};function x$(a,b,c){T.call(this,c);this.vb=a;this.Rfa=b;this.fca=!1;this.Zb=[];this.lPa=!1;this.xF=new w$(this.Rfa,void 0,this.D().getWindow());h2a(this.xF,"shsc-ready");h2a(this.xF,"shsc-close");j2a(this.xF,"shsc-ready",t(this.Snb,this));j2a(this.xF,"shsc-close",t(this.Rnb,this))}w(x$,T);x$.prototype.C=function(){this.O=Lf("iframe",{style:"display: none; background-color: transparent; position: absolute; top: 0; left: 0; z-index: 1006",src:this.vb,onload:t(this.wtb,this),IIb:0,height:"100%",width:"100%"})};
x$.prototype.wtb=function(){var a=this.o().contentWindow;this.xF.Vua=a};x$.prototype.Snb=function(){this.fca=!0;var a=this.Zb;this.Zb=a;this.fca&&this.xF.sendMessage(new v$(a));k2a(this,this.lPa)};x$.prototype.Rnb=function(){R(this.o(),!1);this.dispatchEvent("kg");this.dispatchEvent("lg")};function k2a(a,b){a.lPa=b;a.fca&&(R(a.o(),b),a.xF.sendMessage(new g2a(b)))};function l2a(a){T.call(this,a)}w(l2a,T);function y$(a){T.call(this,a)}w(y$,l2a);y$.prototype.Hi=function(a){var b=this.o();b&&(b.style.width=a+"px")};y$.prototype.If=function(){var a=this.o();return a?xn(a).height:0};function z$(a){T.call(this,a);this.pz=new x$("/modifyparentsremove",this.D().getWindow().location.origin);this.S(this.pz)}w(z$,y$);e=z$.prototype;e.Yb=function(){return!1};e.C=function(){this.O=S(f2a);this.Np=this.D().X("shared-parent-change-link",this.o());this.pz.C()};e.J=function(){z$.A.J.call(this);fg(this.Np,!0);this.L().nb(this.Np,Qm,this.I9a);this.L().listen(this.Np,"keypress",this.J9a);this.D().ea().body.appendChild(this.pz.o());this.L().listen(this.pz,"kg",this.xr)};
e.xr=function(){this.na&&this.Np.focus()};e.I9a=function(){k2a(this.pz,!0)};e.J9a=function(a){13==a.keyCode&&a.stopPropagation()};function A$(a,b){x.call(this);this.CAa=a;this.pz=b;this.I=new H(this);y(this,this.I);this.I.listen(this.pz,"lg",this.Vqa);this.I.listen(this.CAa,["uiOpened","aclInfoUpdated"],this.Qrb)}w(A$,x);A$.prototype.Qrb=function(){var a=this.CAa.og;if(a){var b=this.pz;b.Zb=a;b.fca&&b.xF.sendMessage(new v$(a))}};A$.prototype.Vqa=function(){this.CAa.mv("refresh")};function B$(a,b,c,d,f,g){this.PNa=a;this.yj=b;this.$Q=c;this.Jf=d;this.aA=f||null;this.QNa=g||null}B$.prototype.getMessage=function(){return this.yj};B$.prototype.TE=function(){return this.aA};B$.prototype.rb=function(){var a={};a.iconId=this.PNa;a.learnMoreUrl=this.TE();a.message=this.getMessage();a.showInDialog=this.$Q;a.timeout=this.Jf;a.undoFn=this.QNa;return a};function m2a(a,b){this.byb=a;this.ja=b||wf();this.kB=null;this.$Q=!1;this.OE=0}w(m2a,x);
function n2a(a,b,c){var d,f=b.PNa;switch(f){case "copy":d="share-butter-copy-icon";break;case "specificPeople":d="share-butter-specific-people-icon";break;case "personLink":d="share-butter-person-link-icon"}a.kB&&a.yra();var g=a.ja,h=g.C("SPAN");d&&"none"!=f&&(d=g.C("SPAN",["apps-share-sprite","share-butter-icon",d]),g.append(h,d));d=g.C("SPAN","share-butter-message",b.getMessage());g.append(h,d);if(d=b.TE())d=g.C("A",{target:"_blank",href:d,"class":"share-butter-link",tabIndex:"0"},"Learn more"),
g.append(h,"\u00a0","\u00a0"),g.append(h,d);var k=b.QNa;k&&(d=g.C("SPAN",{"class":"share-butter-link",tabIndex:"0"},"Undo"),d.onclick=function(){k();this.onclick=da},g.append(h,"\u00a0","\u00a0"),g.append(h,d));a.kB=g.C("DIV",["share-butterbar-container","share-butterbar-top","share-butterbar-zindex"]);h=new yX(h,g);h.render(a.kB);O(h.o(),"live","off");h.N(!0);a.$Q=b.$Q;g.appendChild(a.$Q&&c?c:document.body,a.kB);o2a(a,a.kB,c);a.OE=window.setTimeout(t(a.yra,a),b.Jf)}
m2a.prototype.yra=function(){this.kB&&(Sf(this.kB),this.kB=null,delete this.kB,window.clearTimeout(this.OE))};function o2a(a,b,c){var d=parseInt(Zm(b,"width"),10);if(a.$Q&&c){var f=parseInt(Zm(c,"left"),10),g=parseInt(Zm(c,"top"),10);c=parseInt(Zm(c,"width"),10);var h=parseInt(Zm(b,"height"),10);bn(b,f+(c-d)/2,a.byb?0:g+h/2)}else b.style.left="50%",b.style.marginLeft=-(d/2)+"px"};function C$(a){Ys.call(this,void 0,!1,a);gt(this,!1);this.AZ=!0;this.jc(null);pt(this,"")}w(C$,Ys);C$.prototype.N=function(a){var b=this.o(),c=this.D();Mm(b,"share-client-offscreen",!a);a!=this.u8&&ct(this,a);a?(this.Pb(),C$.A.N.call(this,!0)):(b.style.right="",b.style.left="",b.style.top="");for(var c=lg(c,"iframe",null,this.ka()),d=0;d<c.length;d++)c[d].tabIndex=a?"0":"-1";b.tabIndex=a?"0":"-1";this.Od.tabIndex=a?"0":"-1";b.setAttribute("aria-hidden",!a);a||this.dispatchEvent("mg")};
C$.prototype.J=function(){C$.A.J.call(this);var a=hM(this);a&&O(a,"hidden",!0)};function D$(a){I.call(this);this.ja=a||wf()}w(D$,I);e=D$.prototype;e.hJ=null;e.I=null;e.pb=!1;e.ma=function(){return this.I||(this.I=new H(this))};e.D=function(){return this.ja};e.init=function(){this.nc()||(this.Caa(),this.pb=!0)};e.nc=function(){return this.pb};e.Jdb=function(){this.dispatchEvent("errorHidden")};e.Kdb=function(){this.dispatchEvent("errorShown")};
e.kT=function(a,b){var c=this.hJ;a&&(c||(this.hJ||(c=new Ys(void 0,!0,this.D()),c.render(),c.jc(kt()),c.setTitle(""),this.ma().listen(c,"hide",this.Jdb).listen(c,"show",this.Kdb),pt(c,it.key),P(c.o(),"share-client-error-dialog"),this.hJ=c),c=this.hJ),$s(c,po(b||"")));c&&c.N(a)};e.F=function(){z(this.hJ);z(this.I);D$.A.F.call(this)};e.Caa=da;e.C5a=da;e.iea=da;function E$(a){D$.call(this,a);this.gb=new C$(a);this.ma().listen(this.gb,"dialogselect",this.yh).listen(this.gb,"mg",this.OJ);this.zWa=!1;this.aua=new m2a(!1,a);y(this,this.aua)}w(E$,D$);e=E$.prototype;e.Iw=null;e.yh=function(){this.N(!1);this.dispatchEvent("uiContainerClose");return!1};e.OJ=function(){this.dispatchEvent("uiContainerClose")};e.Qgb=function(a){this.osa(a.target)&&(this.gb.o().blur(),this.gb.o().focus())};e.osa=function(a){return ag(this.gb.o(),a)};
e.Caa=function(){var a=this.gb;a.na||a.render();P(a.o(),"share-client-dialog");this.ma().listen(a.o(),"click",this.Qgb);R(a.o(),!0);this.N(!1)};e.$=function(){return this.zWa};e.N=function(a){var b=this.gb;b.na||this.init();b.N(a);this.zWa=a;this.aua.yra()};
e.C5a=function(a){var b=this.Iw;a&&!b&&(b=new Ys(void 0,!0,this.D()),$s(b,V('<div class="share-client-loading-contents"><div class="share-client-spinner"> </div></div>').vA()),b.jc(null),b.setTitle("Loading..."),this.ma().listen(b,"hide",this.Gdb),this.Iw=b,b.render(),P(b.o(),"share-client-loading-dialog"));b&&b.N(a)};e.iea=function(){this.gb.focus()};e.Gdb=function(){this.dispatchEvent("uiContainerCancelLoad")};e.xb=function(a){$s(this.gb,a)};
e.setTitle=function(a,b){var c=lg(this.D(),"IFRAME",void 0,this.gb.ka());0<c.length&&(c[0].title=a);Mm(jM(this.gb),"share-client-dialog-hidden-title",b);this.gb.setTitle(b?"":a)};e.resize=function(a,b){var c=this.gb.ka();c.style.width=a+"px";c.style.height=b+"px";this.tE();F&&(c=Gf(document),pc(8)&&c||(c=c?0:18,this.gb.o().style.width=a+c+"px"))};e.tE=function(){var a=Ff().height;if(a){var b=this.gb.o(),c=xn(b).height;if(0<pn(b)+c-a){var d="fixed"==an(b)?0:og(this.D()).y;Q(b,"top",a-c+d+"px")}}};
e.F=function(){z(this.gb);z(this.Iw);E$.A.F.call(this)};function F$(a){E$.call(this,a);this.vk={}}w(F$,E$);var G$={HQb:"bottom",jUb:"top"};e=F$.prototype;e.Re=to;e.dNa=!0;e.rK=null;e.Kaa=null;e.jX=null;e.rUa="";e.ke="";
e.Caa=function(){F$.A.Caa.call(this);var a=this.D(),b=this.gb.ka(),c=a.C("div"),d=a.C("div");bp(d,this.Re);d.className="share-client-panel-dialog-share";var f={},g;for(g in G$)g=G$[g],f[g]=a.C("div");a.appendChild(b,f.top);a.appendChild(b,c);a.appendChild(b,d);a.appendChild(b,f.bottom);this.rK=d;c.className="share-client-panel-dialog-overlay";this.Kaa=c;this.dNa=a=this.dNa;if(b=this.Kaa){if(!a){var c=xn(this.rK),d=c.height,h=this.Kaa;h.style.width=c.width+"px";h.style.height=d+"px"}R(b,!a);zn(this.rK,
a?1:.5)}this.jX=f;for(g in G$)g=G$[g],f[g].className="share-client-panel-dialog-component-"+g,(a=this.vk[g])&&a&&g&&a.render(this.jX[g])};e.N=function(a){F$.A.N.call(this,a);a&&this.gb.focus()};e.setTitle=function(a,b){this.ke=a;this.rUa&&(a=a+" - "+this.rUa);F$.A.setTitle.call(this,a,b)};e.xb=function(a){this.Re=a;this.rK&&bp(this.rK,a)};e.osa=function(a){if(!F$.A.osa.call(this,a))return!1;for(var b in G$)if(b=G$[b],ag(this.jX[b],a))return!1;return!0};
e.Woa=function(a,b){var c=this.vk[b];this.vk[b]=a;this.ma().listen(a,"resize",this.hj);this.nc()&&a&&b&&a.render(this.jX[b]);return c?(c.Ua(),c.o()&&Sf(c.o()),c):null};e.hj=function(){var a=xn(this.rK);this.resize(a.width,a.height)};e.resize=function(a,b){var c=this.rK;c.style.width=a+"px";c.style.height=b+"px";c=this.Kaa;c.style.width=a+"px";c.style.height=b+"px";var c=0,d;for(d in G$){d=G$[d];var f=this.vk[d];!f||"top"!=d&&"bottom"!=d||(f.Hi(a),c+=f.If())}F$.A.resize.call(this,a,b+c)};
e.F=function(){for(var a in G$)a=G$[a],z(this.vk[a]);this.jX=this.vk=null;F$.A.F.call(this)};function p2a(){this.Ozb=this.EE("share-email-attachment","Email as attachment...");this.Pzb=this.EE("share-email-collaborators","Email collaborators...");this.Jr=this.EE("share-share","Share...")}var H$=null;p2a.prototype.EE=function(a,b){var c={};c.label=b;c.visible=!0;c.hint=b;return new XM(a,c)};function I$(a){x.call(this);this.qha=a.userRole||0;this.RT=null!=a.maxAnyoneRole?a.maxDomainRole:30;this.ST=null!=a.maxAnyoneRole?a.maxDomainRole:30;this.pCb=!!a.editorsCanInvite;this.uCb=a.numSharedUsers||0;this.RG=!!a.sharingDisabled;this.xCb=a.userDomain||Zi;var b=a.itemDomains;this.tCb=bb(ha(b)?b:[b||null],function(a){return a||Zi});b=a.sharingPolicies;b=ha(b)?b:[b||null];this.pxb=bb(b,function(a){return a||bj});this.oBa=!!a.exportable;this.EM=a.visibilitySetting||null;this.Ly=a.shareableUrl||
null;this.pBa=!!a.requestShareEnabled}w(I$,x);e=I$.prototype;e.Ry=function(){return this.qha};e.Qja=function(){return this.pCb};e.mEa=function(){return this.uCb};e.oEa=function(){return this.xCb};e.lEa=function(){return this.tCb};e.um=function(){return this.EM};e.hU=function(a){this.EM=a};
e.rb=function(){var a={};a.userRole=this.Ry();a.editorsCanInvite=this.Qja();a.numSharedUsers=this.mEa();a.sharingDisabled=this.RG;a.userDomain=this.oEa().rb();a.itemDomains=bb(this.lEa(),function(a){return a.rb()});a.sharingPolicies=bb(this.pxb,function(a){return a.rb()});a.maxAnyoneRole=this.RT;a.maxDomainRole=this.ST;a.exportable=this.oBa;this.um()&&(a.visibilitySetting=this.um().rb());a.shareableUrl=this.Ly;a.requestShareEnabled=this.pBa;return a};
function q2a(a){a=Wb(a);var b=a.userDomain;b&&(a.userDomain=Vi(b));b=a.itemDomains;b=ha(b)?b:[b||null];a.itemDomains=bb(b,function(a){return a?Vi(a):a});b=a.sharingPolicies;b=ha(b)?b:[b||null];a.sharingPolicies=bb(b,function(a){return a?aj(a):a});(b=a.visibilitySetting)&&(a.visibilitySetting=uj(b));return new I$(a)};function J$(a,b){x.call(this);this.Ve=a;this.Rfa=b;this.Oka=[];this.T3a=t(this.qk,this);window.addEventListener("message",this.T3a,!1);this.Ok=new E}w(J$,x);J$.prototype.qk=function(a){if(a.origin==this.Rfa){var b=sd(a.data),c=b.args;if(b=this.Ok.get(b.type))this.Ve=a.source,this.Oka&&(B(this.Oka,function(a){this.sendMessage(a.ACb,a.BCb)},this),this.Oka=[]),b.call(null,c)}};J$.prototype.fk=function(a,b,c){this.Ok.set(a,t(b,c))};
J$.prototype.sendMessage=function(a,b){if(this.Ve){var c={};c.type=a;b&&(c.args=b);this.Ve.postMessage(ud(c),this.Rfa)}else this.Oka.push({ACb:a,BCb:b})};J$.prototype.F=function(){window.removeEventListener("message",this.T3a,!1)};function K$(a,b,c,d,f,g,h,k,m,q,s,v,A,C,ga){I.call(this);this.uu=a;this.Zh=s||new E$(d);this.Toa=v||window;(a=f)?a.sc()&&a.Hf(new Tw(d),0,!0):(a=Sw.Q(),a=new Uw(d,a));d=a.o();d||(a.C(),d=a.o());P(d,"goog-menu-noaccel");this.L$a&&a.N(!1);this.pI=a;d=Fq.Q();(this.ima=new Pw(this.J$a,void 0,void 0,d)).setEnabled(!1);(this.E7=new Pw(this.K$a,void 0,void 0,d)).setEnabled(!1);this.HJ=b;this.b8=c;this.z$a=q||b;this.Ji=new I$({});this.ja=a.D();this.Ud=k||null;this.y$a=p(m)?m:!0;this.cJa=new bV;t:switch(h||
"classic"){case "classic":b=1;break t;case "stjw":case "jfk":b=Math.max(1,2);break t;default:throw Error("Unknown share UI");}this.dq=b;t:switch(h||"classic"){case "classic":case "stjw":h="1";break t;case "jfk":h="2";break t;default:throw Error("Unknown share UI");}this.lLa=h;this.ci=C||null;this.hY=!!A;this.kLa=A||null;this.x$a=ga||null;this.sLa=null;this.sLa=this.ja.o("docs-aria-speakable");this.hY||r2a(this,this.Toa);A=s2a(this);A.listen(a,"show",this.N$a);A.listen(a,"action",this.CJa);A.listen(this.Zh,
"uiContainerCancelLoad",this.M$a);A.listen(this.Zh,"uiContainerClose",this.O$a);A.listen(this.Zh,"errorHidden",this.P$a);A.listen(this.Zh,"errorShown",this.hpa)}w(K$,I);e=K$.prototype;e.wvb=!1;e.L$a=!0;e.cEb=!0;e.Qia=null;e.a_=null;e.Qi=null;e.oB=!1;e.kN=!1;e.Saa=null;e.IQ=null;e.i7a=null;e.I=null;e.og=null;e.Jja=!1;e.dja=null;e.lDa=!1;e.XM=!1;e.dw=!1;e.B5a=!1;e.sV=null;e.Ria=0;e.C_a=!1;e.Ke=null;e.Qca=0;e.zra=null;e.vK=null;e.DCa=!1;e.dCb=!1;e.p0=!1;e.A1a=!1;e.J$a="Loading...";e.K$a="Sharing is unavailable at this time. Please try again later.";
e.WCb="Sorry, sharing is unavailable at this time. Please try again later.";e.mw=null;
function r2a(a,b){a.hY||(b.SC_setTitle=t(a.B4,a),b.SC_resize=t(a.Zh.resize,a.Zh),b.SC_setVisible=t(a.U0a,a),b.SC_prepareForVisible=t(a.bDa,a),b.SC_setAclInfo=t(a.h3a,a),b.SC_setClientModel=t(a.h3a,a),b.SC_dispatchEvent=t(a.sH,a),b.SC_handleError=t(a.zf,a),b.SC_handleCommandComplete=t(a.T0a,a),b.SC_setExecuteCommandFn=t(a.sAb,a),b.SC_setSetShareSystemVisibleFn=t(a.uAb,a),b.SC_setGetInterfaceVersionNumberFn=t(a.tAb,a),b.SC_getVersionNumber=t(a.pAb,a),b.SC_rewriteUrl=t(a.rAb,a),b.SC_showNotification=
t(a.vAb,a),b.SC_getAriaLiveRegion=t(a.oAb,a))}
function t2a(a){if(a.hY&&!a.mw){var b=Xc(a.Qi.clone().lj("").Fe(""),"").toString();a.mw=new J$(null,b);a.mw.fk("handleCommandComplete",function(a){this.T0a(a.commandType,a.commandStatus)},a);a.mw.fk("resize",function(a){this.Zh.resize(a.width,a.height);this.mw.sendMessage("resizeComplete")},a);a.mw.fk("prepareForVisible",function(){this.bDa();this.mw.sendMessage("makeBodyVisible");this.mw.sendMessage("prepareComplete")},a);a.mw.fk("setVisible",function(a){this.U0a(a.visible)},a);a.mw.fk("setTitle",
function(a){this.B4(a.title,a.hidden)},a);a.Saa=t(function(a){this.mw.sendMessage("executeCommand",{commandType:a})},a)}}function u2a(a){var b={};b.impressionType=a;return b}e.UF=function(a){if(this.Qi)throw Error("Base uri has already been set and cannot be set again.");r(a)&&(a=new Rc(a));this.Qi=a;this.hY&&t2a(this)};e.pAb=function(){return 2};
e.h3a=function(a){var b=this.Ji;this.Ji=q2a(a);this.oB&&b.Ly!=this.Ji.Ly&&(this.DCa=!0);this.oB=!0;this.XM=!1;L$(this);a=this.Ji;this.Ria=ZU(this.ja).length;CIa(this.pI,a.Ry(),a.RG,v2a(this),a.oBa&&this.C_a,this.og.length,this.ja,a.pBa,!!a.Ly);this.sH("menuUpdated");this.aCa();this.vK&&this.vK.hU(this.Ji.um());this.sH("aclInfoUpdated")};
e.N$a=function(){if(this.og&&this.og.length)this.oB?w2a(this):(this.pI.$()||this.pI.N(!0,!0),this.ega(!0));else{L$(this);for(var a=ZU(this.ja),b=a.length-1;0<=b;b--)M$(this,a[b])}};e.zf=function(a,b){switch(a){case "init":L$(this);if(b){var c=Fq.Q(),c=new Pw(Nf(document,b),void 0,void 0,c);c.setEnabled(!1);M$(this,c)}else M$(this,this.E7);this.oB=this.p0=!0}};
e.T0a=function(a,b){var c="success"==b;switch(a){case "init":x2a(this);break;case "init_share":case "data":t:{c&&(this.Qca=u()),this.dw=!1;var d=this.sV,f=this.V5;if(this.Jja)if(this.Jja=!1,this.og=this.r1a,delete this.r1a,this.sV=null,delete this.V5,delete this.Nja,c){if(d){f.itemIds=this.og;y2a(this,d,f);break t}}else"maybe_show_acl_fixer"==d&&z2a(this);N$(this,!1);d&&(c?(c=t(this.cEa,this,d,this.V5,this.Nja),J(c,10,this)):"maybe_show_acl_fixer"==d&&z2a(this),this.sV=null,delete this.V5,delete this.Nja)}}};
e.tAb=function(){};e.sAb=function(a){this.kN=!0;this.Saa=a};e.uAb=function(a){this.IQ=a};e.rAb=function(a){return this.i7a?this.i7a(a):a};e.vAb=function(a){var b=this.Zh;n2a(b.aua,new B$(a.iconId,a.message,a.showInDialog,a.timeout,a.learnMoreUrl,a.undoFn),b.gb.o())};e.B4=function(a,b){this.Zh.setTitle(a,b)};e.Ry=function(){return this.Ji.Ry()};e.Qja=function(){return this.Ji.Qja()};e.oEa=function(){return this.Ji.oEa()};e.lEa=function(){return this.Ji.lEa()};e.mEa=function(){return this.Ji.mEa()};
function v2a(a){var b=a.Ji.Ry();return a.Ji.RG?!1:40==b||30==b&&a.Ji.Qja()}e.um=function(){return this.Ji.um()};e.hU=function(a){this.Ji.hU(a);this.vK&&this.vK.hU(this.Ji.um())};e.oAb=function(){return this.sLa};
e.ega=function(a,b,c){this.og&&!hb(this.og)&&(this.Zh.$()?this.Qia=t(this.ega,this,a,b):(a&&(L$(this),M$(this,this.ima),J(this.yvb,1E4,this)),this.XM||(this.kN?(this.XM=!0,A2a(this,c,!0)):(this.XM=!0,this.wvb?(this.dw=!0,B2a(this,!0)):(this.lDa=!0,b=this.dja,b||(b=Lf("iframe"),b.src='javascript:""',c=b.style,c.visibility="hidden",c.width=c.height="10px",lc?c.marginTop=c.marginLeft="-99px":(c.position="absolute",c.top=c.left="-10px"),document.body.appendChild(b),this.dja=b),b.src=C2a(this,"init"),
J(this.xvb,25E3,this),a&&w2a(this))))))};function w2a(a){if(a.cEb&&!a.p0)if(a.dw||a.kN){var b;if(b=a.kN)b=2E4<u()-a.Qca;b&&(a.dw=!0,A2a(a,void 0,!0))}else a.dw=!0,B2a(a,!0)}function B2a(a,b){var c={};c.preload=!!b;c=a.Qi&&C2a(a,"init_share",c);c=V('<iframe frameborder="0" src="'+(c?W(Pp(c)):"javascript:&quot;&quot;")+'" class="share-client-content-iframe"></iframe>').vA();a.Zh.xb(c);b||N$(a,!0);a.bDa()}function A2a(a,b,c){b=b||{};b.itemIds||(b.itemIds=a.og);a.cEa("data",b,void 0,c)}
function L$(a){for(var b=a.pI,c=a.Ria,d=0;d<c;d++)b.rE(0,!0);a.Ria=0;a.sH("menuUpdated")}function M$(a,b){b.getParent()||(a.pI.Hf(b,0,!0),a.Ria++,a.sH("menuUpdated"))}function s2a(a){return a.I||(a.I=new H(a))}
function C2a(a,b,c){if(!a.Qi)return'javascript:""';var d=a.Qi.clone();ad(d,"id",a.og);ad(d,"foreignService",a.HJ);ad(d,"gaiaService",a.b8);ad(d,"shareService",a.z$a);ad(d,"shareProtocolVersion",a.dq);ad(d,"command",b);ad(d,"subapp",10);ad(d,"popupWindowsEnabled",a.y$a);ad(d,"shareUiType","default");a.Ud&&ad(d,"hl",a.Ud);a.uu&&ad(d,"authuser",a.uu);ad(d,"rand",u());c&&d.wi().extend(c);"0"!=a.lLa&&ad(d,"theme",a.lLa);a.hY&&ad(d,"client","postMessage");a.ci&&ad(d,"appId",a.ci);a.kLa&&ad(d,"embedOrigin",
a.kLa);return d.toString()}
e.mv=function(a,b){b=b||{};b.itemIds=this.og;r2a(this,this.Toa);var c=!0;switch(a){case "init":case "load_acl_fixer_data":case "maybe_email_collaborators":case "maybe_show_acl_fixer":case "preload_share":case "refresh":c=!1}switch(a){case "load_acl_fixer_data":case "maybe_show_acl_fixer":D2a(this,!0)}if(!this.kN&&this.og&&15<this.og.length)this.r1a=this.og,this.og=[this.og[0]],this.Jja=!0,y2a(this,a,b,!c);else if("init"==a||"refresh"==a)this.ega(!1,!0,b);else if(!this.og||!this.og.length)this.dispatchEvent(new E2a(t(this.mv,
this,a,b)));else if(this.dispatchEvent(new F2a)){if("invite"==a&&b.inviteFromUrl){if(this.oB&&!v2a(this))return;if(!this.oB){this.XM||this.ega(!1,!0);s2a(this).mb(this,"aclInfoUpdated",t(this.mv,this,a,b));return}}var d;if(!(d=!this.kN)&&(d=2E4<u()-this.Qca)){t:switch(d=b&&!!b.forceFullLoad,a){case "load_acl_fixer_data":case "maybe_show_acl_fixer":d=!d;break t;case "preload_share":d=!0;break t;default:d=!1}d=!d}d?(this.Jja&&c&&N$(this,!0),y2a(this,a,b,!c)):this.cEa(a,b)}};
function y2a(a,b,c,d){a.sV=b;a.V5=c;a.Nja=(new Date).getTime();ka(a.a_)&&K(a.a_);a.a_=J(a.tDb,25E3,a);a.dw||(a.dw=!0,a.kN?A2a(a,c,"load_acl_fixer_data"==b||"maybe_show_acl_fixer"==b):B2a(a,d))}e.cEa=function(a,b,c,d){if("preload_share"!=a){b=b||{};b.itemIds||(b.itemIds=this.og);if("maybe_show_acl_fixer"==a||"load_acl_fixer_data"==a)b.aclFixerMode=b.aclFixerMode||"mail",b.aclFixerModeInternal="mail";r2a(this,this.Toa);this.Saa(a,b,c,d)}};function x2a(a){var b=a.dja;b&&(Sf(b),a.dja=null)}
e.xvb=function(){this.lDa&&(x2a(this),this.lDa=!1)};e.yvb=function(){this.XM&&!this.p0&&(L$(this),M$(this,this.E7),this.XM=!1,this.p0=!0)};e.tDb=function(){if(this.dw){switch(this.sV){case "maybe_show_acl_fixer":z2a(this);break;case "load_acl_fixer_data":case "preload_share":break;default:this.Zh.kT(!0,this.WCb)}this.sH("loadError");G2a(this)}};e.M$a=function(){this.B5a&&G2a(this)};function G2a(a){a.dw&&(H2a(a,!1),a.Zh.xb(to),a.dw=!1,N$(a,!1),a.sV=null,delete a.V5,delete a.Nja)}
function N$(a,b){a.B5a=b;var c=a.Zh;b&&c.dispatchEvent("beforeLoad");c.C5a(b);b||c.dispatchEvent("afterLoad");b&&a.hpa()}e.CJa=function(a){switch(a.target.Z()){case "access":this.mv("access");break;case "email":this.mv("email",u2a(5));break;case "emailAttach":this.mv("email_attach",u2a(6));break;case "invite":this.mv("invite");break;case "link":this.mv("link");break;case "settings":this.mv("settings",u2a(2))}};
e.aCa=function(){var a=this.Ji,b=H$||(H$=new p2a),c=this.A1a||a.RG,d=v2a(this),f=this.x$a||void 0,g=1==this.og.length,h=30<=a.Ry(),k=!c&&(h||d)&&g,d=!c&&(d||h||g&&a.pBa),a=!c&&g&&a.oBa&&this.C_a;f?f.fNb(a,k,d):(b.Ozb.setEnabled(a),b.Pzb.setEnabled(k),b.Jr.setEnabled(d))};e.U0a=function(a){a&&(this.dw=!1,N$(this,!1),this.Zh.kT(!1));H2a(this,a)};e.bDa=function(){this.Zh.init()};function H2a(a,b){b&&a.Zh.init();a.Zh.N(b);b?a.hpa():I2a(a)}
function D2a(a,b){a.A1a=b;a.oB?a.aCa():((H$||(H$=new p2a)).Jr.setEnabled(!b),s2a(a).mb(a,"aclInfoUpdated",t(a.aCa,a)))}e.hpa=function(){this.dispatchEvent("uiOpened")};function I2a(a){a.Qia&&(a.Qia(),a.Qia=null);if(a.DCa){a.DCa=!1;var b=a.Ji.Ly,c=a.Ji.um();b&&c&&"unlisted"==c.ZB()&&(b=new J2a(b),a.dCb?K2a(b):a.dispatchEvent(b))}a.IQ&&a.IQ(!1);a.dispatchEvent("uiClosed")}e.O$a=function(){this.IQ&&this.IQ(!1)};e.P$a=function(){this.Zh.$()||I2a(this)};
function z2a(a){D2a(a,!1);a.dispatchEvent(new O$("continue"))}e.sH=function(a,b){switch(a){case "aclFixerDone":var c="continue";b&&b.aclFixerDoneStatus&&(c=b.aclFixerDoneStatus);D2a(this,!1);this.dispatchEvent(new O$(c));break;default:this.dispatchEvent(new G(a))}};
e.F=function(){K$.A.F.call(this);ka(this.a_)&&K(this.a_);this.pI.R();delete this.pI;this.zra&&(this.zra.R(),delete this.zra);this.vK&&(this.vK.R(),this.vK=null);this.ima.R();delete this.ima;this.E7.R();delete this.E7;delete this.ja;this.cJa.R();delete this.cJa;this.Zh.R();delete this.Zh;this.I&&(this.I.R(),this.I=null);this.Ke&&(this.Ke.R(),this.Ke=null);this.Qi=this.og=null;this.Ji.R();delete this.Ji;this.IQ=this.Saa=null};function F2a(){G.call(this,"beforeExecute")}w(F2a,G);
function E2a(a){G.call(this,"createItems");this.sd=a}w(E2a,G);function J2a(a){G.call(this,"reloadSuggested");this.rvb=a}w(J2a,G);function K2a(a){var b=CM(ed(a.rvb),"authkey"),c=window,d=BM(ed(c.location.href),"userstoinvite");b&&ad(d,"authkey",b);var f=d.toString();f!=ed(c.location.href).toString()&&((a=a.target)&&a.R(),c.setTimeout(function(){c.location.href=f},0))}function O$(a){G.call(this,"aclFixerDone");this.mf=a}w(O$,G);O$.prototype.getStatus=function(){return this.mf};function P$(a){ut.call(this,a);this.Pua={};a=Xu(this.getContext());this.ma().listen(a,"qa",this.Mg);this.mda=!1}w(P$,CP);e=P$.prototype;e.NJ=null;e.BY=null;e.rg=null;
e.execute=function(a){var b=a[0],c=a[1],d=a[2];a=a[3];var f=this.getContext(),g;g=b&&r(b)?(b=Xk(b))?[b]:[]:b?[b]:Rt(this.getContext().Y);b=g.length;if(0==b)UL(this.hf());else{this.NJ=new Ld;f.H();for(f=0;f<b;f++){var h=g[f];ok(h,"shareable")||this.NJ.add(h.getId())}f=this.NJ.ra();if(h=EIa(g)){var k;if(!this.Pua[h]){var m=this.getContext().H(),q=void 0,s=null!=L(m,64)?L(m,64):!1;s&&(q=new F$,k=new z$,q.Woa(k,"top"));q=this.Pua[h]=new K$(m.Ef(),m.Seb,m.b8,void 0,void 0,0,h,void 0,void 0,void 0,q);null!=
L(m,124)&&L(m,124)?q.UF("/sharing/share"):q.UF("share");s&&(k=new A$(q,k.pz),y(this,k));this.ma().listen(q,"aclInfoUpdated",this.Nhb);this.ma().listen(q,"uiClosed",this.Ohb)}k=this.Pua[h];h=[];for(m=0;m<g.length;m++)h.push(g[m].yd);g=ha(h)?h:[h];tb(g);ub(g);h=k.og;k.oB&&wb(g,h)||(k.og=g,k.oB=!1,k.p0=!1,k.Qca=0,k.mv("refresh"),k.Zh.$()&&H2a(k,!1));p(d)?(this.mda=!a,k.CJa(d)):0<f?b==f?DP(this,"em",1==b?"You do not have permission to share the item selected.":"You do not have permission to share the items selected."):
(c=this.BY,c||(c=this.BY=new Ys,a=new dt,a.set("ok","OK",!0),a.set("cancel","Cancel",!1,!0),c.jc(a),R(jM(c),!1),this.ma().listen(c,"dialogselect",this.Mhb)),c.xb("You do not have permission to share "+(f+" of the items selected. Click OK to select only the sharable items.")),c.N(!0)):(d={},c&&n.parent==n&&null==n.frameElement&&(b={},c&&(b.recipient=c),d.notificationInfo=b),this.mda=!a,k.mv("invite",d))}else Os(this.getContext()).wc("The selected items can not be shared together. Please select one and try again,",
"m")}};e.Mhb=function(a){switch(a.key){case "ok":this.getContext().Y.WF(this.NJ)}};e.Nhb=function(a){a.target&&(a=a.target.og)&&0<a.length&&(this.rg=new aB(a),jm(Xu(this.getContext()),this.rg))};e.Mg=function(a){if(this.rg&&this.rg.pa()==a.request.pa()){a=a.response;var b=a.ip()||ns(Os(this.getContext()));a.getError()?DP(this,"em",b):(b=this.rg.Zb,b.length!=a.Db().length&&(a=bb(a.Db(),function(a){return a.getId()}),b=new Ld(b),b.removeAll(a),a=b.Pa(),a=Yk(a),SL(this.hf(),a,this.utb)))}};
e.Ohb=function(){this.mda&&(iH(this.getContext()).dispatchEvent("r"),this.mda=!1)};e.utb=function(a){a.a3("deleted",!0)};e.F=function(){P$.A.F.call(this);this.NJ&&(this.NJ.clear(),this.NJ=null);this.BY&&(this.BY.R(),delete this.BY);this.rg=null};wt(38,function(a){return new P$(a)});function L2a(){x.call(this)}w(L2a,uX);L2a.prototype.initialize=function(){};we(ve.Q(),"appsshare").rw(L2a);ve.Q().Lu("appsshare");zM();
